// For license information, see `https://static.qcom-stg.qantastesting.com/ams02/a1055/11/dev/launch-staging/s3_public/current//a086326e8d0e/67ff493e223e/launch-938059e83191-staging.js`.
window._satellite=window._satellite||{},window._satellite.container={buildInfo:{minified:!0,buildDate:"2025-07-09T06:31:39Z",turbineBuildDate:"2024-08-22T17:32:44Z",turbineVersion:"28.0.0"},environment:{id:"EN94d0030c0c3c43db8cbb58f5d8f546f9",stage:"staging"},dataElements:{"Data Layer | Page Culture Country":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"page.culture.country"}},"Data Layer | Consent Necessary":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"consent.necessary"}},"URL | External Campaign ID":{cleanText:!0,modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"alt_cam",caseInsensitive:!0}},"Data Layer | Link Details":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e;return e=void 0===_satellite.getVar("Data Layer | Module")?"":_satellite.getVar("Data Layer | Module"),_satellite.getVar("Data Layer | Link Type")+"|"+e+"|"+_satellite.getVar("Data Layer | Link Text")}}},"XDM | Page View":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webPageDetails:{pageViews:{value:1}}}},sandbox:{name:"prod"}}},"Data Layer | Page Primary Category":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"page.category.primaryCategory"}},"Data Layer | Banner Placement":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"details.banner_placement"}},"Data Layer | Block Type":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"details.block_type"}},"Data Layer | Module":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"details.module"}},"XDM | Merge | Global Event + Tab Click":{modulePath:"core/src/lib/dataElements/mergedObjects.js",settings:{objects:["%XDM | Global Event%","%XDM | Tab Click%"]}},"XDM | Merge | Global Event + Block Card Click":{modulePath:"core/src/lib/dataElements/mergedObjects.js",settings:{objects:["%XDM | Global Event%","%XDM | Block Card Click%"]}},"Data Layer | CTA Text":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"details.cta_text"}},"Data Layer | Event":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"event"}},"Data Layer | Web | hostname":{modulePath:"core/src/lib/dataElements/pageInfo.js",settings:{attribute:"hostname"}},"Data Layer | Block Card Details":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t;return e=void 0===_satellite.getVar("Data Layer | Block Placement")?"":_satellite.getVar("Data Layer | Block Placement"),t=void 0===_satellite.getVar("Data Layer | CTA Text")?"":_satellite.getVar("Data Layer | CTA Text"),e+"|"+_satellite.getVar("Data Layer | Block Type")+"|"+_satellite.getVar("Data Layer | Card Title")+"|"+t}}},"Data Layer | Page Version":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"page.version"}},"XDM | Merge | Global Event + Nav Shopping Cart":{modulePath:"core/src/lib/dataElements/mergedObjects.js",settings:{objects:["%XDM | Global Event%","%XDM | Nav Shopping Cart Click%"]}},"XDM | Menu Click":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{URL:"%Data Layer | Click Through URL%",name:"%Data Layer | Menu Details%",type:"other",linkClicks:{value:1}}},_experience:{analytics:{event1to100:{event10:{value:1},event34:{value:1}},customDimensions:{eVars:{eVar156:"%Data Layer | Menu Details%",eVar157:"%Data Layer | Click Through URL%"},props:{prop10:"%Data Layer | Menu Details%",prop45:"%Data Layer | Click Through URL%"}}}}},sandbox:{name:"prod"}}},"XDM | Merge | Global Event + Link Click":{modulePath:"core/src/lib/dataElements/mergedObjects.js",settings:{objects:["%XDM | Global Event%","%XDM | Link Click%"]}},"Data Layer | Banner Type":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"details.banner_type"}},"Data Layer | Menu Text":{cleanText:!0,modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"details.text"}},QF_LOGINSTATUS:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e;try{e=qff_auth.isAuthenticated()}catch(e){}return-1!=document.cookie.indexOf("QF_VALUE")&&1==e?"hard login":-1!=document.cookie.indexOf("QF_VALUE")?"soft login":"not logged in"}}},"Data Layer | Page URL":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"page.url"}},"XDM | Global Event":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webPageDetails:{name:"%Data Layer | Page Name%",_qantas:{site:"%Data Layer | Page Site%",pageID:"%Data Layer | Page ID%",pageURL:"%Data Layer | Page URL%",division:"%Data Layer | Page Division%",pageVersion:"%Data Layer | Page Version%",pageTemplate:"%Data Layer | Page Template%",subCategory1:"%Data Layer | Page Sub Category 1%",subCategory2:"%Data Layer | Page Sub Category 2%",subCategory3:"%Data Layer | Page Sub Category 3%",pagePublishDate:"%Data Layer | Page Publish Date%",pageCultureCountry:"%Data Layer | Page Culture Country%"},siteSection:"%Data Layer | Page Primary Category%"}},_qantas:{User:{qffTier:"%Data Layer | User QFF Tier%",loginState:"%QF_LOGINSTATUS%",hashedQffId:"%Data Layer | User QFF Number%"},Journey:{language:"%Data Layer | Page Culture Language%",geoRegion:"%Data Layer | Page Culture Code%",journeyName:"%Data Layer | Page Journey Name%",journeyStep:"%Data Layer | Page Journey Step%"}},marketing:{trackingCode:"%URL | External Campaign ID%"},_experience:{analytics:{customDimensions:{eVars:{eVar1:"%Data Layer | Page Division%",eVar2:"%Data Layer | Asset Type%",eVar3:"%Data Layer | Page Sub Category 1%",eVar4:"%Data Layer | Page Sub Category 2%",eVar5:"%Data Layer | Page Name%",eVar6:"%Data Layer | Page Sub Category 3%",eVar11:"%Data Layer | User QFF Number%",eVar12:"%Data Layer | User QFF Tier%",eVar33:"%Data Layer | Page Journey Name%",eVar34:"%Data Layer | Page Journey Step%",eVar35:"%QF_LOGINSTATUS%",eVar37:"%Data Layer | Page URL%",eVar40:"%Data Layer | Page Referring URL%",eVar105:"%Data Layer | Web | Clean URL%",eVar106:"%Data Layer | Page Culture Code%",eVar107:"%Data Layer | Page Culture Language%",eVar142:"%Data Layer | Page ID%",eVar143:"%Data Layer | Page Version%",eVar144:"%Data Layer | Page Publish Date%",eVar145:"%Data Layer | Page Template%",eVar146:"%Data Layer | Page Site%",eVar147:"%Data Layer | Page Culture Country%"},props:{prop6:"%Data Layer | Page Journey Name%",prop7:"%Data Layer | Page Journey Step%",prop12:"%Data Layer | Asset Type%",prop20:"%Data Layer | Page Sub Category 1%",prop21:"%Data Layer | Page Sub Category 2%",prop22:"%Data Layer | Page Sub Category 3%",prop75:"Re-build"}}}}},sandbox:{name:"prod"}}},"Data Layer | Block Placement":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"details.block_placement"}},"XDM | Nav Shopping Cart Click":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"Persistent Cart - Open",type:"other",linkClicks:{value:1}}},_qantas:{Event:{eventType:"interaction",eventAction:"Persistent Cart - Open",eventCategory:"New Flight Booking"},Journey:{journeyName:"New Flight Booking",journeyStep:"Persistent Cart - Open"}},_experience:{analytics:{event1to100:{event10:{value:1}},customDimensions:{eVars:{eVar16:"Persistent Cart - Open",eVar17:"New Flight Booking",eVar19:"interaction",eVar33:"New Flight Booking",eVar34:"Persistent Cart - Open"},props:{prop6:"New Flight Booking",prop7:"Persistent Cart - Open",prop8:"New Flight Booking",prop9:"Persistent Cart - Open",prop11:"interaction"}}}}},sandbox:{name:"prod"}}},"Data Layer | Internal Campaign ID":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"details.internal_campaign_id"}},"Data Layer | Link Text":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"details.link_text"}},"Data Layer | Card Title":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"details.card_title"}},"Data Layer | Page ID":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"page.id"}},"Data Layer | User QFF Number":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"page.user.qffNumber"}},"Data Layer | Menu Details":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("Data Layer | Menu Type")+"|"+_satellite.getVar("Data Layer | Menu Level")+"|"+_satellite.getVar("Data Layer | Menu Text")}}},"Data Layer | Link URL":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"details.link_url"}},"Data Layer | Page Culture Language":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"page.culture.language"}},"XDM | Back To Top Click":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{type:"other",linkClicks:{value:1}}},_experience:{analytics:{event1to100:{event39:{value:1}}}}},sandbox:{name:"prod"}}},"Data Layer | Page Site":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"page.site"}},"Data Layer | Page Journey Step":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"page.journey.step"}},"Data Layer | Page Publish Date":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"page.publishDate"}},"Data Layer | Page Culture Code":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"page.culture.code"}},"Data Layer | Consent Functional":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"consent.functional"}},"Data Layer | Consent Performance":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"consent.performance"}},"XDM | Merge | Global Event + Back To Top Click":{modulePath:"core/src/lib/dataElements/mergedObjects.js",settings:{objects:["%XDM | Global Event%","%XDM | Back To Top Click%"]}},"Data Layer | Banner Details":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e;return e=void 0===_satellite.getVar("Data Layer | Banner CTA")?"":_satellite.getVar("Data Layer | Banner CTA"),_satellite.getVar("Data Layer | Banner Type")+"|"+_satellite.getVar("Data Layer | Banner Placement")+"|"+_satellite.getVar("Data Layer | Banner Name")+"|"+e}}},"Data Layer | Page Name":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"page.name"}},"Data Layer | Page Template":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"page.template"}},"Data Layer | Click Through URL":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"details.url"}},"Data Layer | Web | Clean URL":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("Data Layer | Web | hostname")+_satellite.getVar("Data Layer | Web | pathname")}}},"Data Layer | Consent Social Media":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"consent.socialmedia"}},"Data Layer | Page Journey Name":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"page.journey.name"}},"XDM | Block Card Click":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{URL:"%Data Layer | Click Through URL%",name:"%Data Layer | Block Card Details%",type:"other",linkClicks:{value:1}}},_experience:{analytics:{event1to100:{event10:{value:1},event35:{value:1}},customDimensions:{eVars:{eVar104:"%Data Layer | Internal Campaign ID%",eVar156:"%Data Layer | Block Card Details%",eVar157:"%Data Layer | Click Through URL%"},props:{prop10:"%Data Layer | Block Card Details%",prop45:"%Data Layer | Click Through URL%"}}}}},sandbox:{name:"prod"}}},"Data Layer | Banner Name":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"details.banner_name"}},"Data Layer | Menu Type":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"details.menu_type"}},"XDM | Return Home Click":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{URL:"%Data Layer | Click Through URL%",type:"other",linkClicks:{value:1}}},_experience:{analytics:{event1to100:{event40:{value:1}},customDimensions:{eVars:{eVar157:"%Data Layer | Click Through URL%"},props:{prop45:"%Data Layer | Click Through URL%"}}}}},sandbox:{name:"prod"}}},"XDM | Merge | Global Event + Banner Click":{modulePath:"core/src/lib/dataElements/mergedObjects.js",settings:{objects:["%XDM | Global Event%","%XDM | Banner Click%"]}},"XDM | Link Click":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{URL:"%Data Layer | Link URL%",name:"%Data Layer | Link Details%",type:"other",linkClicks:{value:1}}},_experience:{analytics:{event1to100:{event10:{value:1},event36:{value:1}},customDimensions:{eVars:{eVar104:"%Data Layer | Internal Campaign ID%",eVar156:"%Data Layer | Link Details%",eVar157:"%Data Layer | Link URL%"},props:{prop10:"%Data Layer | Link Details%",prop45:"%Data Layer | Link URL%"}}}}},sandbox:{name:"prod"}}},"Data Layer | Banner CTA":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"details.banner_cta"}},"Data Layer | User QFF Tier":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"page.user.qffTier"}},"Data Layer | Page Sub Category 3":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"page.category.subCategory3"}},"Data Layer | Consent Targeting":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"consent.targeting"}},"Data Layer | Page Division":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"page.division"}},"XDM | Tab Click":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"%Data Layer | Tab Name%",type:"other",linkClicks:{value:1}}},_experience:{analytics:{event1to100:{event10:{value:1},event38:{value:1}},customDimensions:{eVars:{eVar156:"%Data Layer | Tab Name%"},props:{prop10:"%Data Layer | Tab Name%"}}}}},sandbox:{name:"prod"}}},"Data Layer | Menu Level":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"details.menu_level"}},"XDM | Banner Click":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"%Data Layer | Banner Details%",type:"other",linkClicks:{value:1}}},_experience:{analytics:{event1to100:{event10:{value:1},event37:{value:1}},customDimensions:{eVars:{eVar104:"%Data Layer | Internal Campaign ID%",eVar156:"%Data Layer | Banner Details%"},props:{prop10:"%Data Layer | Banner Details%"}}}}},sandbox:{name:"prod"}}},"XDM | Merge | Global Event + Return Home Click":{modulePath:"core/src/lib/dataElements/mergedObjects.js",settings:{objects:["%XDM | Global Event%","%XDM | Return Home Click%"]}},"XDM | Merge | Global Event + Menu Click":{modulePath:"core/src/lib/dataElements/mergedObjects.js",settings:{objects:["%XDM | Global Event%","%XDM | Menu Click%"]}},"Data Layer | Tab Name":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"details.tab_name"}},"Data Layer | Asset Type":{modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"Web"}},"Data Layer | Page Referring URL":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"page.referringUrl"}},"Data Layer | Link Type":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"details.link_type"}},"XDM | Merge | Global Event + Page View":{modulePath:"core/src/lib/dataElements/mergedObjects.js",settings:{objects:["%XDM | Global Event%","%XDM | Page View%"]}},"Data Layer | Web | pathname":{modulePath:"core/src/lib/dataElements/pageInfo.js",settings:{attribute:"pathname"}},"Data Layer | Page Sub Category 1":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"page.category.subCategory1"}},"Data Layer | Page Sub Category 2":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"page.category.subCategory2"}}},extensions:{"gcoe-adobe-client-data-layer":{displayName:"Adobe Client Data Layer",hostedLibFilesBaseUrl:"https://static.qcom-stg.qantastesting.com/ams02/a1055/11/dev/launch-staging/s3_public/current//a086326e8d0e/67ff493e223e/2018a57bd617/hostedLibFiles/EP6e4c031a8b7640d7ac3fab013fa28b17/",settings:{dataLayerName:"adobeDataLayer",injectLibrary:!0},modules:{"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js":{name:"datalayer-computed-state",displayName:"Data Layer Computed State",script:function(e,t,n){"use strict";e.exports=function(e){if(null!=e){var t=r();if(void 0!==t)return""!==e.path?t.getState(e.path):t.getState()}};var r=n("../util/getDataLayer")}},"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js":{name:"datalayer-push",displayName:"Data Pushed",script:function(e,t,n){"use strict";e.exports=function(e,t){if(null!=e){var n=e.method,a=e.eventKey,o=e.scope,i=r(),s=function(e){var n={message:e,beforeState:{},afterState:{},fullState:i.getState()};t(n)},c={};void 0!==o&&(c.scope=o),"allData"===n?i.push((function(e){e.addEventListener("adobeDataLayer:change",s,c)})):"allEvents"===n?i.push((function(e){e.addEventListener("adobeDataLayer:event",s,c)})):"specificEvent"===n&&""!==a&&i.push((function(e){e.addEventListener(a,s,c)}))}};var r=n("../util/getDataLayer")}},"gcoe-adobe-client-data-layer/src/lib/main.js":{script:function(e,t,n,r){var a=r.getExtensionSettings(),o=a.dataLayerName,i=a.injectLibrary;if(window.adobeDataLayer=window.adobeDataLayer||[],"object"!=typeof window.adobeDataLayer&&(r.logger.log("Initializing adobeDataLayer to [] as it isn't an object yet."),window.adobeDataLayer=[]),"adobeDataLayer"!==o&&("object"==typeof window[o]?(r.logger.log('Using "'+o+'" instead of "adobeDataLayer" as data layer name.'),window.adobeDataLayer.push((function(e){for(var t=0;t<window[o].length;t++)e.push(window[o][t]);window[o]=e}))):r.logger.warn('Could not use "'+o+'" instead of "adobeDataLayer", because the object does not exist!')),i&&void 0===window.adobeDataLayer.getState){function s(e,t){return d(e)||l(e,t)||p(e,t)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}}function d(e){if(Array.isArray(e))return e}function u(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=p(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a,o=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw a}}}}function p(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r.logger.log("Initializing adobeDataLayer as it wasn't found during the initialization."),function e(t,r,a){function o(s,c){if(!r[s]){if(!t[s]){var l="function"==typeof n&&n;if(!c&&l)return l(s,!0);if(i)return i(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var u=r[s]={exports:{}};t[s][0].call(u.exports,(function(e){return o(t[s][1][e]||e)}),u,u.exports,e,t,r,a)}return r[s].exports}for(var i="function"==typeof n&&n,s=0;s<a.length;s++)o(a[s]);return o}({1:[function(e,t,n){(function(e){(function(){function r(e,t){for(var n=-1,r=null==e?0:e.length,a=0,o=[];++n<r;){var i=e[n];t(i,n,e)&&(o[a++]=i)}return o}function a(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}function o(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}function i(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function s(e,t,n){var r=e.length;for(n+=-1;++n<r;)if(t(e[n],n,e))return n;return-1}function c(e){return e!=e}function l(e){return function(t){return e(t)}}function d(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function u(e){var t=Object;return function(n){return e(t(n))}}function p(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function g(){}function m(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function h(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function y(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function b(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new y;++t<n;)this.add(e[t])}function v(e){this.size=(this.__data__=new h(e)).size}function w(e,t){var n,r=vn(e),a=!r&&bn(e),o=!r&&!a&&wn(e),i=!r&&!a&&!o&&Dn(e);if(r=r||a||o||i){a=e.length;for(var s=String,c=-1,l=Array(a);++c<a;)l[c]=s(c);a=l}else a=[];for(n in s=a.length,e)!t&&!vt.call(e,n)||r&&("length"==n||o&&("offset"==n||"parent"==n)||i&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||te(n,s))||a.push(n);return a}function E(e,t,n){(n===Ue||ge(e[t],n))&&(n!==Ue||t in e)||I(e,t,n)}function C(e,t,n){var r=e[t];vt.call(e,t)&&ge(r,n)&&(n!==Ue||t in e)||I(e,t,n)}function D(e,t){for(var n=e.length;n--;)if(ge(e[n][0],t))return n;return-1}function I(e,t,n){"__proto__"==t&&Rt?Rt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function S(e,t,n,r,a,o){var i,s=1&t,c=2&t,l=4&t;if(n&&(i=a?n(e,r,a,o):n(e)),i!==Ue)return i;if(!be(e))return e;if(r=vn(e)){if(i=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&vt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!s)return F(e,i)}else{var d=sn(e),u="[object Function]"==d||"[object GeneratorFunction]"==d;if(wn(e))return V(e,s);if("[object Object]"==d||"[object Arguments]"==d||u&&!a){if(i=c||u?{}:Z(e),!s)return c?function(e,t){return B(e,on(e),t)}(e,function(e,t){return e&&B(t,je(t),e)}(i,e)):function(e,t){return B(e,an(e),t)}(e,function(e,t){return e&&B(t,Le(t),e)}(i,e))}else{if(!tt[d])return a?e:{};i=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return U(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return t=n?U(e.buffer):e.buffer,new e.constructor(t,e.byteOffset,e.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return $(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return(t=new e.constructor(e.source,Xe.exec(e))).lastIndex=e.lastIndex,t;case"[object Symbol]":return Kt?Object(Kt.call(e)):{}}}(e,d,s)}}if(a=(o=o||new v).get(e))return a;if(o.set(e,i),Cn(e))return e.forEach((function(r){i.add(S(r,t,n,r,e,o))})),i;if(En(e))return e.forEach((function(r,a){i.set(a,S(r,t,n,a,e,o))})),i;c=l?c?X:Q:c?je:Le;var p=r?Ue:c(e);return function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););}(p||e,(function(r,a){p&&(r=e[a=r]),C(i,a,S(r,t,n,a,e,o))})),i}function k(e,t){for(var n=0,r=(t=q(t,e)).length;null!=e&&n<r;)e=e[ie(t[n++])];return n&&n==r?e:Ue}function P(e,t,n){return t=t(e),vn(e)?t:o(t,n(e))}function O(e){if(null==e)e=e===Ue?"[object Undefined]":"[object Null]";else if(_t&&_t in Object(e)){var t=vt.call(e,_t),n=e[_t];try{e[_t]=Ue;var r=!0}catch(e){}var a=Et.call(e);r&&(t?e[_t]=n:delete e[_t]),e=a}else e=Et.call(e);return e}function T(e,t){return null!=e&&vt.call(e,t)}function L(e,t){return null!=e&&t in Object(e)}function j(e){return ve(e)&&"[object Arguments]"==O(e)}function A(e,t,n,r,a){if(e===t)t=!0;else if(null==e||null==t||!ve(e)&&!ve(t))t=e!=e&&t!=t;else e:{var o,i,s=vn(e),c=vn(t),l="[object Object]"==(o="[object Arguments]"==(o=s?"[object Array]":sn(e))?"[object Object]":o);if(c="[object Object]"==(i="[object Arguments]"==(i=c?"[object Array]":sn(t))?"[object Object]":i),(i=o==i)&&wn(e)){if(!wn(t)){t=!1;break e}l=!(s=!0)}if(i&&!l)a=a||new v,t=s||Dn(e)?z(e,t,n,r,A,a):function(e,t,n,r,a,o,i){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!o(new kt(e),new kt(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return ge(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=d;case"[object Set]":if(s=s||p,e.size!=t.size&&!(1&r))break;return(n=i.get(e))?n==t:(r|=2,i.set(e,t),t=z(s(e),s(t),r,a,o,i),i.delete(e),t);case"[object Symbol]":if(Kt)return Kt.call(e)==Kt.call(t)}return!1}(e,t,o,n,r,A,a);else{if(!(1&n)&&(s=l&&vt.call(e,"__wrapped__"),o=c&&vt.call(t,"__wrapped__"),s||o)){t=A(e=s?e.value():e,t=o?t.value():t,n,r,a=a||new v);break e}if(i)t:if(a=a||new v,s=1&n,o=Q(e),c=o.length,i=Q(t).length,c==i||s){for(l=c;l--;){var u=o[l];if(!(s?u in t:vt.call(t,u))){t=!1;break t}}if((i=a.get(e))&&a.get(t))t=i==t;else{i=!0,a.set(e,t),a.set(t,e);for(var g=s;++l<c;){var f=e[u=o[l]],m=t[u];if(r)var h=s?r(m,f,u,t,e,a):r(f,m,u,e,t,a);if(h===Ue?f!==m&&!A(f,m,n,r,a):!h){i=!1;break}g=g||"constructor"==u}i&&!g&&(n=e.constructor)!=(r=t.constructor)&&"constructor"in e&&"constructor"in t&&!("function"==typeof n&&n instanceof n&&"function"==typeof r&&r instanceof r)&&(i=!1),a.delete(e),a.delete(t),t=i}}else t=!1;else t=!1}}return t}function _(e){return"function"==typeof e?e:null==e?Re:"object"==f(e)?vn(e)?function(e,t){return ne(e)&&t==t&&!be(t)?ae(ie(e),t):function(n){var r=Oe(n,e);return r===Ue&&r===t?Te(n,e):A(t,r,3)}}(e[0],e[1]):function(e){var t=function(e){for(var t=Le(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,a==a&&!be(a)]}return t}(e);return 1==t.length&&t[0][2]?ae(t[0][0],t[0][1]):function(n){return n===e||function(e,t){var n=t.length,r=n;if(null==e)return!r;for(e=Object(e);n--;)if((a=t[n])[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1;for(;++n<r;){var a,o=(a=t[n])[0],i=e[o],s=a[1];if(a[2]){if(i===Ue&&!(o in e))return!1}else if(a=new v,void 0!==Ue||!A(s,i,3,void 0,a))return!1}return!0}(n,t)}}(e):Me(e)}function R(e){if(!re(e))return Nt(e);var t,n=[];for(t in Object(e))vt.call(e,t)&&"constructor"!=t&&n.push(t);return n}function x(e,t,n,r,a){e!==t&&nn(t,(function(o,i){if(be(o)){var s=a=a||new v,c="__proto__"==i?Ue:e[i],l="__proto__"==i?Ue:t[i];if(f=s.get(l))E(e,i,f);else{var d=(f=r?r(c,l,i+"",e,t,s):Ue)===Ue;if(d){var u=vn(l),p=!u&&wn(l),g=!u&&!p&&Dn(l),f=l;u||p||g?f=vn(c)?c:me(c)?F(c):p?V(l,!(d=!1)):g?$(l,!(d=!1)):[]:we(l)||bn(l)?bn(f=c)?f=ke(c):(!be(c)||n&&he(c))&&(f=Z(l)):d=!1}d&&(s.set(l,f),x(f,l,n,r,s),s.delete(l)),E(e,i,f)}}else(s=r?r("__proto__"==i?Ue:e[i],o,i+"",e,t,a):Ue)===Ue&&(s=o),E(e,i,s)}),je)}function M(e){if("string"==typeof e)return e;if(vn(e))return a(e,M)+"";if(Ce(e))return Zt?Zt.call(e):"";var t=e+"";return"0"==t&&1/e==-$e?"-0":t}function N(e,t){var n;if((t=q(t,e)).length<2)n=e;else{var r=0,a=-1,o=-1,i=(n=t).length;for(r<0&&(r=i<-r?0:i+r),(a=i<a?i:a)<0&&(a+=i),i=a<r?0:a-r>>>0,r>>>=0,a=Array(i);++o<i;)a[o]=n[o+r];n=k(e,a)}null==(e=n)||delete e[ie(de(t))]}function q(e,t){return vn(e)?e:ne(e,t)?[e]:mn(Pe(e))}function V(e,t){if(t)return e.slice();var n=e.length;return n=Pt?Pt(n):new e.constructor(n),e.copy(n),n}function U(e){var t=new e.constructor(e.byteLength);return new kt(t).set(new kt(e)),t}function $(e,t){return new e.constructor(t?U(e.buffer):e.buffer,e.byteOffset,e.length)}function F(e,t){var n=-1,r=e.length;for(t=t||Array(r);++n<r;)t[n]=e[n];return t}function B(e,t,n){var r=!n;n=n||{};for(var a=-1,o=t.length;++a<o;){var i=t[a],s=Ue;s===Ue&&(s=e[i]),r?I(n,i,s):C(n,i,s)}return n}function H(e){return function(e){return fn(oe(e,void 0,Re),e+"")}((function(t,n){var r,a=-1,o=n.length,i=1<o?n[o-1]:Ue,s=2<o?n[2]:Ue;if(i=3<e.length&&"function"==typeof i?(o--,i):Ue,r=s){r=n[0];var c=n[1];if(be(s)){var l=f(c);r=!!("number"==l?fe(s)&&te(c,s.length):"string"==l&&c in s)&&ge(s[c],r)}else r=!1}for(r&&(i=o<3?Ue:i,o=1),t=Object(t);++a<o;)(s=n[a])&&e(t,s,a,i);return t}))}function G(e){return we(e)?Ue:e}function z(e,t,n,r,a,o){var s=1&n,c=e.length;if(c!=(l=t.length)&&!(s&&c<l))return!1;if((l=o.get(e))&&o.get(t))return l==t;var l=-1,d=!0,u=2&n?new b:Ue;for(o.set(e,t),o.set(t,e);++l<c;){var p=e[l],g=t[l];if(r)var f=s?r(g,p,l,t,e,o):r(p,g,l,e,t,o);if(f!==Ue){if(f)continue;d=!1;break}if(u){if(!i(t,(function(e,t){if(!u.has(t)&&(p===e||a(p,e,n,r,o)))return u.push(t)}))){d=!1;break}}else if(p!==g&&!a(p,g,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function Q(e){return P(e,Le,an)}function X(e){return P(e,je,on)}function J(e,t){var n=(n=g.iteratee||xe)===xe?_:n;return arguments.length?n(e,t):n}function Y(e,t){var n=e.__data__,r=f(t);return("string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t)?n["string"==typeof t?"string":"hash"]:n.map}function W(e,t){var n=null==e?Ue:e[t];return!be(n)||wt&&wt in n||!(he(n)?Dt:We).test(se(n))?Ue:n}function K(e,t,n){for(var r=-1,a=(t=q(t,e)).length,o=!1;++r<a;){var i=ie(t[r]);if(!(o=null!=e&&n(e,i)))break;e=e[i]}return o||++r!=a?o:!!(a=null==e?0:e.length)&&ye(a)&&te(i,a)&&(vn(e)||bn(e))}function Z(e){return"function"!=typeof e.constructor||re(e)?{}:en(Ot(e))}function ee(e){return vn(e)||bn(e)||!!(At&&e&&e[At])}function te(e,t){var n=f(e);return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Ze.test(e))&&-1<e&&0==e%1&&e<t}function ne(e,t){if(vn(e))return!1;var n=f(e);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ce(e))||He.test(e)||!Be.test(e)||null!=t&&e in Object(t)}function re(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ht)}function ae(e,t){return function(n){return null!=n&&n[e]===t&&(t!==Ue||e in Object(n))}}function oe(e,t,n){return t=qt(t===Ue?e.length-1:t,0),function(){for(var r=arguments,a=-1,o=qt(r.length-t,0),i=Array(o);++a<o;)i[a]=r[t+a];for(a=-1,o=Array(t+1);++a<t;)o[a]=r[a];return o[t]=n(i),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,o)}}function ie(e){if("string"==typeof e||Ce(e))return e;var t=e+""
;return"0"==t&&1/e==-$e?"-0":t}function se(e){if(null==e)return"";try{return bt.call(e)}catch(e){}return e+""}function ce(e,t,n){var r=null==e?0:e.length;return r?((n=null==n?0:Ie(n))<0&&(n=qt(r+n,0)),s(e,J(t,3),n)):-1}function le(e){return null!=e&&e.length?function e(t,n,r,a,i){var s=-1,c=t.length;for(r=r||ee,i=i||[];++s<c;){var l=t[s];0<n&&r(l)?1<n?e(l,n-1,r,a,i):o(i,l):a||(i[i.length]=l)}return i}(e,1):[]}function de(e){var t=null==e?0:e.length;return t?e[t-1]:Ue}function ue(e,t){function n(){var r=arguments,a=t?t.apply(this,r):r[0],o=n.cache;return o.has(a)?o.get(a):(r=e.apply(this,r),n.cache=o.set(a,r)||o,r)}if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");return n.cache=new(ue.Cache||y),n}function pe(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function ge(e,t){return e===t||e!=e&&t!=t}function fe(e){return null!=e&&ye(e.length)&&!he(e)}function me(e){return ve(e)&&fe(e)}function he(e){return!!be(e)&&("[object Function]"==(e=O(e))||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e)}function ye(e){return"number"==typeof e&&-1<e&&0==e%1&&e<=9007199254740991}function be(e){var t=f(e);return null!=e&&("object"==t||"function"==t)}function ve(e){return null!=e&&"object"==f(e)}function we(e){return!(!ve(e)||"[object Object]"!=O(e))&&(null===(e=Ot(e))||"function"==typeof(e=vt.call(e,"constructor")&&e.constructor)&&e instanceof e&&bt.call(e)==Ct)}function Ee(e){return"string"==typeof e||!vn(e)&&ve(e)&&"[object String]"==O(e)}function Ce(e){return"symbol"==f(e)||ve(e)&&"[object Symbol]"==O(e)}function De(e){return e?(e=Se(e))===$e||e===-$e?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function Ie(e){var t=(e=De(e))%1;return e==e?t?e-t:e:0}function Se(e){if("number"==typeof e)return e;if(Ce(e))return Fe;if(be(e)&&(e=be(e="function"==typeof e.valueOf?e.valueOf():e)?e+"":e),"string"!=typeof e)return 0===e?e:+e;e=e.replace(ze,"");var t=Ye.test(e);return t||Ke.test(e)?rt(e.slice(2),t?2:8):Je.test(e)?Fe:+e}function ke(e){return B(e,je(e))}function Pe(e){return null==e?"":M(e)}function Oe(e,t,n){return(e=null==e?Ue:k(e,t))===Ue?n:e}function Te(e,t){return null!=e&&K(e,t,L)}function Le(e){return fe(e)?w(e):R(e)}function je(e){if(fe(e))e=w(e,!0);else if(be(e)){var t,n=re(e),r=[];for(t in e)("constructor"!=t||!n&&vt.call(e,t))&&r.push(t);e=r}else{if(t=[],null!=e)for(n in Object(e))t.push(n);e=t}return e}function Ae(e){return null==e?[]:function(e,t){return a(t,(function(t){return e[t]}))}(e,Le(e))}function _e(e){return function(){return e}}function Re(e){return e}function xe(e){return _("function"==typeof e?e:S(e,1))}function Me(e){return ne(e)?function(e){return function(t){return null==t?Ue:t[e]}}(ie(e)):function(e){return function(t){return k(t,e)}}(e)}function Ne(){return[]}function qe(){return!1}function Ve(){}var Ue,$e=1/0,Fe=NaN,Be=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,He=/^\w*$/,Ge=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ze=/^\s+|\s+$/g,Qe=/\\(\\)?/g,Xe=/\w*$/,Je=/^[-+]0x[0-9a-f]+$/i,Ye=/^0b[01]+$/i,We=/^\[object .+?Constructor\]$/,Ke=/^0o[0-7]+$/i,Ze=/^(?:0|[1-9]\d*)$/,et={};et["[object Float32Array]"]=et["[object Float64Array]"]=et["[object Int8Array]"]=et["[object Int16Array]"]=et["[object Int32Array]"]=et["[object Uint8Array]"]=et["[object Uint8ClampedArray]"]=et["[object Uint16Array]"]=et["[object Uint32Array]"]=!0,et["[object Arguments]"]=et["[object Array]"]=et["[object ArrayBuffer]"]=et["[object Boolean]"]=et["[object DataView]"]=et["[object Date]"]=et["[object Error]"]=et["[object Function]"]=et["[object Map]"]=et["[object Number]"]=et["[object Object]"]=et["[object RegExp]"]=et["[object Set]"]=et["[object String]"]=et["[object WeakMap]"]=!1;var tt={};tt["[object Arguments]"]=tt["[object Array]"]=tt["[object ArrayBuffer]"]=tt["[object DataView]"]=tt["[object Boolean]"]=tt["[object Date]"]=tt["[object Float32Array]"]=tt["[object Float64Array]"]=tt["[object Int8Array]"]=tt["[object Int16Array]"]=tt["[object Int32Array]"]=tt["[object Map]"]=tt["[object Number]"]=tt["[object Object]"]=tt["[object RegExp]"]=tt["[object Set]"]=tt["[object String]"]=tt["[object Symbol]"]=tt["[object Uint8Array]"]=tt["[object Uint8ClampedArray]"]=tt["[object Uint16Array]"]=tt["[object Uint32Array]"]=!0,tt["[object Error]"]=tt["[object Function]"]=tt["[object WeakMap]"]=!1;var nt,rt=parseInt,at="object"==f(e)&&e&&e.Object===Object&&e,ot="object"==("undefined"==typeof self?"undefined":f(self))&&self&&self.Object===Object&&self,it=at||ot||Function("return this")(),st="object"==f(n)&&n&&!n.nodeType&&n,ct=st&&"object"==f(t)&&t&&!t.nodeType&&t,lt=ct&&ct.exports===st,dt=lt&&at.process;e:{try{nt=dt&&dt.binding&&dt.binding("util");break e}catch(l){}nt=void 0}var ut,pt=nt&&nt.isMap,gt=nt&&nt.isSet,ft=nt&&nt.isTypedArray,mt=Array.prototype,ht=Object.prototype,yt=it["__core-js_shared__"],bt=Function.prototype.toString,vt=ht.hasOwnProperty,wt=(ut=/[^.]+$/.exec(yt&&yt.keys&&yt.keys.IE_PROTO||""))?"Symbol(src)_1."+ut:"",Et=ht.toString,Ct=bt.call(Object),Dt=RegExp("^"+bt.call(vt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),It=lt?it.Buffer:Ue,St=it.Symbol,kt=it.Uint8Array,Pt=It?It.a:Ue,Ot=u(Object.getPrototypeOf),Tt=Object.create,Lt=ht.propertyIsEnumerable,jt=mt.splice,At=St?St.isConcatSpreadable:Ue,_t=St?St.toStringTag:Ue,Rt=function(){try{var e=W(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),xt=Object.getOwnPropertySymbols,Mt=It?It.isBuffer:Ue,Nt=u(Object.keys),qt=Math.max,Vt=Date.now,Ut=W(it,"DataView"),$t=W(it,"Map"),Ft=W(it,"Promise"),Bt=W(it,"Set"),Ht=W(it,"WeakMap"),Gt=W(Object,"create"),zt=se(Ut),Qt=se($t),Xt=se(Ft),Jt=se(Bt),Yt=se(Ht),Wt=St?St.prototype:Ue,Kt=Wt?Wt.valueOf:Ue,Zt=Wt?Wt.toString:Ue,en=function(e){return be(e)?Tt?Tt(e):(Ve.prototype=e,e=new Ve,Ve.prototype=Ue,e):{}};m.prototype.clear=function(){this.__data__=Gt?Gt(null):{},this.size=0},m.prototype.delete=function(e){return e=this.has(e)&&delete this.__data__[e],this.size-=e?1:0,e},m.prototype.get=function(e){var t=this.__data__;return Gt?"__lodash_hash_undefined__"===(e=t[e])?Ue:e:vt.call(t,e)?t[e]:Ue},m.prototype.has=function(e){var t=this.__data__;return Gt?t[e]!==Ue:vt.call(t,e)},m.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Gt&&t===Ue?"__lodash_hash_undefined__":t,this},h.prototype.clear=function(){this.__data__=[],this.size=0},h.prototype.delete=function(e){var t=this.__data__;return!((e=D(t,e))<0||(e==t.length-1?t.pop():jt.call(t,e,1),--this.size,0))},h.prototype.get=function(e){var t=this.__data__;return(e=D(t,e))<0?Ue:t[e][1]},h.prototype.has=function(e){return-1<D(this.__data__,e)},h.prototype.set=function(e,t){var n=this.__data__,r=D(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},y.prototype.clear=function(){this.size=0,this.__data__={hash:new m,map:new($t||h),string:new m}},y.prototype.delete=function(e){return e=Y(this,e).delete(e),this.size-=e?1:0,e},y.prototype.get=function(e){return Y(this,e).get(e)},y.prototype.has=function(e){return Y(this,e).has(e)},y.prototype.set=function(e,t){var n=Y(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},b.prototype.add=b.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},b.prototype.has=function(e){return this.__data__.has(e)},v.prototype.clear=function(){this.__data__=new h,this.size=0},v.prototype.delete=function(e){var t=this.__data__;return e=t.delete(e),this.size=t.size,e},v.prototype.get=function(e){return this.__data__.get(e)},v.prototype.has=function(e){return this.__data__.has(e)},v.prototype.set=function(e,t){var n=this.__data__;if(n instanceof h){var r=n.__data__;if(!$t||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new y(r)}return n.set(e,t),this.size=n.size,this};var tn=function(e,t){if(null==e)return e;if(!fe(e))return function(e,t){return e&&nn(e,t,Le)}(e,t);for(var n=e.length,r=-1,a=Object(e);++r<n&&!1!==t(a[r],r,a););return e},nn=function(e,t,n){for(var r=-1,a=Object(e),o=(n=n(e)).length;o--;){var i=n[++r];if(!1===t(a[i],i,a))break}return e},rn=Rt?function(e,t){return Rt(e,"toString",{configurable:!0,enumerable:!1,value:_e(t),writable:!0})}:Re,an=xt?function(e){return null==e?[]:(e=Object(e),r(xt(e),(function(t){return Lt.call(e,t)})))}:Ne,on=xt?function(e){for(var t=[];e;)o(t,an(e)),e=Ot(e);return t}:Ne,sn=O;(Ut&&"[object DataView]"!=sn(new Ut(new ArrayBuffer(1)))||$t&&"[object Map]"!=sn(new $t)||Ft&&"[object Promise]"!=sn(Ft.resolve())||Bt&&"[object Set]"!=sn(new Bt)||Ht&&"[object WeakMap]"!=sn(new Ht))&&(sn=function(e){var t=O(e);if(e=(e="[object Object]"==t?e.constructor:Ue)?se(e):"")switch(e){case zt:return"[object DataView]";case Qt:return"[object Map]";case Xt:return"[object Promise]";case Jt:return"[object Set]";case Yt:return"[object WeakMap]"}return t});var cn,ln,dn,un,pn,gn,fn=(un=rn,gn=pn=0,function(){var e=Vt(),t=16-(e-gn);if(gn=e,0<t){if(800<=++pn)return arguments[0]}else pn=0;return un.apply(Ue,arguments)}),mn=(dn=(ln=ue(ln=function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Ge,(function(e,n,r,a){t.push(r?a.replace(Qe,"$1"):n||e)})),t},(function(e){return 500===dn.size&&dn.clear(),e}))).cache,ln),hn=(cn=ce,function(e,t,n){var r=Object(e);if(!fe(e)){var a=J(t,3);e=Le(e),t=function(e){return a(r[e],e,r)}}return-1<(t=cn(e,t,n))?r[a?e[t]:t]:Ue});ue.Cache=y;var yn,bn=j(function(){return arguments}())?j:function(e){return ve(e)&&vt.call(e,"callee")&&!Lt.call(e,"callee")},vn=Array.isArray,wn=Mt||qe,En=pt?l(pt):function(e){return ve(e)&&"[object Map]"==sn(e)},Cn=gt?l(gt):function(e){return ve(e)&&"[object Set]"==sn(e)},Dn=ft?l(ft):function(e){return ve(e)&&ye(e.length)&&!!et[O(e)]},In=H((function(e,t,n){x(e,t,n)})),Sn=H((function(e,t,n,r){x(e,t,n,r)})),kn=fn(oe(yn=function(e,t){var n={};if(null==e)return n;var r=!1;t=a(t,(function(t){return t=q(t,e),r=r||1<t.length,t})),B(e,X(e),n),r&&(n=S(n,7,G));for(var o=t.length;o--;)N(n,t[o]);return n},Ue,le),yn+"");g.constant=_e,g.flatten=le,g.iteratee=xe,g.keys=Le,g.keysIn=je,g.memoize=ue,g.merge=In,g.mergeWith=Sn,g.negate=pe,g.omit=kn,g.property=Me,g.reject=function(e,t){return(vn(e)?r:function(e,t){var n=[];return tn(e,(function(e,r,a){t(e,r,a)&&n.push(e)})),n})(e,pe(J(t,3)))},g.toPlainObject=ke,g.values=Ae,g.cloneDeep=function(e){return S(e,5)},g.cloneDeepWith=function(e,t){return S(e,5,t="function"==typeof t?t:Ue)},g.eq=ge,g.find=hn,g.findIndex=ce,g.get=Oe,g.has=function(e,t){return null!=e&&K(e,t,T)},g.hasIn=Te,g.identity=Re,g.includes=function(e,t,n,r){if(e=fe(e)?e:Ae(e),n=n&&!r?Ie(n):0,r=e.length,n<0&&(n=qt(r+n,0)),Ee(e))e=n<=r&&-1<e.indexOf(t,n);else{if(r=!!r){if(t==t)e:{for(n-=1,r=e.length;++n<r;)if(e[n]===t){e=n;break e}e=-1}else e=s(e,c,n);r=-1<e}e=r}return e},g.isArguments=bn,g.isArray=vn,g.isArrayLike=fe,g.isArrayLikeObject=me,g.isBuffer=wn,g.isEmpty=function(e){if(null==e)return!0;if(fe(e)&&(vn(e)||"string"==typeof e||"function"==typeof e.splice||wn(e)||Dn(e)||bn(e)))return!e.length;var t=sn(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(re(e))return!R(e).length;for(var n in e)if(vt.call(e,n))return!1;return!0},g.isEqual=function(e,t){return A(e,t)},g.isFunction=he,g.isLength=ye,g.isMap=En,g.isNull=function(e){return null===e},g.isObject=be,g.isObjectLike=ve,g.isPlainObject=we,g.isSet=Cn,g.isString=Ee,g.isSymbol=Ce,g.isTypedArray=Dn,g.last=de,g.stubArray=Ne,g.stubFalse=qe,g.toFinite=De,g.toInteger=Ie,g.toNumber=Se,g.toString=Pe,g.VERSION="4.17.5",ct&&((ct.exports=g)._=g,st._=g)}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t){t.exports={itemType:{DATA:"data",FCTN:"fctn",EVENT:"event",LISTENER_ON:"listenerOn",LISTENER_OFF:"listenerOff"},dataLayerEvent:{CHANGE:"adobeDataLayer:change",EVENT:"adobeDataLayer:event"},listenerScope:{PAST:"past",FUTURE:"future",ALL:"all"}}},{}],3:[function(e,t){var n=e("../custom-lodash"),r=e("../version.json").version,a=n.cloneDeep,o=n.get,i=e("./item"),s=e("./listener"),c=e("./listenerManager"),l=e("./constants"),d=e("./utils/customMerge");t.exports=function(e){function t(e){y=d(y,e.data)}function n(e){function n(e){return 0===m.length||e.index>m.length-1?[]:m.slice(0,e.index).map((function(e){return i(e)}))}e.valid?{data:function(e){t(e),g.triggerListeners(e)},fctn:function(e){e.config.call(m,m)},event:function(e){e.data&&t(e),g.triggerListeners(e)},listenerOn:function(e){var t=s(e);switch(t.scope){case l.listenerScope.PAST:var r,a=u(n(e));try{for(a.s();!(r=a.n()).done;){var o=r.value;g.triggerListener(t,o)}}catch(e){a.e(e)}finally{a.f()}break;case l.listenerScope.FUTURE:g.register(t);break;case l.listenerScope.ALL:if(g.register(t)){var i,c=u(n(e));try{for(c.s();!(i=c.n()).done;){var d=i.value;g.triggerListener(t,d)}}catch(e){c.e(e)}finally{c.f()}}}},listenerOff:function(e){g.unregister(s(e))}}[e.type](e):p(e)}function p(e){var t="The following item cannot be handled by the data layer because it does not have a valid format: "+JSON.stringify(e.config);console.error(t)}var g,f=e||{},m=[],h=[],y={},b={getState:function(){return y},getDataLayer:function(){return m}};return Array.isArray(f.dataLayer)||(f.dataLayer=[]),h=f.dataLayer.splice(0,f.dataLayer.length),(m=f.dataLayer).version=r,y={},g=c(b),m.push=function(e){var t=arguments,r=arguments;if(Object.keys(t).forEach((function(e){var a=i(t[e]);switch(a.valid||(p(a),delete r[e]),a.type){case l.itemType.DATA:case l.itemType.EVENT:n(a);break;case l.itemType.FCTN:delete r[e],n(a);break;case l.itemType.LISTENER_ON:case l.itemType.LISTENER_OFF:delete r[e]}})),r[0])return Array.prototype.push.apply(this,r)},m.getState=function(e){return e?o(a(y),e):a(y)},m.addEventListener=function(e,t,r){n(i({on:e,handler:t,scope:r&&r.scope,path:r&&r.path}))},m.removeEventListener=function(e,t){n(i({off:e,handler:t}))},function(){for(var e=0;e<h.length;e++)m.push(h[e])}(),b}},{"../custom-lodash":1,"../version.json":14,"./constants":2,"./item":5,"./listener":7,"./listenerManager":8,"./utils/customMerge":10}],4:[function(e,t){var n={Manager:e("./dataLayerManager")};window.adobeDataLayer=window.adobeDataLayer||[],window.adobeDataLayer.version?console.warn("Adobe Client Data Layer v".concat(window.adobeDataLayer.version," has already been imported/initialized on this page. You may be erroneously loading it a second time.")):n.Manager({dataLayer:window.adobeDataLayer}),t.exports=n},{"./dataLayerManager":3}],5:[function(e,t){var n=e("../custom-lodash"),r=n.isPlainObject,a=n.isEmpty,o=n.omit,i=n.find,s=e("./utils/dataMatchesContraints"),c=e("./itemConstraints"),l=e("./constants");t.exports=function(e,t){var n=e,d=t,u=i(Object.keys(c),(function(e){return s(n,c[e])}))||"function"==typeof n&&l.itemType.FCTN||r(n)&&l.itemType.DATA,p=function(){var e=o(n,Object.keys(c.event));if(!a(e))return e}();return{config:n,type:u,data:p,valid:!!u,index:d}}},{"../custom-lodash":1,"./constants":2,"./itemConstraints":6,"./utils/dataMatchesContraints":11}],6:[function(e,t){t.exports={event:{event:{type:"string"},eventInfo:{optional:!0}},listenerOn:{on:{type:"string"},handler:{type:"function"},scope:{type:"string",values:["past","future","all"],optional:!0},path:{type:"string",optional:!0}},listenerOff:{off:{type:"string"},handler:{type:"function",optional:!0},scope:{type:"string",values:["past","future","all"],optional:!0},path:{type:"string",optional:!0}}}},{}],7:[function(e,t){var n=e("./constants");t.exports=function(e){return{event:e.config.on||e.config.off,handler:e.config.handler||null,scope:e.config.scope||e.config.on&&n.listenerScope.ALL||null,path:e.config.path||null}}},{"./constants":2}],8:[function(e,t){var n=e("../custom-lodash").cloneDeep,r=e("./constants"),a=e("./utils/listenerMatch"),o=e("./utils/indexOfListener");t.exports=function(e){function t(e,t){if(a(e,t)){var r=[n(t.config)];e.handler.apply(s.getDataLayer(),r)}}var i={},s=e,c=o.bind(null,i);return{register:function(e){var t=e.event;return Object.prototype.hasOwnProperty.call(i,t)?-1===c(e)&&(i[e.event].push(e),!0):(i[e.event]=[e],!0)},unregister:function(e){var t=e.event;if(Object.prototype.hasOwnProperty.call(i,t))if(e.handler||e.scope||e.path){var n=c(e);-1<n&&i[t].splice(n,1)}else i[t]=[]},triggerListeners:function(e){(function(e){var t=[];switch(e.type){case r.itemType.DATA:t.push(r.dataLayerEvent.CHANGE);break;case r.itemType.EVENT:t.push(r.dataLayerEvent.EVENT),e.data&&t.push(r.dataLayerEvent.CHANGE),e.config.event!==r.dataLayerEvent.CHANGE&&t.push(e.config.event)}return t})(e).forEach((function(n){if(Object.prototype.hasOwnProperty.call(i,n)){var r,a=u(i[n]);try{for(a.s();!(r=a.n()).done;)t(r.value,e)}catch(n){a.e(n)}finally{a.f()}}}))},triggerListener:function(e,n){t(e,n)}}}},{"../custom-lodash":1,"./constants":2,"./utils/indexOfListener":12,"./utils/listenerMatch":13}],9:[function(e,t){var n=e("../../custom-lodash"),r=n.has,a=n.get;t.exports=function(e,t){for(var n=t.substring(0,t.lastIndexOf("."));n;){if(r(e,n)&&null==a(e,n))return!0;n=n.substring(0,n.lastIndexOf("."))}return!1}},{"../../custom-lodash":1}],10:[function(e,t){var n=e("../../custom-lodash"),r=n.cloneDeepWith,a=n.isObject,o=n.isArray,i=n.reject,s=n.mergeWith,c=n.isNull;t.exports=function(e,t){return s(e,t,(function(e,t){if(null==t)return null})),function(e,t){return r(e,(n=1<arguments.length&&void 0!==t?t:function(e){return!e},function e(t){if(a(t)){if(o(t))return i(t,n).map((function(t){return r(t,e)}));for(var s={},c=0,l=Object.keys(t);c<l.length;c++){var d=l[c];n(t[d])||(s[d]=r(t[d],e))}return s}}));var n}(e,c)}},{"../../custom-lodash":1}],11:[function(e,t){var n=e("../../custom-lodash"),r=n.find,a=n.includes;t.exports=function(e,t){return void 0===r(Object.keys(t),(function(n){var r=t[n].type,o=n&&t[n].values,i=!t[n].optional,s=e[n],c=f(s),l=r&&c!==r,d=o&&!a(o,s);return i?!s||l||d:s&&(l||d)}))}},{"../../custom-lodash":1}],12:[function(e,t){var n=e("../../custom-lodash").isEqual;t.exports=function(e,t){var r=t.event;if(Object.prototype.hasOwnProperty.call(e,r)){var a,o=u(e[r].entries());try{for(o.s();!(a=o.n()).done;){var i=s(a.value,2),c=i[0],l=i[1];if(n(l.handler,t.handler))return c}}catch(e){o.e(e)}finally{o.f()}}return-1}},{"../../custom-lodash":1}],13:[function(e,t){function n(e,t){return!t.data||!e.path||r(t.data,e.path)||o(t.data,e.path)}var r=e("../../custom-lodash").has,a=e("../constants"),o=e("./ancestorRemoved");t.exports=function(e,t){var r=e.event,o=t.config,i=!1;return t.type===a.itemType.DATA?r===a.dataLayerEvent.CHANGE&&(i=n(e,t)):t.type===a.itemType.EVENT&&(r!==a.dataLayerEvent.EVENT&&r!==o.event||(i=n(e,t)),t.data&&r===a.dataLayerEvent.CHANGE&&(i=n(e,t))),i}},{"../../custom-lodash":1,"../constants":2,"./ancestorRemoved":9}],14:[function(e,t){t.exports={version:"2.0.2"}},{}]},{},[4])}}},"gcoe-adobe-client-data-layer/src/lib/util/getDataLayer.js":{script:function(e,t,n,r){"use strict";e.exports=function(){var e=r.getExtensionSettings();return window[e.dataLayerName]}}}}},core:{displayName:"Core",hostedLibFilesBaseUrl:"https://static.qcom-stg.qantastesting.com/ams02/a1055/11/dev/launch-staging/s3_public/current//a086326e8d0e/67ff493e223e/2018a57bd617/hostedLibFiles/EPab6ef5bcd54046888b5cb5b9a98d558b/",modules:{"core/src/lib/dataElements/queryStringParameter.js":{name:"query-string-parameter",displayName:"Query String Parameter",script:function(e,t,n){"use strict";var r=n("@adobe/reactor-window"),a=n("@adobe/reactor-query-string");e.exports=function(e){var t=a.parse(r.location.search);if(!e.caseInsensitive)return t[e.name];for(var n=e.name.toLowerCase(),o=Object.keys(t),i=0;i<o.length;i++){var s=o[i];if(s.toLowerCase()===n)return t[s]}}}},"core/src/lib/dataElements/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source(t)}}},"core/src/lib/dataElements/mergedObjects.js":{name:"merged-objects",displayName:"Merged Objects",script:function(e,t,n){"use strict";var r=n("../helpers/deepMerge");e.exports=function(e){var t=e.objects.slice();return t.unshift({}),r.apply(null,t)}}},"core/src/lib/dataElements/pageInfo.js":{name:"page-info",displayName:"Page Info",script:function(e,t,n){"use strict";var r=n("@adobe/reactor-document");e.exports=function(e){switch(e.attribute){case"url":return r.location.href;case"hostname":return r.location.hostname;case"pathname":return r.location.pathname;case"protocol":return r.location.protocol;case"referrer":return r.referrer;case"title":return r.title}}}},"core/src/lib/dataElements/constant.js":{name:"constant",displayName:"Constant",script:function(e){"use strict";e.exports=function(e){return e.value}}},"core/src/lib/events/click.js":{name:"click",displayName:"Click",script:function(e,t,n){"use strict";var r=n("@adobe/reactor-window"),a=n("./helpers/createBubbly")(),o=new(n("./helpers/weakMap")),i=2,s=n("../helpers/stringAndNumberUtils").castToNumberIfString,c=function(e){if(!e.ctrlKey&&!e.metaKey&&e.button!==i)for(var t=e.target;t;){var n=t.tagName;if(n&&"a"===n.toLowerCase()){var a=t.getAttribute("href"),o=t.getAttribute("target");return a&&(!o||"_self"===o||"_top"===o&&r.top===r||o===r.name)?t:void 0}t=t.parentNode}};document.addEventListener("click",a.evaluateEvent,!0),e.exports=function(e,t){a.addListener(e,(function(n){var a=n.nativeEvent;if(!a.s_fe){var i=s(e.anchorDelay);if(i&&!o.has(a)){var l=c(a);l&&(a.preventDefault(),setTimeout((function(){r.location=l.href}),i)),o.set(a,!0)}t(n)}}))},e.exports.__reset=a.__reset}},"core/src/lib/helpers/deepMerge.js":{script:function(e,t,n){"use strict";function r(e){return Array.prototype.slice.call(arguments,1).reduce((function(e,t){return null==t||Object.keys(t).forEach((function(n){var i=e[n],s=t[n];void 0===s&&void 0!==i||(Array.isArray(i)&&Array.isArray(s)?e[n]=i.concat(o(s)):a(i)&&a(s)?e[n]=r(i,s):e[n]=o(s))})),e}),e)}var a=n("../helpers/isPlainObject"),o=function(e){return a(e)?r({},e):Array.isArray(e)?r([],e):e};e.exports=r}},"core/src/lib/helpers/isPlainObject.js":{script:function(e,t,n){"use strict";var r=n("../../../node_modules/is-plain-object/dist/is-plain-object").isPlainObject;e.exports=r}},"core/node_modules/is-plain-object/dist/is-plain-object.js":{script:function(e,t){"use strict";function n(e){return"[object Object]"===Object.prototype.toString.call(e)}function r(e){var t,r;return!1!==n(e)&&(void 0===(t=e.constructor)||!1!==n(r=t.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf"))}Object.defineProperty(t,"__esModule",{value:!0}),t.isPlainObject=r}},"core/src/lib/events/helpers/createBubbly.js":{script:function(e,t,n){"use strict";var r=n("./weakMap"),a=n("./matchesProperties"),o=n("./matchesSelector");e.exports=function(){var e=[],t=new r,n={addListener:function(t,n){e.push({settings:t,callback:n})},evaluateEvent:function(n,r){if(e.length&&!t.has(n)){for(var i=n.target,s=!1;i;){for(var c=!1,l=!1,d=0;d<e.length;d++){var u=e[d],p=u.settings.elementSelector,g=u.settings.elementProperties;if((!1!==u.settings.bubbleFireIfChildFired||!s)&&(i===n.target||!1!==u.settings.bubbleFireIfParent)&&(i===n.target||p||g&&Object.keys(g).length)&&(!p||o(i,p))&&(!g||a(i,g))){var f={};r?Object.keys(n).forEach((function(e){f[e]=n[e]})):f.nativeEvent=n,f.element=i,f.target=n.target,!1!==u.callback(f)&&(l=!0,u.settings.bubbleStop&&(c=!0))}}if(c)break;l&&(s=!0),i=i.parentNode}t.set(n,!0)}},__reset:function(){e=[]}};return n}}},"core/src/lib/events/helpers/weakMap.js":{script:function(e,t,n){"use strict";var r=n("@adobe/reactor-window").WeakMap;if(void 0===r){var a=Object.defineProperty,o=Date.now()%1e9;(r=function(){this.name="__st"+(1e9*Math.random()>>>0)+o+++"__"}).prototype={set:function(e,t){var n=e[this.name];return n&&n[0]===e?n[1]=t:a(e,this.name,{value:[e,t],writable:!0}),this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:void 0},delete:function(e){var t=e[this.name];return!(!t||t[0]!==e||(t[0]=t[1]=void 0,0))},has:function(e){var t=e[this.name];return!!t&&t[0]===e}}}e.exports=r}},"core/src/lib/helpers/stringAndNumberUtils.js":{script:function(e){"use strict";var t=function(e){return"number"==typeof e&&isFinite(e)},n=function(e){return"string"==typeof e||e instanceof String},r=function(e){return t(e)?String(e):e},a=function(e){return n(e)?Number(e):e};e.exports={isNumber:t,isString:n,castToStringIfNumber:r,castToNumberIfString:a}}},"core/src/lib/events/helpers/matchesProperties.js":{script:function(e,t,n){"use strict";var r=n("./../../helpers/textMatch"),a=function(e,t){return"@text"===t||"innerText"===t?e.textContent||e.innerText:t in e?e[t]:e.getAttribute?e.getAttribute(t):void 0};e.exports=function(e,t){return!t||t.every((function(t){var n=a(e,t.name),o=t.valueIsRegex?new RegExp(t.value,"i"):t.value;return r(n,o)}))}}},"core/src/lib/events/helpers/matchesSelector.js":{script:function(e,t,n,r){"use strict";e.exports=function(e,t){var n=e.matches||e.msMatchesSelector;if(n)try{return n.call(e,t)}catch(e){return r.logger.warn("Matching element failed. "+t+" is not a valid selector."),!1}return!1}}},"core/src/lib/helpers/textMatch.js":{script:function(e){"use strict";e.exports=function(e,t){if(null==t)throw new Error("Illegal Argument: Pattern is not present");return null!=e&&("string"==typeof t?e===t:t instanceof RegExp&&t.test(e))}}}}},"video-tracking-youtube":{displayName:"Video Tracking for YouTube",hostedLibFilesBaseUrl:"https://static.qcom-stg.qantastesting.com/ams02/a1055/11/dev/launch-staging/s3_public/current//a086326e8d0e/67ff493e223e/2018a57bd617/hostedLibFiles/EP4f5e1bacd3be4f5587a7c319d5567b50/",modules:{"video-tracking-youtube/src/lib/main-module.js":{script:function(){"use strict";function e(e){YT.Player.YTEvideoTitle=e.target.getVideoData().title,YT.Player.YTEvideoId=e.target.getVideoData().video_id,YT.Player.YTEmediaLength=Math.floor(e.target.getDuration()),YT.Player.YTEmediaOffset=Math.floor(e.target.getCurrentTime()),YT.Player.YTEvideoURL=e.target.getVideoUrl()}function t(t){function n(){for(var e=Math.floor(t.target.getCurrentTime()),n=0;n<window.customCuePoint.length;n++)t.target.isVideoPlaying&&t.target.lastPlay<=Math.floor(t.target.getDuration())*window.customCuePoint[n]*.01&&e>=Math.floor(t.target.getDuration())*window.customCuePoint[n]*.01&&!o.includes(t.target.getVideoData().video_id+"|"+window.customCuePoint[n])&&(YT.Player.YTEvideoTitle=t.target.getVideoData().title,YT.Player.YTEvideoId=t.target.getVideoData().video_id,YT.Player.YTEmediaLength=Math.floor(t.target.getDuration()),YT.Player.YTEvideoURL=t.target.getVideoUrl(),YT.Player.YTEmediaOffset=e,o.push(YT.Player.YTEvideoId+"|"+window.customCuePoint[n]),window.triggerCuePoint[n]())}if(e(t),t.data==YT.PlayerState.PLAYING){if(0===YT.Player.YTEmediaOffset){t.target.lastPlay=Math.floor(YT.Player.YTEmediaOffset),t.target.isVideoPlaying=!0;for(var r=0;r<o.length;r++)o[r].includes(YT.Player.YTEvideoId)&&(o.splice(r,1),r--);void 0===window.triggerStart||t.target.started?void 0!==window.triggerReplay&&t.target.started&&!t.target.replay&&(t.target.replay=!0,window.triggerReplay()):(t.target.started=!0,window.triggerStart())}YT.Player.YTEmediaOffset>0&&void 0!==window.triggerPlay&&(t.target.lastPlay=Math.floor(YT.Player.YTEmediaOffset),t.target.isVideoPlaying=!0,window.triggerPlay()),window.triggerCuePoint.length>0&&!i.has(YT.Player.YTEvideoId)&&i.set(YT.Player.YTEvideoId,setInterval(n,1e3))}t.data==YT.PlayerState.PAUSED&&void 0!==window.triggerPause&&(t.target.isVideoPlaying=!1,window.triggerPause()),t.data==YT.PlayerState.BUFFERING&&void 0!==window.triggerBuffer&&window.triggerBuffer(),t.data==YT.PlayerState.ENDED&&(t.target.replay=!1,void 0!==window.triggerEnded&&window.triggerEnded())}function n(t){void 0!==window.triggerReady&&(e(t),window.triggerReady())}function r(e,t,n){function r(r){e+=r+t+"="+encodeURIComponent(n)}function a(){e=e.replace(o,"$1"+encodeURIComponent(n))}var o=new RegExp("([?&]"+t+"=)[^&]+","");return-1===e.indexOf("?")?r("?"):o.test(e)?a():r("&"),e}var a=new Array,o=new Array;window.customCuePoint=new Array,window.triggerCuePoint=new Array;var i=new Map;document.onreadystatechange=function(){if("complete"===document.readyState){for(var e=0,o="player",i=document.getElementsByTagName("iframe"),s=0;s<i.length;s++){var c=i[s].src;c.includes("https://www.youtube.com/embed/")&&(document.getElementsByTagName("iframe")[s].setAttribute("id",o+(e+1)),a.push(o+(e+1)),document.getElementsByTagName("iframe")[s].setAttribute("src",r(c,"enablejsapi","1")),c=r(c,"enablejsapi","1"),document.getElementsByTagName("iframe")[s].setAttribute("src",r(c,"rel","0")),e++)}var l=new Array;window.onYouTubeIframeAPIReady=function(){var e;for(e=0;e<a.length;e++)l[e]=new YT.Player(a[e],{events:{started:!1,replay:!1,lastPlay:0,isVideoPlaying:!1,onStateChange:t,onReady:n}})};var d=document.createElement("script");d.src="https://www.youtube.com/iframe_api";var u=document.getElementsByTagName("script")[0];u.parentNode.insertBefore(d,u)}}}}}},"aam-dil-extension":{displayName:"Adobe Audience Manager (DIL)",hostedLibFilesBaseUrl:"https://static.qcom-stg.qantastesting.com/ams02/a1055/11/dev/launch-staging/s3_public/current//a086326e8d0e/67ff493e223e/2018a57bd617/hostedLibFiles/EP79f3ed01f5fc4447b3ed84ea6a350730/",settings:{note:"",pathExclusions:[],useSiteCatalyst:!1,dilInitConfigData:{parsedData:{partner:"qantas",visitorService:{namespace:"11B20CF953F3626B0A490D44@AdobeOrg"},secureDataCollection:!1},componentData:{partner:{name:"partner",type:"string",value:"qantas",tooltip:"Enter a string or select a data element.",errorMsg:"Cannot be blank.",isRequired:!0,description:"Partner name as provided by Audience Manager. If this field is not autopopulated, then your org ID is probably not provisioned with Audience Manager.",isValueDisabled:!1},visitorService:{name:"visitorService",type:"fixedObject",value:"",tooltip:"Use the subproperties or select a data element.",errorMsg:"Select data element.",isRequired:!0,description:'Allows DIL to hook into the Visitor ID Service. DIL relies on the setCustomerIDs function in the Visitor ID Service to pass declared IDs into Audience Manager. See <a target="_blank" href="https://marketing.adobe.com/resources/help/en_US/mcvid/mcvid-authenticated-state.html">Customer IDs and Authentication States</a> for more information.',isValueDisabled:!0,useSubproperties:!0,subRowControllerData:{title:"Subproperties for visitorService Object",rowTitle:"Subproperty",savedData:{parsedData:{namespace:"11B20CF953F3626B0A490D44@AdobeOrg"},componentData:{namespace:{name:"namespace",type:"string",value:"11B20CF953F3626B0A490D44@AdobeOrg",tooltip:"Enter a string or select a data element.",errorMsg:"Cannot be blank.",isRequired:!0,description:"Your company's Marketing Cloud Org ID. Should be autopopulated.",isValueDisabled:!1}}},configData:{namespace:{type:"string",value:"11B20CF953F3626B0A490D44@AdobeOrg",isRequired:!0,description:"Your company's Marketing Cloud Org ID. Should be autopopulated."}},tooltipText:"Add a new subproperty",includeCheckData:!1,isFreeObjectController:!1}},secureDataCollection:{name:"secureDataCollection",type:"boolean",value:!1,tooltip:"Use the radio buttons.",errorMsg:"Select data element.",isRequired:!0,description:'DIL calls are made over https by default (including the destination publishing iframe). This is what is meant by "secure data collection." The flag secureDataCollection is optional and is true by default. If set to false, DIL will follow the page protocol.<br><br>The Visitor ID Service still follows the page protocol. When this is http, the destination publishing iframe is loaded over http. This causes an origin conflict (a JavaScript error) with DIL, which has the destination publishing iframe on https. Id syncs are still fired, but url destinations are not.<br><br>Until the Visitor ID Service is https by default, the workaround is to set DIL\'s secureDataCollection to false when both the Visitor ID Service and DIL are on the page.',isValueDisabled:!0,chooseDataElement:!1}}},siteCatalystConfig:function(){return{names:["pageName","channel","campaign","products","events","pe","referrer","server","purchaseID","zip","state"],iteratedNames:[{name:"eVar",maxIndex:125},{name:"prop",maxIndex:75},{name:"pev",maxIndex:3},{name:"hier",maxIndex:4}]}},useGoogleAnalytics:!1,googleAnalyticsData:{parsedData:{variableNameForGoogleAnalytics:"ga"},componentData:{variableNameForGoogleAnalytics:{name:"variableNameForGoogleAnalytics",type:"string",value:"ga",tooltip:"Enter a string or select a data element.",errorMsg:"Cannot be blank.",isRequired:!0,description:"",isValueDisabled:!1}}}},
modules:{"aam-dil-extension/src/lib/sharedModules/dilinstance.js":{script:function(e,t,n,r){"use strict";function a(e){return(s.pathExclusions||[]).some((function(t){return t.valueIsRegex?new RegExp(t.value,"i").test(e):t.value===e}))}var o=n("@adobe/reactor-document");n("../../view/configuration/js/dil");var i,s=r.getExtensionSettings(),c=r.getSharedModule("adobe-analytics","augment-tracker"),l=r.logger;if(r.getSharedModule("adobe-mcid","mcid-instance"),a(o.location.pathname))l.warn("AAM DIL extension not loaded. One of the path exclusions matches the current path.");else try{var d=s.dilInitConfigData.parsedData;if((i=DIL.getDil(d.partner,d.containerNSID))instanceof DIL)l.log("Using existing DIL instance. Not attempting to reinvoke DIL.modules.siteCatalyst.init and DIL.modules.GA.submitUniversalAnalytics");else if(i=DIL.create(d),l.log("DIL instance created."),c&&s.useSiteCatalyst&&c((function(e){e&&(DIL.modules.siteCatalyst.init(e,i,s.siteCatalystConfig()),l.log("DIL.modules.siteCatalyst.init called."))})),s.useGoogleAnalytics){var u=s.googleAnalyticsData.parsedData.variableNameForGoogleAnalytics||"ga";DIL.modules.GA.submitUniversalAnalytics(window[u],i),l.log("DIL.modules.GA.submitUniversalAnalytics called.")}}catch(e){try{l.error(e),i&&i.log.push(e)}catch(e){}}e.exports=i}},"aam-dil-extension/src/view/configuration/js/dil.js":{script:function(){!function(){"use strict";function e(e,t,n){var r="",a=t||"Error caught in DIL module/submodule: ";return e===Object(e)?r=a+(e.message||"err has no message"):(r=a+"err is not a valid object",e={}),e.message=r,n instanceof DIL&&(e.partner=n.api.getPartner()),DIL.errorModule.handleError(e),this.errorMessage=r}var t,n,r,a={submitUniversalAnalytics:function(e,t,n){try{var r,a,o,i,s=e.getAll()[0],c=s.model.data[n||"b"],l={};for(r=0,a=c.length;r<a;r++)o=c[r],void 0===(i=s.get(o))||"function"==typeof i||i===Object(i)||/^_/.test(o)||/^&/.test(o)||(l[o]=i);return t.api.signals(l,"c_").submit(),l}catch(e){return"Caught error with message: "+e.message}},dil:null,arr:null,tv:null,errorMessage:"",defaultTrackVars:["_setAccount","_setCustomVar","_addItem","_addTrans","_trackSocial"],defaultTrackVarsObj:null,signals:{},hasSignals:!1,handle:e,init:function(e,t,n){try{this.dil=null,this.arr=null,this.tv=null,this.errorMessage="",this.signals={},this.hasSignals=!1;var r={name:"DIL GA Module Error"},a="";t instanceof DIL?(this.dil=t,r.partner=this.dil.api.getPartner()):(a="dilInstance is not a valid instance of DIL",r.message=a,DIL.errorModule.handleError(r)),e instanceof Array&&e.length?this.arr=e:(a="gaArray is not an array or is empty",r.message=a,DIL.errorModule.handleError(r)),this.tv=this.constructTrackVars(n),this.errorMessage=a}catch(e){this.handle(e,"DIL.modules.GA.init() caught error with message ",this.dil)}finally{return this}},constructTrackVars:function(e){var t,n,r,a,o,i,s=[];if(this.defaultTrackVarsObj!==Object(this.defaultTrackVarsObj)){for(i={},n=0,r=(o=this.defaultTrackVars).length;n<r;n++)i[o[n]]=!0;this.defaultTrackVarsObj=i}else i=this.defaultTrackVarsObj;if(e===Object(e)){if((t=e.names)instanceof Array&&(r=t.length))for(n=0;n<r;n++)"string"==typeof(a=t[n])&&a.length&&a in i&&s.push(a);if(s.length)return s}return this.defaultTrackVars},constructGAObj:function(e){var t,n,r,a,o,i,s={},c=e instanceof Array?e:this.arr;for(t=0,n=c.length;t<n;t++)(r=c[t])instanceof Array&&r.length&&(o=r=[],i=c[t],o instanceof Array&&i instanceof Array&&Array.prototype.push.apply(o,i),"string"==typeof(a=r.shift())&&a.length&&(s[a]instanceof Array||(s[a]=[]),s[a].push(r)));return s},addToSignals:function(e,t){return"string"==typeof e&&""!==e&&null!=t&&""!==t&&(this.signals[e]instanceof Array||(this.signals[e]=[]),this.signals[e].push(t),this.hasSignals=!0)},constructSignals:function(){var e,t,n,r,a,o,i=this.constructGAObj(),s={_setAccount:function(e){this.addToSignals("c_accountId",e)},_setCustomVar:function(e,t,n){"string"==typeof t&&t.length&&this.addToSignals("c_"+t,n)},_addItem:function(e,t,n,r,a,o){this.addToSignals("c_itemOrderId",e),this.addToSignals("c_itemSku",t),this.addToSignals("c_itemName",n),this.addToSignals("c_itemCategory",r),this.addToSignals("c_itemPrice",a),this.addToSignals("c_itemQuantity",o)},_addTrans:function(e,t,n,r,a,o,i,s){this.addToSignals("c_transOrderId",e),this.addToSignals("c_transAffiliation",t),this.addToSignals("c_transTotal",n),this.addToSignals("c_transTax",r),this.addToSignals("c_transShipping",a),this.addToSignals("c_transCity",o),this.addToSignals("c_transState",i),this.addToSignals("c_transCountry",s)},_trackSocial:function(e,t,n,r){this.addToSignals("c_socialNetwork",e),this.addToSignals("c_socialAction",t),this.addToSignals("c_socialTarget",n),this.addToSignals("c_socialPagePath",r)}},c=this.tv;for(e=0,t=c.length;e<t;e++)if(n=c[e],i.hasOwnProperty(n)&&s.hasOwnProperty(n)&&(o=i[n])instanceof Array)for(r=0,a=o.length;r<a;r++)s[n].apply(this,o[r])},submit:function(){try{return""!==this.errorMessage?this.errorMessage:(this.constructSignals(),this.hasSignals?(this.dil.api.signals(this.signals).submit(),"Signals sent: "+this.dil.helpers.convertObjectToKeyValuePairs(this.signals,"=",!0)):"No signals present")}catch(e){return this.handle(e,"DIL.modules.GA.submit() caught error with message ",this.dil)}},Stuffer:{LIMIT:5,dil:null,cookieName:null,delimiter:null,errorMessage:"",handle:e,callback:null,v:function(){return!1},init:function(e,t,n){try{this.dil=null,this.callback=null,this.errorMessage="",e instanceof DIL?(this.dil=e,this.v=this.dil.validators.isPopulatedString,this.cookieName=this.v(t)?t:"aam_ga",this.delimiter=this.v(n)?n:"|"):this.handle({message:"dilInstance is not a valid instance of DIL"},"DIL.modules.GA.Stuffer.init() error: ")}catch(e){this.handle(e,"DIL.modules.GA.Stuffer.init() caught error with message ",this.dil)}finally{return this}},process:function(e){var t,n,r,a,o,i,s,c,l,d,u,p=!1,g=1;if(e===Object(e)&&(t=e.stuff)&&t instanceof Array&&(n=t.length))for(r=0;r<n;r++)if((a=t[r])&&a===Object(a)&&(o=a.cn,i=a.cv,o===this.cookieName&&this.v(i))){p=!0;break}if(p){for(s=i.split(this.delimiter),void 0===window._gaq&&(window._gaq=[]),c=window._gaq,r=0,n=s.length;r<n&&(d=(l=s[r].split("="))[0],u=l[1],this.v(d)&&this.v(u)&&c.push(["_setCustomVar",g++,d,u,1]),!(g>this.LIMIT));r++);this.errorMessage=1<g?"No errors - stuffing successful":"No valid values to stuff"}else this.errorMessage="Cookie name and value not found in json";if("function"==typeof this.callback)return this.callback()},submit:function(){try{var e=this;return""!==this.errorMessage?this.errorMessage:(this.dil.api.afterResult((function(t){e.process(t)})).submit(),"DIL.modules.GA.Stuffer.submit() successful")}catch(e){return this.handle(e,"DIL.modules.GA.Stuffer.submit() caught error with message ",this.dil)}}}},o={dil:null,handle:e,init:function(e,t,n,r){try{var a=this,o={name:"DIL Site Catalyst Module Error"},i=function(e){return o.message=e,DIL.errorModule.handleError(o),e};if(this.options=r===Object(r)?r:{},this.dil=null,!(t instanceof DIL))return i("dilInstance is not a valid instance of DIL");if(this.dil=t,o.partner=t.api.getPartner(),e!==Object(e))return i("siteCatalystReportingSuite is not an object");var s=e;return window.AppMeasurement_Module_DIL=s.m_DIL=function(e){var t="function"==typeof e.m_i?e.m_i("DIL"):this;if(t!==Object(t))return i("m is not an object");t.trackVars=a.constructTrackVars(n),t.d=0,t.s=e,t._t=function(){var e,t,n,r,o,s,c=this,l=","+c.trackVars+",",d=c.s,u=[],p=[],g={},f=!1;if(d!==Object(d))return i("Error in m._t function: s is not an object");if(c.d){if("function"==typeof d.foreachVar)d.foreachVar((function(e,t){void 0!==t&&(g[e]=t,f=!0)}),c.trackVars);else{if(!(d.va_t instanceof Array))return i("Error in m._t function: s.va_t is not an array");if(d.lightProfileID?e=(e=d.lightTrackVars)&&","+e+","+d.vl_mr+",":(d.pe||d.linkType)&&(e=d.linkTrackVars,d.pe&&(t=d.pe.substring(0,1).toUpperCase()+d.pe.substring(1),d[t]&&(e=d[t].trackVars)),e=e&&","+e+","+d.vl_l+","+d.vl_l2+","),e){for(s=0,u=e.split(",");s<u.length;s++)0<=l.indexOf(","+u[s]+",")&&p.push(u[s]);p.length&&(l=","+p.join(",")+",")}for(r=0,o=d.va_t.length;r<o;r++)n=d.va_t[r],0<=l.indexOf(","+n+",")&&void 0!==d[n]&&null!==d[n]&&""!==d[n]&&(g[n]=d[n],f=!0)}a.includeContextData(d,g).store_populated&&(f=!0),f&&c.d.api.signals(g,"c_").submit()}}},s.loadModule("DIL"),s.DIL.d=t,o.message?o.message:"DIL.modules.siteCatalyst.init() completed with no errors"}catch(e){return this.handle(e,"DIL.modules.siteCatalyst.init() caught error with message ",this.dil)}},constructTrackVars:function(e){var t,n,r,a,o,i,s,c,l=[];if(e===Object(e)){if((t=e.names)instanceof Array&&(a=t.length))for(r=0;r<a;r++)"string"==typeof(o=t[r])&&o.length&&l.push(o);if((n=e.iteratedNames)instanceof Array&&(a=n.length))for(r=0;r<a;r++)if((i=n[r])===Object(i)&&(o=i.name,c=parseInt(i.maxIndex,10),"string"==typeof o&&o.length&&!isNaN(c)&&0<=c))for(s=0;s<=c;s++)l.push(o+s);if(l.length)return l.join(",")}return this.constructTrackVars({names:["pageName","channel","campaign","products","events","pe","pev1","pev2","pev3"],iteratedNames:[{name:"prop",maxIndex:75},{name:"eVar",maxIndex:250}]})},includeContextData:function(e,t){var n={},r=!1;if(e.contextData===Object(e.contextData)){var a,o,i,s,c,l=e.contextData,d=this.options.replaceContextDataPeriodsWith,u=this.options.filterFromContextVariables,p={};if("string"==typeof d&&d.length||(d="_"),u instanceof Array)for(a=0,o=u.length;a<o;a++)i=u[a],this.dil.validators.isPopulatedString(i)&&(p[i]=!0);for(s in l)l.hasOwnProperty(s)&&!p[s]&&(!(c=l[s])&&"number"!=typeof c||(t[s=("contextData."+s).replace(/\./g,d)]=c,r=!0))}return n.store_populated=r,n}};"function"!=typeof window.DIL&&(window.DIL=function(e){function t(e){return void 0===e||!0===e}function n(){z||(z=!0,A.registerRequest(),Q())}var r,a,o,i,s,c,l,d,u,p,g,f,m,h,y,b,v,w,E,C,D,I=[],S={};e!==Object(e)&&(e={}),o=e.partner,i=e.containerNSID,s=e.mappings,c=e.uuidCookie,l=!0===e.enableErrorReporting,d=e.visitorService,u=e.declaredId,p=!0===e.delayAllUntilWindowLoad,g=t(e.secureDataCollection),f="boolean"==typeof e.isCoopSafe?e.isCoopSafe:null,m=t(e.enableHrefererParam),h=t(e.enableLogging),y=t(e.enableUrlDestinations),b=t(e.enableCookieDestinations),v=!0===e.disableDefaultRequest,w=e.afterResultForDefaultRequest,E=e.visitorConstructor,C=!0===e.disableCORS,D=!0===e.ignoreHardDependencyOnVisitorAPI,l&&DIL.errorModule.activate(),D&&I.push("Warning: this instance is configured to ignore the hard dependency on the VisitorAPI service. This means that no URL destinations will be fired if the instance has no connection to VisitorAPI. If the VisitorAPI service is not instantiated, ID syncs will not be fired either.");var k=!0===window._dil_unit_tests;if((r=arguments[1])&&I.push(r+""),!o||"string"!=typeof o){var P={name:"error",message:r="DIL partner is invalid or not specified in initConfig",filename:"dil.js"};return DIL.errorModule.handleError(P),new Error(r)}if(r="DIL containerNSID is invalid or not specified in initConfig, setting to default of 0",!i&&"number"!=typeof i||(i=parseInt(i,10),!isNaN(i)&&0<=i&&(r="")),r&&(i=0,I.push(r),r=""),(a=DIL.getDil(o,i))instanceof DIL&&a.api.getPartner()===o&&a.api.getContainerNSID()===i)return a;if(!(this instanceof DIL))return new DIL(e,"DIL was not instantiated with the 'new' operator, returning a valid instance with partner = "+o+" and containerNSID = "+i);DIL.registerDil(this,o,i);var O={doesConsoleLogExist:window.console===Object(window.console)&&"function"==typeof window.console.log,logMemo:{},log:function(e){I.push(e),h&&this.doesConsoleLogExist&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,arguments)},logOnce:function(e){this.logMemo[e]||(this.logMemo[e]=!0,O.log(e))}},T={IS_HTTPS:g||"https:"===document.location.protocol,SIX_MONTHS_IN_MINUTES:259200,IE_VERSION:function(){if(document.documentMode)return document.documentMode;for(var e=7;4<e;e--){var t=document.createElement("div");if(t.innerHTML="<!--[if IE "+e+"]><span></span><![endif]-->",t.getElementsByTagName("span").length)return t=null,e}return null}()};T.IS_IE_LESS_THAN_10="number"==typeof T.IE_VERSION&&T.IE_VERSION<10;var L={stuffed:{}},j={},A={firingQueue:[],fired:[],firing:!1,sent:[],errored:[],reservedKeys:{sids:!0,pdata:!0,logdata:!0,callback:!0,postCallbackFn:!0,useImageRequest:!0},firstRequestHasFired:!1,abortRequests:!1,num_of_cors_responses:0,num_of_cors_errors:0,corsErrorSources:[],num_of_img_responses:0,num_of_img_errors:0,platformParams:{d_nsid:i+"",d_rtbd:"json",d_jsonv:DIL.jsonVersion+"",d_dst:"1"},nonModStatsParams:{d_rtbd:!0,d_dst:!0,d_cts:!0,d_rs:!0},modStatsParams:null,adms:{TIME_TO_CATCH_ALL_REQUESTS_RELEASE:3e4,calledBack:!1,mid:null,noVisitorAPI:null,VisitorAPI:null,instance:null,releaseType:"no VisitorAPI",isOptedOut:!0,isOptedOutCallbackCalled:!1,admsProcessingStarted:!1,process:function(e){try{if(this.admsProcessingStarted)return;this.admsProcessingStarted=!0;var t,n,r,a=d;if("function"!=typeof e||"function"!=typeof e.getInstance)throw this.noVisitorAPI=!0,new Error("Visitor does not exist.");if(a!==Object(a)||!(t=a.namespace)||"string"!=typeof t)throw this.releaseType="no namespace",new Error("DIL.create() needs the initConfig property `visitorService`:{namespace:'<Experience Cloud Org ID>'}");if((n=e.getInstance(t,{idSyncContainerID:i}))!==Object(n)||"function"!=typeof n.isAllowed||"function"!=typeof n.getMarketingCloudVisitorID||"function"!=typeof n.getCustomerIDs||"function"!=typeof n.isOptedOut||"function"!=typeof n.publishDestinations)throw this.releaseType="invalid instance",r="Invalid Visitor instance.",n===Object(n)&&"function"!=typeof n.publishDestinations&&(r+=" In particular, visitorInstance.publishDestinations is not a function. This is needed to fire URL destinations in DIL v8.0+ and should be present in Visitor v3.3.0+ ."),new Error(r);if(this.VisitorAPI=e,!n.isAllowed())return this.releaseType="VisitorAPI is not allowed to write cookies",void this.releaseRequests();this.instance=n,this.waitForMidToReleaseRequests()}catch(e){if(!D)throw new Error("Error in processing Visitor API, which is a hard dependency for DIL v8.0+: "+e.message);this.releaseRequests()}},waitForMidToReleaseRequests:function(){var e=this;this.instance&&(this.instance.getMarketingCloudVisitorID((function(t){e.mid=t,e.releaseType="VisitorAPI",e.releaseRequests()}),!0),(!U.exists||!U.isIabContext&&U.isApproved()||U.isIabContext&&G.hasGoSignal())&&setTimeout((function(){"VisitorAPI"!==e.releaseType&&(e.releaseType="timeout",e.releaseRequests())}),this.getLoadTimeout()))},releaseRequests:function(){this.calledBack=!0,A.registerRequest()},getMarketingCloudVisitorID:function(){return this.instance?this.instance.getMarketingCloudVisitorID():null},getMIDQueryString:function(){var e=q.isPopulatedString,t=this.getMarketingCloudVisitorID();return e(this.mid)&&this.mid===t||(this.mid=t),e(this.mid)?"d_mid="+this.mid+"&":""},getCustomerIDs:function(){return this.instance?this.instance.getCustomerIDs():null},getCustomerIDsQueryString:function(e){if(e!==Object(e))return"";var t,n,r,a,o="",i=[],s=[];for(t in e)e.hasOwnProperty(t)&&(n=e[s[0]=t])===Object(n)&&(s[1]=n.id||"",s[2]=n.authState||0,i.push(s),s=[]);if(a=i.length)for(r=0;r<a;r++)o+="&d_cid_ic="+V.encodeAndBuildRequest(i[r],"%01");return o},getIsOptedOut:function(){this.instance?this.instance.isOptedOut([this,this.isOptedOutCallback],this.VisitorAPI.OptOut.GLOBAL,!0):(this.isOptedOut=!1,this.isOptedOutCallbackCalled=!0)},isOptedOutCallback:function(e){this.isOptedOut=e,this.isOptedOutCallbackCalled=!0,A.registerRequest(),U.isIabContext()&&G.checkQueryStringObject()},getLoadTimeout:function(){var e=this.instance;if(e){if("function"==typeof e.getLoadTimeout)return e.getLoadTimeout();if(void 0!==e.loadTimeout)return e.loadTimeout}return this.TIME_TO_CATCH_ALL_REQUESTS_RELEASE}},declaredId:{declaredId:{init:null,request:null},declaredIdCombos:{},setDeclaredId:function(e,t){var n=q.isPopulatedString,r=encodeURIComponent;if(e===Object(e)&&n(t)){var a=e.dpid,o=e.dpuuid,i=null;if(n(a)&&n(o))return i=r(a)+"$"+r(o),!0===this.declaredIdCombos[i]?"setDeclaredId: combo exists for type '"+t+"'":(this.declaredIdCombos[i]=!0,this.declaredId[t]={dpid:a,dpuuid:o},"setDeclaredId: succeeded for type '"+t+"'")}return"setDeclaredId: failed for type '"+t+"'"},getDeclaredIdQueryString:function(){var e=this.declaredId.request,t=this.declaredId.init,n=encodeURIComponent,r="";return null!==e?r="&d_dpid="+n(e.dpid)+"&d_dpuuid="+n(e.dpuuid):null!==t&&(r="&d_dpid="+n(t.dpid)+"&d_dpuuid="+n(t.dpuuid)),r}},registerRequest:function(e){var t,n=this.firingQueue;e===Object(e)&&(n.push(e),e.isDefaultRequest||(v=!0)),this.firing||!n.length||p&&!DIL.windowLoaded||(this.adms.isOptedOutCallbackCalled||this.adms.getIsOptedOut(),this.adms.calledBack&&!this.adms.isOptedOut&&this.adms.isOptedOutCallbackCalled&&(U.isApproved()||G.hasGoSignal())&&(this.adms.isOptedOutCallbackCalled=!1,(t=n.shift()).src=t.src.replace(/&d_nsid=/,"&"+this.adms.getMIDQueryString()+G.getQueryString()+"d_nsid="),q.isPopulatedString(t.corsPostData)&&(t.corsPostData=t.corsPostData.replace(/^d_nsid=/,this.adms.getMIDQueryString()+G.getQueryString()+"d_nsid=")),N.fireRequest(t),this.firstRequestHasFired||"script"!==t.tag&&"cors"!==t.tag||(this.firstRequestHasFired=!0)))},processVisitorAPI:function(){this.adms.process(E||window.Visitor)},getCoopQueryString:function(){var e="";return!0===f?e="&d_coop_safe=1":!1===f&&(e="&d_coop_unsafe=1"),e}};S.requestController=A;var _,R,x={sendingMessages:!1,messages:[],messagesPosted:[],destinations:[],destinationsPosted:[],jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],publishDestinationsVersion:null,requestToProcess:function(e,t){function n(){a.jsonForComparison.push(e),a.jsonWaiting.push([e,t])}var r,a=this;if(e&&!q.isEmptyObject(e))if(r=JSON.stringify(e.dests||[]),this.jsonForComparison.length){var o,i,s,c=!1;for(o=0,i=this.jsonForComparison.length;o<i;o++)if(s=this.jsonForComparison[o],r===JSON.stringify(s.dests||[])){c=!0;break}c?this.jsonDuplicates.push(e):n()}else n();if(this.jsonWaiting.length){var l=this.jsonWaiting.shift();this.process(l[0],l[1]),this.requestToProcess()}this.messages.length&&!this.sendingMessages&&this.sendMessages()},process:function(e){if(y){var t,n,r,a,o,i,s=encodeURIComponent,c=this.getPublishDestinationsVersion(),l=!1;if(-1!==c){if((t=e.dests)&&t instanceof Array&&(n=t.length)){for(r=0;r<n;r++)a=t[r],i=[s("dests"),s(a.id||""),s(a.y||""),s(a.c||"")].join("|"),this.addMessage(i),o={url:a.c,hideReferrer:void 0===a.hr||!!a.hr,message:i},this.addDestination(o),void 0!==a.hr&&(l=!0);1===c&&l&&O.logOnce("Warning: visitorInstance.publishDestinations version is old (Visitor v3.3.0 to v4.0.0). URL destinations will not have the option of being fired on page, only in the iframe.")}this.jsonProcessed.push(e)}}},addMessage:function(e){this.messages.push(e)},addDestination:function(e){this.destinations.push(e)},sendMessages:function(){this.sendingMessages||(this.sendingMessages=!0,y&&this.messages.length&&this.publishDestinations())},publishDestinations:function(){function e(e){O.log("visitor.publishDestinations() result: "+(e.error||e.message)),n.sendingMessages=!1,n.requestToProcess()}function t(){n.messages=[],n.destinations=[]}var n=this,r=A.adms.instance,a=[],i=[];return 1===this.publishDestinationsVersion?(V.extendArray(a,this.messages),V.extendArray(this.messagesPosted,this.messages),t(),r.publishDestinations(o,a,e),"Called visitor.publishDestinations() version 1"):1<this.publishDestinationsVersion?(V.extendArray(i,this.destinations),V.extendArray(this.destinationsPosted,this.destinations),t(),r.publishDestinations({subdomain:o,callback:e,urlDestinations:i}),"Called visitor.publishDestinations() version > 1"):void 0},getPublishDestinationsVersion:function(){if(null!==this.publishDestinationsVersion)return this.publishDestinationsVersion;var e=A.adms.instance,t=-1;return e.publishDestinations(null,null,(function(e){if(e===Object(e)){var n=e.error;"subdomain is not a populated string."===n?t=1:"Invalid parameters passed."===n&&(t=2)}})),this.publishDestinationsVersion=t}},M={traits:function(e){return q.isValidPdata(e)&&(j.sids instanceof Array||(j.sids=[]),V.extendArray(j.sids,e)),this},pixels:function(e){return q.isValidPdata(e)&&(j.pdata instanceof Array||(j.pdata=[]),V.extendArray(j.pdata,e)),this},logs:function(e){return q.isValidLogdata(e)&&(j.logdata!==Object(j.logdata)&&(j.logdata={}),V.extendObject(j.logdata,e)),this},customQueryParams:function(e){return q.isEmptyObject(e)||V.extendObject(j,e,A.reservedKeys),this},signals:function(e,t){var n,r=e;if(!q.isEmptyObject(r)){if(t&&"string"==typeof t)for(n in r={},e)e.hasOwnProperty(n)&&(r[t+n]=e[n]);V.extendObject(j,r,A.reservedKeys)}return this},declaredId:function(e){return A.declaredId.setDeclaredId(e,"request"),this},result:function(e){return"function"==typeof e&&(j.callback=e),this},afterResult:function(e){return"function"==typeof e&&(j.postCallbackFn=e),this},useImageRequest:function(){return j.useImageRequest=!0,this},clearData:function(){return j={},this},submit:function(e){return j.isDefaultRequest=!!e,N.submitRequest(j),j={},this},getPartner:function(){return o},getContainerNSID:function(){return i},getEventLog:function(){return I},getState:function(){var t={},n={};return V.extendObject(t,A,{registerRequest:!0}),V.extendObject(n,x,{requestToProcess:!0,process:!0,sendMessages:!0}),{initConfig:e,pendingRequest:j,otherRequestInfo:t,destinationPublishingInfo:n,log:I}},idSync:function(){throw new Error("Please use the `idSyncByURL` method of the Experience Cloud ID Service (Visitor) instance")},aamIdSync:function(){throw new Error("Please use the `idSyncByDataSource` method of the Experience Cloud ID Service (Visitor) instance")},passData:function(e){return q.isEmptyObject(e)?"Error: json is empty or not an object":(N.defaultCallback(e),e)},getPlatformParams:function(){return A.platformParams},getEventCallConfigParams:function(){var e,t=A,n=t.modStatsParams,r=t.platformParams;if(!n){for(e in n={},r)r.hasOwnProperty(e)&&!t.nonModStatsParams[e]&&(n[e.replace(/^d_/,"")]=r[e]);!0===f?n.coop_safe=1:!1===f&&(n.coop_unsafe=1),t.modStatsParams=n}return n},setAsCoopSafe:function(){return f=!0,this},setAsCoopUnsafe:function(){return f=!1,this},getEventCallIabSignals:function(e){var t;return e!==Object(e)?"Error: config is not an object":"function"!=typeof e.callback?"Error: config.callback is not a function":(t=parseInt(e.timeout,10),isNaN(t)&&(t=null),void G.getQueryStringObject(e.callback,t))}},N={corsMetadata:(_="none","undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&"withCredentials"in new XMLHttpRequest&&(_="XMLHttpRequest"),{corsType:_}),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new window[this.corsMetadata.corsType]},submitRequest:function(e){return A.registerRequest(N.createQueuedRequest(e)),!0},createQueuedRequest:function(e){var t,n,r,a,o,i=e.callback,c="img",l=e.isDefaultRequest;if(delete e.isDefaultRequest,!q.isEmptyObject(s))for(r in s)if(s.hasOwnProperty(r)){if(null==(a=s[r])||""===a)continue;if(r in e&&!(a in e)&&!(a in A.reservedKeys)){if(null==(o=e[r])||""===o)continue;e[a]=o}}return q.isValidPdata(e.sids)||(e.sids=[]),q.isValidPdata(e.pdata)||(e.pdata=[]),q.isValidLogdata(e.logdata)||(e.logdata={}),e.logdataArray=V.convertObjectToKeyValuePairs(e.logdata,"=",!0),e.logdataArray.push("_ts="+(new Date).getTime()),"function"!=typeof i&&(i=this.defaultCallback),t=this.makeRequestSrcData(e),(n=this.getCORSInstance())&&!0!==e.useImageRequest&&(c="cors"),{tag:c,src:t.src,corsSrc:t.corsSrc,callbackFn:i,postCallbackFn:e.postCallbackFn,useImageRequest:!!e.useImageRequest,requestData:e,corsInstance:n,corsPostData:t.corsPostData,isDefaultRequest:l}},defaultCallback:function(e,t){var n,r,a,o,i,s,l,d,u;if(b&&(n=e.stuff)&&n instanceof Array&&(r=n.length))for(a=0;a<r;a++)(o=n[a])&&o===Object(o)&&(i=o.cn,s=o.cv,void 0!==(l=o.ttl)&&""!==l||(l=Math.floor(V.getMaxCookieExpiresInMinutes()/60/24)),d=o.dmn||"."+document.domain.replace(/^www\./,""),u=o.type,i&&(s||"number"==typeof s)&&("var"!==u&&(l=parseInt(l,10))&&!isNaN(l)&&V.setCookie(i,s,24*l*60,"/",d,!1),L.stuffed[i]=s));var p,g,f=e.uuid;q.isPopulatedString(f)&&(q.isEmptyObject(c)||("string"==typeof(p=c.path)&&p.length||(p="/"),g=parseInt(c.days,10),isNaN(g)&&(g=100),V.setCookie(c.name||"aam_did",f,24*g*60,p,c.domain||"."+document.domain.replace(/^www\./,""),!0===c.secure))),A.abortRequests||x.requestToProcess(e,t)},makeRequestSrcData:function(e){e.sids=q.removeEmptyArrayValues(e.sids||[]),e.pdata=q.removeEmptyArrayValues(e.pdata||[]);var t=A,n=t.platformParams,r=V.encodeAndBuildRequest(e.sids,","),a=V.encodeAndBuildRequest(e.pdata,","),i=(e.logdataArray||[]).join("&");delete e.logdataArray;var s,c,l=encodeURIComponent,d=T.IS_HTTPS?"https://":"http://",u=t.declaredId.getDeclaredIdQueryString(),p=t.adms.instance?t.adms.getCustomerIDsQueryString(t.adms.getCustomerIDs()):"",g=function(){var n,r,a,o,i=[];for(n in e)if(!(n in t.reservedKeys)&&e.hasOwnProperty(n))if(r=e[n],n=l(n),r instanceof Array)for(a=0,o=r.length;a<o;a++)i.push(n+"="+l(r[a]));else i.push(n+"="+l(r));return i.length?"&"+i.join("&"):""}(),f="d_dil_ver="+l(DIL.version),h="d_nsid="+n.d_nsid+t.getCoopQueryString()+u+p+(r.length?"&d_sid="+r:"")+(a.length?"&d_px="+a:"")+(i.length?"&d_ld="+l(i):""),y="&d_rtbd="+n.d_rtbd+"&d_jsonv="+n.d_jsonv+"&d_dst="+n.d_dst,b=m?"&h_referer="+l(location.href):"";return c=(s=d+o+".demdex.net/event")+"?"+f+"&"+h+y+g+b,{corsSrc:s+"?"+f+"&_ts="+(new Date).getTime(),src:c,corsPostData:h+y+g+b,isDeclaredIdCall:""!==u}},fireRequest:function(e){if("img"===e.tag)this.fireImage(e);else{var t=A.declaredId,n=t.declaredId.request||t.declaredId.init||{},r={dpid:n.dpid||"",dpuuid:n.dpuuid||""};this.fireCORS(e,r)}},fireImage:function(e){var t,n,a=A;a.abortRequests||(a.firing=!0,t=new Image(0,0),a.sent.push(e),t.onload=function(){a.firing=!1,a.fired.push(e),a.num_of_img_responses++,a.registerRequest()},n=function(t){r="imgAbortOrErrorHandler received the event of type "+t.type,O.log(r),a.abortRequests=!0,a.firing=!1,a.errored.push(e),a.num_of_img_errors++,a.registerRequest()},t.addEventListener("error",n),t.addEventListener("abort",n),t.src=e.src)},fireCORS:function(e,t){var n=this,a=A,i=this.corsMetadata.corsType,s=e.corsSrc,c=e.corsInstance,l=e.corsPostData,d=e.postCallbackFn,u="function"==typeof d;if(!a.abortRequests&&!C){a.firing=!0;try{c.open("post",s,!0),"XMLHttpRequest"===i&&(c.withCredentials=!0,c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.onreadystatechange=function(){4===this.readyState&&200===this.status&&function(i){var s;try{if((s=JSON.parse(i))!==Object(s))return n.handleCORSError(e,t,"Response is not JSON")}catch(i){return n.handleCORSError(e,t,"Error parsing response as JSON")}try{var c=e.callbackFn;a.firing=!1,a.fired.push(e),a.num_of_cors_responses++,c(s,t),u&&d(s,t)}catch(i){i.message="DIL handleCORSResponse caught error with message "+i.message,r=i.message,O.log(r),i.filename=i.filename||"dil.js",i.partner=o,DIL.errorModule.handleError(i);try{c({error:i.name+"|"+i.message},t),u&&d({error:i.name+"|"+i.message},t)}catch(i){}}finally{a.registerRequest()}}(this.responseText)}),c.onerror=function(){n.handleCORSError(e,t,"onerror")},c.ontimeout=function(){n.handleCORSError(e,t,"ontimeout")},c.send(l)}catch(i){this.handleCORSError(e,t,"try-catch")}a.sent.push(e),a.declaredId.declaredId.request=null}},handleCORSError:function(e,t,n){A.num_of_cors_errors++,A.corsErrorSources.push(n)}},q={isValidPdata:function(e){return!!(e instanceof Array&&this.removeEmptyArrayValues(e).length)},isValidLogdata:function(e){return!this.isEmptyObject(e)},isEmptyObject:function(e){if(e!==Object(e))return!0;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0},removeEmptyArrayValues:function(e){var t,n=0,r=e.length,a=[];for(n=0;n<r;n++)null!=(t=e[n])&&""!==t&&a.push(t);return a},isPopulatedString:function(e){return"string"==typeof e&&e.length}},V={convertObjectToKeyValuePairs:function(e,t,n){var r,a,o=[];for(r in t=t||"=",e)e.hasOwnProperty(r)&&null!=(a=e[r])&&""!==a&&o.push(r+t+(n?encodeURIComponent(a):a));return o},encodeAndBuildRequest:function(e,t){return e.map((function(e){return encodeURIComponent(e)})).join(t)},getCookie:function(e){var t,n,r,a=e+"=",o=document.cookie.split(";");for(t=0,n=o.length;t<n;t++){for(r=o[t];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(a))return decodeURIComponent(r.substring(a.length,r.length))}return null},setCookie:function(e,t,n,r,a,o){var i=new Date;n=n&&1e3*n*60,document.cookie=e+"="+encodeURIComponent(t)+(n?";expires="+new Date(i.getTime()+n).toUTCString():"")+(r?";path="+r:"")+(a?";domain="+a:"")+(o?";secure":"")},extendArray:function(e,t){return e instanceof Array&&t instanceof Array&&(Array.prototype.push.apply(e,t),!0)},extendObject:function(e,t,n){var r;if(e!==Object(e)||t!==Object(t))return!1;for(r in t)if(t.hasOwnProperty(r)){if(!q.isEmptyObject(n)&&r in n)continue;e[r]=t[r]}return!0},getMaxCookieExpiresInMinutes:function(){return T.SIX_MONTHS_IN_MINUTES},replaceMethodsWithFunction:function(e,t){var n;if(e===Object(e)&&"function"==typeof t)for(n in e)e.hasOwnProperty(n)&&"function"==typeof e[n]&&(e[n]=t)}},U=(R=S.requestController,{exists:null,instance:null,aamIsApproved:null,init:function(){var e=this;this.checkIfExists()?(this.exists=!0,this.instance=window.adobe.optIn,this.instance.fetchPermissions((function(){e.callback()}),!0)):this.exists=!1},checkIfExists:function(){return window.adobe===Object(window.adobe)&&window.adobe.optIn===Object(window.adobe.optIn)},callback:function(){this.aamIsApproved=this.instance.isApproved([this.instance.Categories.AAM]),R.adms.waitForMidToReleaseRequests(),R.adms.getIsOptedOut()},isApproved:function(){return!this.isIabContext()&&!R.adms.isOptedOut&&(!this.exists||this.aamIsApproved)},isIabContext:function(){return this.instance&&this.instance.isIabContext}});S.optIn=U;var $,F,B,H,G=(F=($=S).requestController,B=$.optIn,H={isVendorConsented:null,doesGdprApply:null,consentString:null,queryStringObjectCallbacks:[],init:function(){this.fetchConsentData()},hasGoSignal:function(){return!(!(B.isIabContext()&&this.isVendorConsented&&this.doesGdprApply&&"string"==typeof this.consentString&&this.consentString.length)||F.adms.isOptedOut)},fetchConsentData:function(e,t){var n=this,r={};"function"!=typeof e&&(e=function(){}),B.instance&&B.isIabContext()?(t&&(r.timeout=t),B.instance.execute({command:"iabPlugin.fetchConsentData",params:r,callback:function(t,r){r===Object(r)?(n.doesGdprApply=!!r.gdprApplies,n.consentString=r.consentString||""):(n.doesGdprApply=!1,n.consentString=""),n.isVendorConsented=B.instance.isApproved(B.instance.Categories.AAM),t?e({}):n.checkQueryStringObject(e),F.adms.waitForMidToReleaseRequests()}})):e({})},getQueryString:function(){return B.isIabContext()?"gdpr="+(this.doesGdprApply?1:0)+"&gdpr_consent="+this.consentString+"&":""},getQueryStringObject:function(e,t){this.fetchConsentData(e,t)},checkQueryStringObject:function(e){H.hasGoSignal()&&"function"==typeof e&&e({gdpr:this.doesGdprApply?1:0,gdpr_consent:this.consentString})}});S.iab=G,"error"===o&&0===i&&window.addEventListener("load",(function(){DIL.windowLoaded=!0}));var z=!1,Q=function(){setTimeout((function(){v||A.firstRequestHasFired||("function"==typeof w?M.afterResult(w).submit(!0):M.submit(!0))}),DIL.constants.TIME_TO_DEFAULT_REQUEST)},X=document;"error"!==o&&(DIL.windowLoaded?n():"complete"!==X.readyState&&"loaded"!==X.readyState?window.addEventListener("load",(function(){DIL.windowLoaded=!0,n()})):(DIL.windowLoaded=!0,n())),A.declaredId.setDeclaredId(u,"init"),U.init(),G.init(),A.processVisitorAPI(),T.IS_IE_LESS_THAN_10&&V.replaceMethodsWithFunction(M,(function(){return this})),this.api=M,this.getStuffedVariable=function(e){var t=L.stuffed[e];return t||"number"==typeof t||(t=V.getCookie(e))||"number"==typeof t||(t=""),t},this.validators=q,this.helpers=V,this.constants=T,this.log=I,this.pendingRequest=j,this.requestController=A,this.destinationPublishing=x,this.requestProcs=N,this.units=S,this.initConfig=e,this.logger=O,k&&(this.variables=L,this.callWindowLoadFunctions=n)},DIL.extendStaticPropertiesAndMethods=function(e){var t;if(e===Object(e))for(t in e)e.hasOwnProperty(t)&&(this[t]=e[t])},DIL.extendStaticPropertiesAndMethods({version:"9.5",jsonVersion:1,constants:{TIME_TO_DEFAULT_REQUEST:500},variables:{scriptNodeList:document.getElementsByTagName("script")},windowLoaded:!1,dils:{},isAddedPostWindowLoad:function(){var e=arguments[0];this.windowLoaded="function"==typeof e?!!e():"boolean"!=typeof e||e},create:function(e){try{return new DIL(e)}catch(e){throw new Error("Error in attempt to create DIL instance with DIL.create(): "+e.message)}},
registerDil:function(e,t,n){var r=t+"$"+n;r in this.dils||(this.dils[r]=e)},getDil:function(e,t){var n;return"string"!=typeof e&&(e=""),(n=e+"$"+(t=t||0))in this.dils?this.dils[n]:new Error("The DIL instance with partner = "+e+" and containerNSID = "+t+" was not found")},dexGetQSVars:function(e,t,n){var r=this.getDil(t,n);return r instanceof this?r.getStuffedVariable(e):""}}),DIL.errorModule=(t=DIL.create({partner:"error",containerNSID:0,ignoreHardDependencyOnVisitorAPI:!0}),r=!(n={harvestererror:14138,destpuberror:14139,dpmerror:14140,generalerror:14137,error:14137,noerrortypedefined:15021,evalerror:15016,rangeerror:15017,referenceerror:15018,typeerror:15019,urierror:15020}),{activate:function(){r=!0},handleError:function(e){if(!r)return"DIL error module has not been activated";e!==Object(e)&&(e={});var a=e.name?(e.name+"").toLowerCase():"",o=a in n?n[a]:n.noerrortypedefined,i=[],s={name:a,filename:e.filename?e.filename+"":"",partner:e.partner?e.partner+"":"no_partner",site:e.site?e.site+"":document.location.href,message:e.message?e.message+"":""};return i.push(o),t.api.pixels(i).logs(s).useImageRequest().submit(),"DIL error report sent"},pixelMap:n}),DIL.tools={},DIL.modules={helpers:{}}),window.DIL&&DIL.tools&&DIL.modules&&(DIL.tools.getMetaTags=function(){var e,t,n,r,a,o={},i=document.getElementsByTagName("meta");for(e=0,n=arguments.length;e<n;e++)if(null!==(r=arguments[e]))for(t=0;t<i.length;t++)if((a=i[t]).name===r){o[r]=a.content;break}return o},DIL.tools.decomposeURI=function(e){var t,n=document.createElement("a");return n.href=e||document.referrer,{hash:n.hash,host:n.host.split(":").shift(),hostname:n.hostname,href:n.href,pathname:n.pathname.replace(/^\//,""),protocol:n.protocol,search:n.search,uriParams:(t={},n.search.replace(/^(\/|\?)?|\/$/g,"").split("&").map((function(e){var n=e.split("=");t[n.shift()]=n.shift()})),t)}},DIL.tools.getSearchReferrer=function(e,t){var n=DIL.getDil("error"),r=DIL.tools.decomposeURI(e||document.referrer),a="",o="",i={DEFAULT:{queryParam:"q"},SEARCH_ENGINES:[t===Object(t)?t:{},{hostPattern:/aol\./},{hostPattern:/ask\./},{hostPattern:/bing\./},{hostPattern:/google\./},{hostPattern:/yahoo\./,queryParam:"p"}]},s=i.DEFAULT;return(a=i.SEARCH_ENGINES.filter((function(e){return!(!e.hasOwnProperty("hostPattern")||!r.hostname.match(e.hostPattern))})).shift())?{valid:!0,name:r.hostname,keywords:(n.helpers.extendObject(s,a),a=(""+r.search).match(s.queryPattern),o=s.queryPattern?a?a[1]:"":r.uriParams[s.queryParam],decodeURIComponent(o||"").replace(/\+|%20/g," "))}:{valid:!1,name:"",keywords:""}},DIL.modules.GA=a,DIL.modules.siteCatalyst=o,DIL.modules.helpers.handleModuleError=e)}()}}}},"adobe-alloy":{displayName:"Adobe Experience Platform Web SDK",hostedLibFilesBaseUrl:"https://static.qcom-stg.qantastesting.com/ams02/a1055/11/dev/launch-staging/s3_public/current//a086326e8d0e/67ff493e223e/2018a57bd617/hostedLibFiles/EP97ee26f077c34b44bd5b43f9d571c9e5/",settings:{instances:[{name:"alloy",edgeConfigId:"e64855d9-e44a-4670-ac97-a53463b66f72",stagingEdgeConfigId:"98cd03b7-93fb-41e9-96c4-10ec8bd966bc",developmentEdgeConfigId:"98cd03b7-93fb-41e9-96c4-10ec8bd966bc"}],components:{eventMerge:!1}},modules:{"adobe-alloy/dist/lib/dataElements/xdmObject/index.js":{name:"xdm-object",displayName:"XDM object",script:function(e){"use strict";e.exports=e=>e.data}},"adobe-alloy/dist/lib/actions/sendEvent/index.js":{name:"send-event",displayName:"Send event",script:function(e,t,n,r){"use strict";var a;const o=n("./createSendEvent"),i=n("../../instanceManager/index"),{sendEventCallbackStorage:s}=n("../../index"),c=n("../../utils/createGetConfigOverrides");e.exports=o({instanceManager:i,sendEventCallbackStorage:s,getConfigOverrides:c(null===(a=r.environment)||void 0===a?void 0:a.stage)})}},"adobe-alloy/dist/lib/instanceManager/index.js":{script:function(e,t,n,r){"use strict";var a;const{createCustomInstance:o,createEventMergeId:i,components:s}=n("../alloy"),c=n("./createInstanceManager"),l=n("./injectWrapOnBeforeEventSend"),d=n("../utils/createGetConfigOverrides"),u=l({version:"2.30.1"});e.exports=c({turbine:r,window:window,createCustomInstance:o,components:s,createEventMergeId:i,orgId:_satellite.company.orgId,wrapOnBeforeEventSend:u,getConfigOverrides:d(null===(a=r.environment)||void 0===a?void 0:a.stage)})}},"adobe-alloy/dist/lib/actions/sendEvent/createSendEvent.js":{script:function(e,t,n){"use strict";const r=n("../../utils/clone");e.exports=({instanceManager:e,sendEventCallbackStorage:t,getConfigOverrides:n})=>a=>{const{instanceName:o,...i}=a;i.edgeConfigOverrides=n(i);const s=e.getInstance(o);if(!s)throw new Error(`Failed to send event for instance "${o}". No matching instance was configured with this name.`);return i.xdm&&(i.xdm=r(i.xdm)),i.data&&(i.data=r(i.data)),s("sendEvent",i).then((e=>{t.triggerEvent(e)}))}}},"adobe-alloy/dist/lib/index.js":{script:function(e,t,n){"use strict";const r=n("./createEventMergeIdCache"),a=n("./createSendEventCallbackStorage"),o=n("./createMediaCollectionSessionStorage"),i=n("./createVariableStore");t.eventMergeIdCache=r(),t.sendEventCallbackStorage=a(),t.mediaCollectionSessionStorage=o(),t.variableStore=i()}},"adobe-alloy/dist/lib/utils/createGetConfigOverrides.js":{script:function(e){"use strict";const t=e=>t=>{var n,r,a,o;const{edgeConfigOverrides:i}=t;let s;if(i){if(i[e])s={...i[e]};else{if(i.development||i.staging||i.production)return;s=i}if(0!==Object.keys(s).length&&!1!==s.enabled){if(delete s.enabled,(null===(n=s.com_adobe_analytics)||void 0===n||null===(n=n.reportSuites)||void 0===n?void 0:n.length)>0&&(s.com_adobe_analytics.reportSuites=s.com_adobe_analytics.reportSuites.flatMap((e=>e.includes(",")?e.split(/,\s*/gi):e)).map((e=>e.trim())).filter(Boolean)),void 0!==(null===(r=s.com_adobe_identity)||void 0===r?void 0:r.idSyncContainerId)&&null!==(null===(a=s.com_adobe_identity)||void 0===a?void 0:a.idSyncContainerId)&&"string"==typeof(null===(o=s.com_adobe_identity)||void 0===o?void 0:o.idSyncContainerId)){const e=parseInt(s.com_adobe_identity.idSyncContainerId.trim(),10);if(Number.isNaN(e))throw new Error(`The ID sync container ID "${s.com_adobe_identity.idSyncContainerId}" is not a valid integer.`);s.com_adobe_identity.idSyncContainerId=e}return s}}};e.exports=t}},"adobe-alloy/dist/lib/utils/clone.js":{script:function(e){"use strict";e.exports=e=>JSON.parse(JSON.stringify(e))}},"adobe-alloy/dist/lib/alloy.js":{script:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function o(e,t){function n(n,r,o){if("undefined"!=typeof document){"number"==typeof(o=a({},t,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),n=encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var s in o)o[s]&&(i+="; "+s,!0!==o[s]&&(i+="="+o[s].split(";")[0]));return document.cookie=n+"="+e.write(r,n)+i}}function r(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var n=document.cookie?document.cookie.split("; "):[],r={},a=0;a<n.length;a++){var o=n[a].split("="),i=o.slice(1).join("=");try{var s=decodeURIComponent(o[0]);if(r[s]=e.read(i,s),t===s)break}catch(e){}}return t?r[t]:r}}return Object.create({set:n,get:r,remove:function(e,t){n(e,"",a({},t,{expires:-1}))},withAttributes:function(e){return o(this.converter,a({},this.attributes,e))},withConverter:function(e){return o(a({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}function i(e,t=0){return(sn[e[t+0]]+sn[e[t+1]]+sn[e[t+2]]+sn[e[t+3]]+"-"+sn[e[t+4]]+sn[e[t+5]]+"-"+sn[e[t+6]]+sn[e[t+7]]+"-"+sn[e[t+8]]+sn[e[t+9]]+"-"+sn[e[t+10]]+sn[e[t+11]]+sn[e[t+12]]+sn[e[t+13]]+sn[e[t+14]]+sn[e[t+15]]).toLowerCase()}function s(){if(!cn){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");cn=crypto.getRandomValues.bind(crypto)}return cn(ln)}function c(e,t,n){if(dn.randomUUID&&!t&&!e)return dn.randomUUID();const r=(e=e||{}).random??e.rng?.()??s();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[n+e]=r[e];return t}return i(r)}function l(e){return"object"==typeof e||void 0===e}function d(){return{matches:(e,t,n=[])=>{if(l(e[t]))return!1;const r=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!l(n[e])&&r===String(n[e]).toLowerCase())return!0;return!1}}}function u(){return{matches:(e,t,n=[])=>{if(l(e[t]))return!1;const r=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!l(n[e])&&r===String(n[e]).toLowerCase())return!1;return!0}}}function p(){return{matches:(e,t)=>void 0!==e[t]&&null!==e[t]}}function g(){return{matches:(e,t)=>void 0===e[t]||null===e[t]}}function f(e){return"number"==typeof e}function m(){return{matches:(e,t,n=[])=>{const r=e[t];if(!f(r))return!1;for(let e=0;e<n.length;e+=1)if(f(n[e])&&r>n[e])return!0;return!1}}}function h(){return{matches:(e,t,n=[])=>{const r=e[t];if(!f(r))return!1;for(let e=0;e<n.length;e+=1)if(f(n[e])&&r>=n[e])return!0;return!1}}}function y(){return{matches:(e,t,n=[])=>{const r=e[t];if(!f(r))return!1;for(let e=0;e<n.length;e+=1)if(f(n[e])&&r<n[e])return!0;return!1}}}function b(){return{matches:(e,t,n=[])=>{const r=e[t];if(!f(r))return!1;for(let e=0;e<n.length;e+=1)if(f(n[e])&&r<=n[e])return!0;return!1}}}function v(){return{matches:(e,t,n=[])=>{if(l(e[t]))return!1;const r=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!l(n[e])&&-1!==r.indexOf(String(n[e]).toLowerCase()))return!0;return!1}}}function w(){return{matches:(e,t,n=[])=>{if(l(e[t]))return!1;const r=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!l(n[e])&&-1!==r.indexOf(String(n[e]).toLowerCase()))return!1;return!0}}}function E(){return{matches:(e,t,n=[])=>{if(l(e[t]))return!1;const r=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!l(n[e])&&r.startsWith(String(n[e]).toLowerCase()))return!0;return!1}}}function C(){return{matches:(e,t,n=[])=>{if(l(e[t]))return!1;const r=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!l(n[e])&&r.endsWith(n[e].toLowerCase()))return!0;return!1}}}function D(e){return Sp[e]}function I(e){return void 0===e}function S(e,t,n,r=0,a=1/0){return e.reduce(((e,o)=>{try{const i=n.generateEventHash(Ap(o)),s=t.events[i];if(!s)return e;const{timestamps:c=[]}=s;return e+c.filter((e=>e>=r&&e<=a)).length}catch{return e}}),0)}function k(e,t,n,r=0,a=1/0){try{let o=r;const i=e.every((e=>{const r=n.generateEventHash(Ap(e)),i=t.events[r];if(!i)return!1;const s=i.timestamps[0],c=s>=o&&s<=a;return o=s,c}));return Number(i)}catch{return 0}}function P(e,t,n){let r=!0;for(let a=0;a<t.length;a+=1)r=r&&t[a].evaluate(e,n);return r}function O(e,t,n){let r=!1;for(let a=0;a<t.length;a+=1)if(r=r||t[a].evaluate(e,n),r)return!0;return!1}function T(e,t,n){return{version:e,rules:t,metadata:n}}function L(e,t,n){return{key:n,execute:(n,r)=>e.evaluate(n,r)?t:[],toString:()=>`Rule{condition=${e}, consequences=${t}}`}}function j(e,t){return{evaluate:(e,n)=>t.evaluate(e,n),toString:()=>`Condition{type=${e}, definition=${t}}`}}function A(e,t,n){return{id:e,type:t,detail:n}}function _(e,t){return{evaluate:(n,r)=>Dp.AND===e?P(n,t,r):Dp.OR===e&&O(n,t,r)}}function R(e,t,n){return{evaluate:r=>{const a=D(t);return!!a&&a.matches(r,e,n)}}}function x(e,t,n,r,a,o){return{evaluate:(i,s)=>{let c;return c=Ip.ORDERED===o?k(e,i,s,r,a):S(e,i,s,r,a),Lp(c,t,n)}}}function M(e){const{key:t,matcher:n,values:r}=e;return R(t,n,r)}function N(e){const{logic:t,conditions:n}=e;return _(t,n.map(V))}function q(e){const{events:t,from:n,to:r,matcher:a,value:o,searchType:i}=e;return x(t,a,o,n,r,i)}function V(e){const{type:t,definition:n}=e;if(Ep.MATCHER===t)return j(t,M(n));if(Ep.GROUP===t)return j(t,N(n));if(Ep.HISTORICAL===t)return j(t,q(n));throw new Error("Can not parse condition")}function U(e){const{id:t,type:n,detail:r}=e;return A(t,n,r)}function $(e){const{condition:t,consequences:n,key:r}=e;return L(V(t),n.map(U),r)}function F(e){if(e)return{provider:e.provider,providerData:Object.assign({},e.providerData)}}function B(e){const{version:t,rules:n,metadata:r}=e;return T(t,n.map($),F(r))}function H(e,t){return{provider:Rp,execute:n=>e.map((e=>e.execute(n,t))).filter((e=>e.length>0))}}function G(e){const{providerData:t}=e;if(!t)throw new Error("Provider data is missing in metadata");const{identityTemplate:n,buckets:r}=t;if(!n)throw new Error("Identity template is missing in provider data");if(!r)throw new Error("Buckets is missing in provider data")}function z(e){const{xdm:t}=e;if(!t)throw new Error("XDM object is missing in the context");const{identityMap:n}=t;if(!n)throw new Error("Identity map is missing in the XDM object");const r=n[xp];if(!r)throw new Error("ECID identity namespace is missing in the identity map");if(!Array.isArray(r)||0===r.length)throw new Error("ECID identities array is empty or not an array");const a=r[0].id;if(!a)throw new Error("ECID identity is missing in the identities array");return a}function Q(e,t,n){const{providerData:r}=n,{identityTemplate:a}=r;return a.replace(Mp,t).replace(Np,e)}function X(e){return!I(e)}function J(e,t=(e=>e[0])){const n={};return function(...r){const a=t(r);return X(n[a])||(n[a]=e(...r)),n[a]}}function Y(e,t){const n=65535&t;return((t-n)*e|0)+(n*e|0)|0}function W(e,t=0){let n;const r=e.length,a=3432918353,o=461845907;let i=t;const s=-2&r;for(let t=0;t<s;t+=2)n=e.charCodeAt(t)|e.charCodeAt(t+1)<<16,n=Y(n,a),n=(131071&n)<<15|n>>>17,n=Y(n,o),i^=n,i=(524287&i)<<13|i>>>19,i=5*i+3864292196|0;return r%2==1&&(n=e.charCodeAt(s),n=Y(n,a),n=(131071&n)<<15|n>>>17,n=Y(n,o),i^=n),i^=r<<1,i^=i>>>16,i=Y(i,2246822507),i^=i>>>13,i=Y(i,3266489909),i^=i>>>16,i}function K(e,t){const n=qp(e),r=Math.abs(n)%t/t*Vp;return Math.round(r*Vp)/Vp}function Z(e,t,n){return{allocation:Up(e,t),...n}}function ee(e){const t={};for(let n=0;n<e.length;n+=1){const r=e[n];r.key&&(t[r.key]||(t[r.key]=[]),t[r.key].push(r))}return t}function te(e,t){return t.map((t=>t.execute(e))).filter((e=>e.length>0))}function ne(e,t){G(t);const n=e.filter((e=>!e.key)),r=ee(e),{buckets:a}=t.providerData;return{provider:_p,execute:e=>{const o=z(e),i=te(e,n),s=Object.keys(r),c=[];for(let n=0;n<s.length;n+=1){const i=s[n],l=r[i],d=te(Z(Q(o,i,t),a,e),l);c.push(...d)}return[...i,...c]}}}function re(e,t,n){const{provider:r}=t;return r===_p?ne(e,t):H(e,n)}function ae(e,t={generateEventHash:()=>{throw new Error("No hash function provided")}}){const{rules:n,metadata:r={}}=B(e);return re(n,r,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.deepAssign=t.createEventMergeId=t.createCustomInstance=t.components=void 0;var oe=r(n("@adobe/reactor-query-string")),ie=e=>null==e,se=e=>!ie(e)&&!Array.isArray(e)&&"object"==typeof e,ce=(...e)=>e.length<2?Object.assign(...e):e.reduce(((e,t)=>(se(t)&&Object.keys(t).forEach((n=>{Array.isArray(t[n])?Array.isArray(e[n])?e[n].push(...t[n]):e[n]=[...t[n]]:e[n]=t[n]})),e))),le=o({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),de={get:le.get.bind(le),set:le.set.bind(le),remove:le.remove.bind(le),withConverter:le.withConverter.bind(le)};const ue=(e,t)=>{Object.keys(t).forEach((n=>{se(e[n])&&se(t[n])?ue(e[n],t[n]):e[n]=t[n]}))};var pe=(e,...t)=>{if(ie(e))throw new TypeError('deepAssign "target" cannot be null or undefined');const n=Object(e);return t.forEach((e=>ue(n,Object(e)))),n};t.deepAssign=pe;var ge=(e,t)=>n=>{const r=t.split(".").reduce(((e,t)=>(e[t]=e[t]||{},e[t])),e);pe(r,n)},fe=()=>{const e=[];return{add(t){e.push(t)},call:(...t)=>Promise.all(e.map((e=>e(...t))))}},me=({logger:e,cookieJar:t})=>({...t,set(n,r,a){e.info("Setting cookie",{name:n,value:r,...a}),t.set(n,r,a)}}),he=()=>{let e=0,t=Promise.resolve();return{addTask(n){e+=1;const r=()=>n().finally((()=>{e-=1}));return t=t.then(r,r),t},get length(){return e}}},ye=()=>{const e={};return e.promise=new Promise(((t,n)=>{e.resolve=t,e.reject=n})),e};const be=(e,t)=>e===t,ve=(e,t,n)=>{for(let r=0;r<e.length;r+=1)if(n(e[r],t))return r;return-1};var we=(e,t=be)=>e.filter(((n,r)=>ve(e,n,t)===r)),Ee=(e,t)=>e.appendChild(t);const Ce=(e,t)=>{Object.keys(t).forEach((n=>{if("style"===n&&se(t[n])){const r=t[n];Object.keys(r).forEach((t=>{e.style[t]=r[t]}))}else e[n]=t[n]}))};var De=(e,t={},n={},r=[],a=document)=>{const o=a.createElement(e);return Object.keys(t).forEach((e=>{o.setAttribute(e,t[e])})),Ce(o,n),r.forEach((e=>Ee(o,e))),o};const Ie="BODY",Se="IFRAME",ke="IMG",Pe="DIV",Oe="STYLE",Te="SCRIPT",Le="HEAD";var je=({src:e,currentDocument:t=document})=>new Promise(((n,r)=>{De(ke,{src:e},{onload:n,onerror:r,onabort:r},[],t)})),Ae=e=>"function"==typeof e,_e=e=>Array.isArray(e)&&e.length>0,Re=e=>Array.isArray(e)?e:null==e?[]:[].slice.call(e);const xe=/^\s*>/;var Me=(e,t)=>xe.test(t)?Re(e.querySelectorAll(`:scope ${t}`)):Re(e.querySelectorAll(t)),Ne=":shadow";const qe=e=>e.split(Ne),Ve=(e,t)=>{const n=t;return n.startsWith(">")?`${e instanceof Element||e instanceof Document?":scope":":host"} ${n}`:n};var Ue=(e,t)=>{const n=qe(t);if(n.length<2)return Me(e,t);let r=e;for(let e=0;e<n.length;e+=1){const t=n[e].trim();if(""===t&&r.shadowRoot){r=r.shadowRoot;continue}const a=Ve(r,t),o=Me(r,a);if(0===o.length||!o[0]||!o[0].shadowRoot)return o;r=o[0].shadowRoot}},$e=e=>-1!==e.indexOf(Ne),Fe=(e,t=document)=>$e(e)?Ue(t,e):Me(t,e);const Be="MutationObserver",He="requestAnimationFrame",Ge={childList:!0,subtree:!0},ze="visibilityState",Qe="visible",Xe=100,Je=5e3,Ye=e=>new Error(`Could not find: ${e}`),We=e=>new Promise(e),Ke=e=>Ae(e[Be]),Ze=(e,t,n,r,a)=>We(((o,i)=>{let s;const c=new e[Be]((()=>{const e=a(n);_e(e)&&(c.disconnect(),s&&clearTimeout(s),o(e))}));s=setTimeout((()=>{c.disconnect(),i(Ye(n))}),r),c.observe(t,Ge)})),et=e=>e[ze]===Qe,tt=(e,t,n,r)=>We(((a,o)=>{const i=()=>{const n=r(t);_e(n)?a(n):e[He](i)};i(),setTimeout((()=>{o(Ye(t))}),n)})),nt=(e,t,n)=>We(((r,a)=>{const o=()=>{const t=n(e);_e(t)?r(t):setTimeout(o,Xe)};o(),setTimeout((()=>{a(Ye(e))}),t)}));var rt=(e,t=Fe,n=Je,r=window,a=document)=>{const o=t(e);return _e(o)?Promise.resolve(o):Ke(r)?Ze(r,a,e,n,t):et(a)?tt(r,e,n,t):nt(e,n,t)},at=(e,t)=>t.matches?t.matches(e):t.msMatchesSelector(e),ot=e=>{const t=e.parentNode;return t?t.removeChild(e):null};const it={name:"Adobe Alloy"},st={style:{display:"none",width:0,height:0}};var ct=({appendNode:e=Ee,awaitSelector:t=rt,createNode:n=De,fireImage:r=je}={})=>{const a=r;let o;const i=()=>t(Ie).then((([t])=>o||(o=n(Se,it,st),e(t,o)))),s=({src:e})=>i().then((t=>{const n=t.contentWindow.document;return r({src:e,currentDocument:n})}));return e=>{const{hideReferrer:t,url:n}=e;return t?s({src:n}):a({src:n})}},lt=e=>se(e)&&0===Object.keys(e).length;const dt=(e,t)=>ie(e)||!se(e)?e:Object.keys(e).reduce(((n,r)=>{const a=e[r];if(se(a)){const e=dt(a,t);return lt(e)?n:{...n,[r]:e}}return t(a)?{...n,[r]:a}:n}),{}),ut=e=>{let t=2166136261;const n=16777619,r=(new TextEncoder).encode(e);for(let e=0;e<r.length;e+=1)t^=r[e],t=Math.imul(t,n);return t>>>0},pt=e=>ut(e).toString(16).padStart(8,"0");var gt="com.adobe.alloy.",ft=(e,t)=>e.slice(-t);const mt=`${gt}getTld`;var ht=(e,t)=>{let n="";const r=e.location.hostname.toLowerCase().split(".");let a=1;for(;a<r.length&&!t.get(mt);)a+=1,n=ft(r,a).join("."),t.set(mt,mt,{domain:n});return t.remove(mt,{domain:n}),n},yt="kndctr",bt=e=>e.replace("@","_"),vt=(e,t)=>`${yt}_${bt(e)}_${t}`,wt=(e,t)=>{const n={};return e.forEach((e=>{const r=t(e);n[r]||(n[r]=[]),n[r].push(e)})),n};const Et="Chrome",Ct="Edge",Dt="EdgeChromium",It="Firefox",St="IE",kt="Safari",Pt="Unknown";var Ot=e=>{let t,n=!1;return()=>(n||(n=!0,t=e()),t)};const Tt=[Et,Ct,Dt,St,Pt];var Lt=({getBrowser:e})=>Ot((()=>Tt.includes(e())));const jt="identity",At="consent",_t="cluster";var Rt=({orgId:e})=>{const t=vt(e,jt);return()=>Boolean(de.get(t))};const xt=(e,t)=>{const n=Object.keys(e);for(let r=0;r<n.length;r+=1){const a=n[r];if(e[a].test(t))return a}return Pt};var Mt=({userAgent:e})=>Ot((()=>xt({[Ct]:/Edge\/([0-9\._]+)/,[Dt]:/Edg\/([0-9\.]+)/,[Et]:/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/,[It]:/Firefox\/([0-9\.]+)(?:\s|$)/,[St]:/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/,[kt]:/Version\/([0-9\._]+).*Safari/},e)));const Nt=(e,t,n)=>({getItem(r){try{return e[t].getItem(n+r)}catch{return null}},setItem(r,a){try{return e[t].setItem(n+r,a),!0}catch{return!1}},clear(){try{return Object.keys(e[t]).forEach((r=>{r.startsWith(n)&&e[t].removeItem(r)})),!0}catch{return!1}}});var qt=e=>t=>{const n=gt+t;return{session:Nt(e,"sessionStorage",n),persistent:Nt(e,"localStorage",n)}},Vt=(e,t)=>e.filter((e=>t.includes(e))),Ut=e=>"boolean"==typeof e,$t=e=>"number"==typeof e&&!Number.isNaN(e),Ft=e=>{const t=parseInt(e,10);return $t(t)&&e===t},Bt=(e,t)=>0===t.indexOf(`${yt}_${bt(e)}_`),Ht=e=>"string"==typeof e,Gt=e=>Ht(e)&&e.length>0,zt=()=>{};const Qt=e=>{const t={},n=e.split(".");switch(n.length){case 1:t.subdomain="",t.domain=e,t.topLevelDomain="";break;case 2:t.subdomain="",t.domain=e,t.topLevelDomain=n[1];break;case 3:t.subdomain="www"===n[0]?"":n[0],t.domain=e,t.topLevelDomain=n[2];break;case 4:t.subdomain="www"===n[0]?"":n[0],t.domain=e,t.topLevelDomain=`${n[2]}.${n[3]}`}return t},Xt=e=>{try{const t=new URL(e);let n=t.pathname;return e.endsWith("/")||"/"!==n||(n=""),{host:t.hostname,path:n,query:t.search.replace(/^\?/,""),anchor:t.hash.replace(/^#/,"")}}catch{return{host:"",path:"",query:"",anchor:""}}},Jt=(e,t=Qt)=>{Ht(e)||(e="");const n=Xt(e),{host:r,path:a,query:o,anchor:i}=n;return{path:a,query:o,fragment:i,...t(r)}};var Yt=e=>{if(ie(e)||"object"!=typeof e)return null;const t=dt(e,(e=>!(ie(e)||!Ut(e)&&!$t(e)&&!Gt(e)&&!_e(e))));return lt(t)?null:t};const Wt=e=>Array.isArray(e)?e.map((e=>Wt(e))):"object"==typeof e&&null!==e?Object.keys(e).sort().reduce(((t,n)=>(t[n]=Wt(e[n]),t)),{}):e;var Kt=e=>Wt(e),Zt=e=>e instanceof Error?e:new Error(e),en=({error:e,message:t})=>{try{e.message=t}catch{}},tn=({error:e,message:t})=>{const n=Zt(e),r=`${t}\nCaused by: ${n.message}`;return en({error:n,message:r}),n},nn=e=>Ht(e)&&"true"===e.toLowerCase(),rn=(e,t)=>{if($t(e)||Ht(e)){const t=Math.round(Number(e));if(!Number.isNaN(t))return t}return t};const an=(e,t,n)=>`${e}`.padStart(t,n);var on=e=>{const t=e.getFullYear(),n=an(e.getMonth()+1,2,"0"),r=an(e.getDate(),2,"0"),a=an(e.getHours(),2,"0"),o=an(e.getMinutes(),2,"0"),i=an(e.getSeconds(),2,"0"),s=an(e.getMilliseconds(),3,"0"),c=rn(e.getTimezoneOffset(),0);return`${t}-${n}-${r}T${a}:${o}:${i}.${s}${c>0?"-":"+"}${an(Math.floor(Math.abs(c)/60),2,"0")}:${an(Math.abs(c)%60,2,"0")}`};const sn=[];for(let e=0;e<256;++e)sn.push((e+256).toString(16).slice(1));let cn;const ln=new Uint8Array(16);var dn={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};const un=e=>function(t,n){return null==t?t:e.call(this,t,n)},pn=(e,t)=>function(n,r){return t.call(this,e.call(this,n,r),r)},gn=(e,t)=>function(n,r){const a=[],o=[e,t].reduce(((e,t)=>{try{return t.call(this,e,r)}catch(t){return a.push(t),e}}),n);if(a.length)throw new Error(a.join("\n"));return o},fn=(e,t,n)=>Object.assign(pn(e,t),e,n),mn=(e,t,n)=>Object.assign(pn(e,un(t)),e,n),hn=(e,t,n)=>Object.assign(gn(un(t),e),e,n),yn=(e,t,n,r)=>{if(!e)throw new Error(`'${n}': Expected ${r}, but got ${JSON.stringify(t)}.`)};var bn=(e,t)=>(yn(Ut(e),e,t,"true or false"),e),vn=(e,t)=>(yn(Ae(e),e,t,"a function"),e),wn=(e,t)=>function(n,r){let a;const o=e.find((e=>{try{return a=e.call(this,n,r),!0}catch{return!1}}));return yn(o,n,r,t),a},En=e=>function(t,n){yn(Array.isArray(t),t,n,"an array");const r=[],a=t.map(((a,o)=>{try{return e.call(this,a,`${n}[${o}]`,t)}catch(e){return void r.push(e.message)}}));if(r.length)throw new Error(r.join("\n"));return a},Cn=e=>t=>null==t?e:t,Dn=(e="This field has been deprecated")=>function(t,n){let r=e;return void 0!==t&&(n&&(r=`'${n}': ${r}`),this&&this.logger&&this.logger.warn(r)),t},In=e=>(t,n)=>(yn(t===e,t,n,`${e}`),t),Sn=e=>function(t,n){yn(se(t),t,n,"an object");const r=[],a={};if(Object.keys(t).forEach((o=>{const i=t[o],s=n?`${n}.${o}`:o;try{const t=e.call(this,i,s);void 0!==t&&(a[o]=t)}catch(e){r.push(e.message)}})),r.length)throw new Error(r.join("\n"));return a},kn=(e,t)=>(n,r)=>(yn(n>=t,n,r,`${e} greater than or equal to ${t}`),n),Pn=(e,t)=>(n,r)=>(yn(n<=t,n,r,`${e} less than or equal to ${t}`),n),On=e=>(t,n)=>{const r=[];if(Object.keys(t).forEach((t=>{if(!e[t]){const e=n?`${n}.${t}`:t;r.push(`'${e}': Unknown field.`)}})),r.length)throw new Error(r.join("\n"));return t},Tn=e=>(t,n)=>(se(t)?yn(!lt(t),t,n,e):yn(t.length>0,t,n,e),t),Ln=e=>function(t,n){yn(se(t),t,n,"an object");const r=[],a={};if(Object.keys(e).forEach((o=>{const i=t[o],s=e[o],c=n?`${n}.${o}`:o;try{const e=s.call(this,i,c);void 0!==e&&(a[o]=e)}catch(e){r.push(e.message)}})),Object.keys(t).forEach((e=>{Object.prototype.hasOwnProperty.call(a,e)||(a[e]=t[e])})),r.length)throw new Error(r.join("\n"));return a},jn=(e,t,n)=>function(r,a){yn(se(r),r,a,"an object");const{[e]:o,[n]:i,...s}=r,c=t(o,a);if(void 0!==c){let t=`The field '${e}' is deprecated. Use '${n}' instead.`;if(a&&(t=`'${a}': ${t}`),void 0!==i&&i!==c)throw new Error(t);this&&this.logger&&this.logger.warn(t)}return{[n]:i||c,...s}},An=()=>{const e=[];return(t,n)=>(yn(-1===e.indexOf(t),t,n,"a unique value across instances"),e.push(t),t)},_n=e=>{const t=Object.create(null);for(let n=0;n<e.length;n+=1){const r=e[n];if(r in t)return!1;t[r]=!0}return!0},Rn=()=>(e,t)=>(yn(_n(e),e,t,"array values to be unique"),e);const xn=/^[a-z0-9.-]{1,}$/i;var Mn=(e,t)=>(yn(xn.test(e),e,t,"a valid domain"),e),Nn=(e,t)=>(yn(Ft(e),e,t,"an integer"),e),qn=(e,t)=>(yn($t(e),e,t,"a number"),e),Vn=e=>{try{return null!==RegExp(e)}catch{return!1}},Un=(e,t)=>(yn(Vn(e),e,t,"a regular expression"),e),$n=(e,t)=>{if(null==e)throw new Error(`'${t}' is a required option`);return e},Fn=(e,t)=>(yn(Ht(e),e,t,"a string"),e),Bn=e=>(t,n)=>(yn(e.test(t),t,n,`does not match the ${e.toString()}`),t);const Hn=e=>e;Hn.default=function(e){return fn(this,Cn(e))},Hn.required=function(){return fn(this,$n)},Hn.deprecated=function(e){return fn(this,Dn(e))};const Gn=function(){return mn(this,Mn)},zn=function(e){return mn(this,kn("an integer",e))},Qn=function(e){return mn(this,kn("a number",e))},Xn=function(e){return mn(this,Pn("a number",e))},Jn=function(){return mn(this,Nn,{minimum:zn})},Yn=function(){return mn(this,Tn("a non-empty string"))},Wn=function(){return mn(this,Tn("a non-empty array"))},Kn=function(){return mn(this,Tn("a non-empty object"))},Zn=function(){return mn(this,Un)},er=function(e){return mn(this,Bn(e))},tr=function(){return mn(this,An())},nr=function(){return mn(this,Rn())},rr=function(e,t){return fn(this,wn(e,t))},ar=function(){return this},or=function(e){return mn(this,En(e),{nonEmpty:Wn,uniqueItems:nr})},ir=function(){return mn(this,bn)},sr=function(){return mn(this,vn)},cr=function(e){return mn(this,In(e))},lr=function(){return mn(this,qn,{minimum:Qn,maximum:Xn,integer:Jn,unique:tr})},dr=function(e){return mn(this,Sn(e),{nonEmpty:Kn})},ur=e=>({noUnknownFields:function(){return mn(this,On(e))},nonEmpty:Kn,concat:function(t){const n={...e,...t.schema};return mn(this,t,ur(n))},renamed:function(e,t,n){return hn(this,jn(e,t,n))},schema:e}),pr=function(e){return mn(this,Ln(e),ur(e))},gr=function(){return mn(this,Fn,{regexp:Zn,domain:Gn,nonEmpty:Yn,unique:tr,matches:er})},fr=rr.bind(Hn),mr=ar.bind(Hn),hr=or.bind(Hn),yr=ir.bind(Hn),br=sr.bind(Hn),vr=cr.bind(Hn),wr=lr.bind(Hn),Er=dr.bind(Hn),Cr=pr.bind(Hn),Dr=gr.bind(Hn),Ir=function(...e){return fr(e.map(vr),`one of these values: ${JSON.stringify(e)}`)};var Sr=Er(hr(Cr({authenticatedState:Ir("ambiguous","authenticated","loggedOut"),id:Dr(),namespace:Cr({code:Dr()}).noUnknownFields(),primary:yr(),xid:Dr()}).noUnknownFields()).required()),kr=Cr({}),Pr="alloy_debug",Or=({console:e,locationSearch:t,createLogger:n,instanceName:r,createNamespacedStorage:a,getMonitors:o})=>{const i=oe.default.parse(t),s=a(`instance.${r}.`),c=s.session.getItem("debug");let l="true"===c,d=null===c;const u=()=>l,p=(e,{fromConfig:t})=>{t&&!d||(l=e),t||(s.session.setItem("debug",e.toString()),d=!1)};return void 0!==i[Pr]&&p(nn(i[Pr]),{fromConfig:!1}),{setDebugEnabled:p,logger:n({getDebugEnabled:u,context:{instanceName:r},getMonitors:o,console:e}),createComponentLogger:t=>n({getDebugEnabled:u,context:{instanceName:r,componentName:t},getMonitors:o,console:e})}};const Tr=["onComponentsRegistered","onBeforeEvent","onBeforeRequest","onResponse","onRequestFailure","onClick","onDecision"],Lr=(e,t)=>(...n)=>Promise.all(e.getLifecycleCallbacks(t).map((e=>new Promise((t=>{t(e(...n))}))))),jr=e=>(...t)=>Promise.resolve().then((()=>e(...t)));var Ar=e=>Tr.reduce(((t,n)=>(t[n]=jr(Lr(e,n)),t)),{});const _r=(e,t)=>(...n)=>{let r;try{r=e(...n)}catch(e){throw tn({error:e,message:t})}return r instanceof Promise&&(r=r.catch((e=>{throw tn({error:e,message:t})}))),r};var Rr=()=>{const e={},t={},n={},r=(e,n={})=>{const r=Vt(Object.keys(t),Object.keys(n));if(r.length)throw new Error(`[ComponentRegistry] Could not register ${e} because it has existing command(s): ${r.join(",")}`);Object.keys(n).forEach((r=>{const a=n[r];a.commandName=r,a.run=_r(a.run,`[${e}] An error occurred while executing the ${r} command.`),t[r]=a}))},a=(e,t={})=>{Object.keys(t).forEach((r=>{n[r]=n[r]||[],n[r].push(_r(t[r],`[${e}] An error occurred while executing the ${r} lifecycle hook.`))}))};return{register(t,n){const{commands:o,lifecycle:i}=n;r(t,o),a(t,i),e[t]=n},getCommand:e=>t[e],getCommandNames:()=>Object.keys(t),getLifecycleCallbacks:e=>n[e]||[],getComponentNames:()=>Object.keys(e)}},xr=({logger:e,sendFetchRequest:t,sendBeaconRequest:n,isRequestRetryable:r,getRequestRetryDelay:a})=>({requestId:o,url:i,payload:s,useSendBeacon:c})=>{const l=JSON.stringify(s),d=JSON.parse(l);e.logOnBeforeNetworkRequest({url:i,requestId:o,payload:d});const u=(s=0)=>(c?n:t)(i,l).then((t=>{if(r({response:t,retriesAttempted:s})){const e=a({response:t,retriesAttempted:s});return new Promise((t=>{setTimeout((()=>{t(u(s+1))}),e)}))}let n;try{n=JSON.parse(t.body)}catch{}return e.logOnNetworkResponse({requestId:o,url:i,payload:d,...t,parsedBody:n,retriesAttempted:s}),{statusCode:t.statusCode,body:t.body,parsedBody:n,getHeader:t.getHeader}}));return u().catch((t=>{throw e.logOnNetworkError({requestId:o,url:i,payload:d,error:t}),tn({error:t,message:"Network request failed."})}))},Mr=({logger:e})=>t=>{if(t){const n=t.split(";");if(n.length>=2&&n[1].length>0)try{const e=parseInt(n[1],10);if(!Number.isNaN(e))return{regionId:e}}catch{}e.warn(`Invalid adobe edge: "${t}"`)}return{}};const Nr="in",qr="out",Vr="pending",Ur="general",$r="declinedConsent",Fr="default",Br="initial",Hr="new",Gr=e=>{const t=new Error(e);return t.code=$r,t.message=e,t};var zr=({logger:e})=>{const t=[],n=()=>{for(;t.length;)t.shift().resolve()},r=()=>{for(;t.length;)t.shift().reject(Gr("The user declined consent."))},a=()=>Promise.resolve(),o=()=>Promise.resolve(),i=()=>Promise.resolve(),s=()=>Promise.reject(Gr("No consent preferences have been set.")),c=()=>Promise.reject(Gr("The user declined consent.")),l=e=>{if(e)return Promise.reject(new Error("Consent is pending."));const n=ye();return t.push(n),n.promise};return{in(t){t===Fr?this.awaitConsent=o:(t===Br?e.info("Loaded user consent preferences. The user previously consented."):t===Hr&&this.awaitConsent!==i&&e.info("User consented."),n(),this.awaitConsent=i)},out(t){t===Fr?(e.warn("User consent preferences not found. Default consent of out will be used."),this.awaitConsent=s):(t===Br?e.warn("Loaded user consent preferences. The user previously declined consent."):t===Hr&&this.awaitConsent!==c&&e.warn("User declined consent."),r(),this.awaitConsent=c)},pending(t){t===Fr&&e.info("User consent preferences not found. Default consent of pending will be used. Some commands may be delayed."),this.awaitConsent=l},awaitConsent:a,withConsent(){return this.awaitConsent(!0)},current(){switch(this.awaitConsent){case o:return{state:"in",wasSet:!1};case i:return{state:"in",wasSet:!0};case s:return{state:"out",wasSet:!1};case c:return{state:"out",wasSet:!0};case l:return{state:"pending",wasSet:!1};default:return{state:"in",wasSet:!1}}}}},Qr=({generalConsentState:e,logger:t})=>{const n=(n,r)=>{switch(n[Ur]){case Nr:e.in(r);break;case qr:e.out(r);break;case Vr:e.pending(r);break;default:t.warn(`Unknown consent value: ${n[Ur]}`)}};return{initializeConsent(e,t){t[Ur]?n(t,Br):n(e,Fr)},setConsent(e){n(e,Hr)},suspend(){e.pending()},
awaitConsent:()=>e.awaitConsent(),withConsent:()=>e.withConsent(),current:()=>e.current()}};const Xr=e=>e&&e._experience&&e._experience.decisioning&&_e(e._experience.decisioning.propositions)?e._experience.decisioning.propositions:[];var Jr=()=>{const e={};let t,n,r=!1,a=!1,o=!0;const i=e=>{if(a)throw new Error(`${e} cannot be called after event is finalized.`)},s={hasQuery(){return Object.prototype.hasOwnProperty.call(this.getContent(),"query")},getContent(){const r=JSON.parse(JSON.stringify(e));return t&&pe(r,{xdm:t}),n&&pe(r,{data:n}),r},setUserXdm(e){i("setUserXdm"),t=e},setUserData(e){i("setUserData"),n=e},mergeXdm(t){i("mergeXdm"),t&&pe(e,{xdm:t})},mergeData(t){i("mergeData"),t&&pe(e,{data:t})},mergeMeta(t){i("mergeMeta"),t&&pe(e,{meta:t})},mergeQuery(t){i("mergeQuery"),t&&pe(e,{query:t})},documentMayUnload(){r=!0},finalize(r){if(a)return;const i=we([...Xr(t),...Xr(e.xdm)],((e,t)=>e===t||e.id&&t.id&&e.id===t.id&&e.scope&&t.scope&&e.scope===t.scope));if(t&&this.mergeXdm(t),i.length>0&&(e.xdm._experience.decisioning.propositions=i),n&&s.mergeData(n),a=!0,r){o=!1;const t={xdm:e.xdm||{},data:e.data||{}},n=r(t);o=!1!==n,e.xdm=t.xdm||{},e.data=t.data||{},lt(e.xdm)&&delete e.xdm,lt(e.data)&&delete e.data}},getDocumentMayUnload:()=>r,isEmpty:()=>lt(e)&&(!t||lt(t))&&(!n||lt(n)),shouldSend:()=>o,getViewName(){if(t&&t.web&&t.web.webPageDetails)return t.web.webPageDetails.viewName},toJSON(){if(!a)throw new Error("toJSON called before finalize");return e}};return s};const Yr="Retry-After",Wr="x-adobe-edge";var Kr=({extractEdgeInfo:e})=>({content:t={},getHeader:n})=>{const{handle:r=[],errors:a=[],warnings:o=[]}=t;return{getPayloadsByType:e=>r.filter((t=>t.type===e)).flatMap((e=>e.payload)),getErrors:()=>a,getWarnings:()=>o,getEdge:()=>e(n(Wr)),toJSON:()=>t}};const Zr="configure",ea="setDebug";var ta=({logger:e,configureCommand:t,setDebugCommand:n,handleError:r,validateCommandOptions:a})=>{let o;const i=(r,i)=>{let s;if(r===Zr){if(o)throw new Error("The library has already been configured and may only be configured once.");s=()=>(o=t(i),o.then((()=>{})))}else{if(!o)throw new Error("The library must be configured first. Please do so by executing the configure command.");s=r===ea?()=>{const e=Cr({enabled:yr().required()}).noUnknownFields(),t=a({command:{commandName:ea,optionsValidator:e},options:i});n(t)}:()=>o.then((e=>{const t=e.getCommand(r);if(!t||!Ae(t.run)){const t=[Zr,ea].concat(e.getCommandNames()).join(", ");throw new Error(`The ${r} command does not exist. List of available commands: ${t}.`)}const n=a({command:t,options:i});return t.run(n)}),(()=>(e.warn(`An error during configuration is preventing the ${r} command from executing.`),new Promise((()=>{})))))}return s};return(t,n={})=>new Promise((r=>{const a=i(t,n);e.logOnBeforeCommand({commandName:t,options:n}),r(a())})).catch((e=>r(e,`${t} command`))).catch((r=>{throw e.logOnCommandRejected({commandName:t,options:n,error:r}),r})).then((r=>{const a=se(r)?r:{};return e.logOnCommandResolved({commandName:t,options:n,result:a}),a}))};const na="https://adobe.ly/3sHgQHb";var ra=({command:e,options:t})=>{const{commandName:n,documentationUri:r=na,optionsValidator:a}=e;let o=t;if(a)try{o=a(t)}catch(e){throw new Error(`Invalid ${n} command options:\n\t - ${e} For command documentation see: ${r}`)}return o};const aa="https://adobe.ly/3sHh553",oa=({combinedConfigValidator:e,options:t,logger:n})=>{try{return e.noUnknownFields().required().call({logger:n},t)}catch(e){throw new Error(`Resolve these configuration problems:\n\t - ${e.message.split("\n").join("\n\t - ")}\nFor configuration documentation see: ${aa}`)}},ia=(e,t,n)=>n.reduce(((n,{buildOnInstanceConfiguredExtraParams:r})=>(r&&(n={...n,...r({config:e,logger:t})}),n)),{}),sa=e=>{const t=[],n={get enabled(){return e.enabled},flush(){t.forEach((({method:t,args:n})=>e[t](...n)))}};return Object.keys(e).filter((t=>"function"==typeof e[t])).forEach((e=>{n[e]=(...n)=>{t.push({method:e,args:n})}})),n};var ca=({options:e,componentCreators:t,coreConfigValidators:n,createConfig:r,logger:a,setDebugEnabled:o})=>{const i=sa(a),s=t.map((({configValidators:e})=>e)).filter((e=>e)).reduce(((e,t)=>e.concat(t)),n),c=r(oa({combinedConfigValidator:s,options:e,logger:i}));o(c.debugEnabled,{fromConfig:!0}),i.flush();const l=ia(c,a,t);return a.logOnInstanceConfigured({...l,config:c}),c},la=({componentCreators:e,lifecycle:t,componentRegistry:n,getImmediatelyAvailableTools:r})=>(e.forEach((e=>{const{namespace:t}=e,a=r(t);let o;try{o=e(a)}catch(e){throw tn({error:e,message:`[${t}] An error occurred during component creation.`})}n.register(t,o)})),t.onComponentsRegistered({lifecycle:t}).then((()=>n)));const da=e=>({...e}),ua="edge.adobedc.net",pa="adobedc.demdex.net";var ga="ee",fa=()=>Cr({debugEnabled:yr().default(!1),datastreamId:Dr().unique().required(),edgeDomain:Dr().domain().default(ua),edgeBasePath:Dr().nonEmpty().default(ga),orgId:Dr().unique().required(),onBeforeEventSend:br().default(zt),edgeConfigOverrides:kr}).renamed("edgeConfigId",Dr().unique(),"datastreamId"),ma=({errorPrefix:e,logger:t})=>(n,r)=>{const a=Zt(n);if(a.code===$r)return t.warn(`The ${r} could not fully complete. ${a.message}`),{};throw en({error:a,message:`${e} ${a.message}`}),a},ha=({fetch:e})=>(t,n)=>e(t,{method:"POST",cache:"no-cache",credentials:"include",headers:{"Content-Type":"text/plain; charset=UTF-8"},referrerPolicy:"no-referrer-when-downgrade",body:n}).then((e=>e.text().then((t=>({statusCode:e.status,getHeader:t=>e.headers.get(t),body:t}))))),ya=({sendBeacon:e,sendFetchRequest:t,logger:n})=>(r,a)=>{const o=new Blob([a],{type:"text/plain; charset=UTF-8"});return e(r,o)?Promise.resolve({statusCode:204,getHeader:()=>null,body:""}):(n.info("Unable to use `sendBeacon`; falling back to `fetch`."),t(r,a))},ba=({getDebugEnabled:e,console:t,getMonitors:n,context:r})=>{let a=`[${r.instanceName}]`;r.componentName&&(a+=` [${r.componentName}]`);const o=(e,t)=>{const a=n();if(a.length>0){const n={...r,...t};a.forEach((t=>{t[e]&&t[e](n)}))}},i=(n,...r)=>{o("onBeforeLog",{level:n,arguments:r}),e()&&t[n](a,...r)};return{get enabled(){return n().length>0||e()},logOnInstanceCreated(e){o("onInstanceCreated",e),i("info","Instance initialized.")},logOnInstanceConfigured(e){o("onInstanceConfigured",e),i("info","Instance configured. Computed configuration:",e.config)},logOnBeforeCommand(e){o("onBeforeCommand",e),i("info",`Executing ${e.commandName} command. Options:`,e.options)},logOnCommandResolved(e){o("onCommandResolved",e),i("info",`${e.commandName} command resolved. Result:`,e.result)},logOnCommandRejected(e){o("onCommandRejected",e),i("error",`${e.commandName} command was rejected. Error:`,e.error)},logOnBeforeNetworkRequest(e){o("onBeforeNetworkRequest",e),i("info",`Request ${e.requestId}: Sending request.`,e.payload)},logOnNetworkResponse(e){o("onNetworkResponse",e);const t=e.parsedBody||e.body?"response body:":"no response body.";i("info",`Request ${e.requestId}: Received response with status code ${e.statusCode} and ${t}`,e.parsedBody||e.body)},logOnNetworkError(e){o("onNetworkError",e),i("error",`Request ${e.requestId}: Network request failed.`,e.error)},logOnContentHiding(e){o("onContentHiding",{status:e.status}),i(e.logLevel,e.message)},logOnContentRendering(e){o("onContentRendering",{status:e.status,payload:e.detail}),i(e.logLevel,e.message)},info:i.bind(null,"info"),warn:i.bind(null,"warn"),error:i.bind(null,"error")}},va="__view__",wa=e=>(t,n)=>{e.xdm=e.xdm||{},e.xdm.identityMap=e.xdm.identityMap||{},e.xdm.identityMap[t]=e.xdm.identityMap[t]||[],e.xdm.identityMap[t].push(n)},Ea=e=>{const{payload:t,getAction:n,getUseSendBeacon:r,datastreamIdOverride:a,edgeSubPath:o}=e,i=c();let s=!1,l=!1;return{getId:()=>i,getPayload:()=>t,getAction:()=>n({isIdentityEstablished:l}),getDatastreamIdOverride:()=>a,getUseSendBeacon:()=>r({isIdentityEstablished:l}),getEdgeSubPath:()=>o||"",getUseIdThirdPartyDomain:()=>s,setUseIdThirdPartyDomain(){s=!0},setIsIdentityEstablished(){l=!0}}},Ca=({payload:e,datastreamIdOverride:t})=>{const n=({isIdentityEstablished:t})=>e.getDocumentMayUnload()&&t;return Ea({payload:e,getAction:({isIdentityEstablished:e})=>n({isIdentityEstablished:e})?"collect":"interact",getUseSendBeacon:n,datastreamIdOverride:t})},Da=e=>{const{content:t,addIdentity:n,hasIdentity:r}=e,a=ge(t,"meta.configOverrides");return{mergeMeta:ge(t,"meta"),mergeState:ge(t,"meta.state"),mergeQuery:ge(t,"query"),mergeConfigOverride:e=>a(Yt(e)),addIdentity:n,hasIdentity:r,toJSON:()=>t}},Ia=e=>t=>void 0!==(e.xdm&&e.xdm.identityMap&&e.xdm.identityMap[t]),Sa=()=>{const e={},t=Da({content:e,addIdentity:wa(e),hasIdentity:Ia(e)});return t.addEvent=t=>{e.events=e.events||[],e.events.push(t)},t.getDocumentMayUnload=()=>(e.events||[]).some((e=>e.getDocumentMayUnload())),t},ka=({localConfigOverrides:e,globalConfigOverrides:t,payload:n})=>{const r={payload:n},{datastreamId:a,...o}=e||{};return a&&(r.datastreamIdOverride=a),t&&!lt(t)&&n.mergeConfigOverride(t),o&&!lt(o)&&n.mergeConfigOverride(o),r};const Pa="adb_validation_sessionid",Oa="validation.",Ta="clientId",La=e=>{let t=e.persistent.getItem(Ta);return t||(t=c(),e.persistent.setItem(Ta,t)),t};var ja=({window:e,createNamespacedStorage:t})=>{const n=t(Oa);return()=>{const t=oe.default.parse(e.location.search)[Pa];if(!t)return"";const r=`${t}|${La(n)}`;return`&${oe.default.stringify({adobeAepValidationToken:r})}`}};const Aa="Event was canceled because the onBeforeEventSend callback returned false.";var _a=({config:e,logger:t,lifecycle:n,consent:r,createEvent:a,createDataCollectionRequestPayload:o,createDataCollectionRequest:i,sendEdgeNetworkRequest:s,applyResponse:c})=>{const{onBeforeEventSend:l,edgeConfigOverrides:d}=e;return{createEvent:a,sendEvent(e,a={}){const{edgeConfigOverrides:c,...u}=a,p=ka({payload:o(),localConfigOverrides:c,globalConfigOverrides:d}),g=i(p),f=fe(),m=fe();return n.onBeforeEvent({...u,event:e,onResponse:f.add,onRequestFailure:m.add}).then((()=>(p.payload.addEvent(e),r.awaitConsent()))).then((()=>{try{e.finalize(l)}catch(e){const t=()=>{throw e};return m.add(n.onRequestFailure),m.call({error:e}).then(t,t)}if(!e.shouldSend()){m.add(n.onRequestFailure),t.info(Aa);const e=new Error(Aa);return m.call({error:e}).then((()=>{}))}return s({request:g,runOnResponseCallbacks:f.call,runOnRequestFailureCallbacks:m.call})}))},applyResponse(e,t={}){const{renderDecisions:r=!1,decisionContext:a={},responseHeaders:s={},responseBody:l={handle:[]},personalization:d}=t,u=o(),p=i({payload:u}),g=fe();return n.onBeforeEvent({event:e,renderDecisions:r,decisionContext:a,decisionScopes:[va],personalization:d,onResponse:g.add,onRequestFailure:zt}).then((()=>(u.addEvent(e),c({request:p,responseHeaders:s,responseBody:l,runOnResponseCallbacks:g.call}))))}}};const Ra="state:store";var xa=({cookieJar:e,shouldTransferCookie:t,apexDomain:n,dateProvider:r})=>({cookiesToPayload(r,a){const o=""!==n&&a.endsWith(n),i={domain:n,cookiesEnabled:!0};if(!o){const n=e.get(),r=Object.keys(n).filter(t).map((e=>({key:e,value:n[e]})));r.length&&(i.entries=r)}r.mergeState(i)},responseToCookies(t){t.getPayloadsByType(Ra).forEach((t=>{const a={domain:n},o=t.attrs&&t.attrs.SameSite&&t.attrs.SameSite.toLowerCase();void 0!==t.maxAge&&(a.expires=new Date(r().getTime()+1e3*t.maxAge)),void 0!==o&&(a.sameSite=o),"none"===o&&(a.secure=!0),e.set(t.key,t.value,a)}))}});const Ma="mboxEdgeCluster",Na="at_qa_mode",qa="mbox";var Va=({orgId:e,targetMigrationEnabled:t})=>n=>Bt(e,n)||n===Na||t&&n===qa,Ua="v1";const $a="TypeError",Fa="NetworkError",Ba=e=>e.name===$a||e.name===Fa||0===e.status;var Ha=e=>{const t=e.shift()||[],n=e.shift()||[];return ce({},...t,...n,...e)},Ga=e=>t=>{const n=()=>{throw t};return e.call({error:t}).then(n,n)};const za=(e,t)=>t.getUseIdThirdPartyDomain()&&Ba(e);var Qa=({config:e,lifecycle:t,cookieTransfer:n,sendNetworkRequest:r,createResponse:a,processWarningsAndErrors:o,getLocationHint:i,getAssuranceValidationTokenParams:s})=>{const{edgeDomain:c,edgeBasePath:l,datastreamId:d}=e;let u=!1;const p=(e,t)=>{const n=i(),r=n?`${l}/${n}${t.getEdgeSubPath()}`:`${l}${t.getEdgeSubPath()}`,a=t.getDatastreamIdOverride()||d;return a!==d&&t.getPayload().mergeMeta({sdkConfig:{datastream:{original:d}}}),`https://${e}/${r}/${Ua}/${t.getAction()}?configId=${a}&requestId=${t.getId()}${s()}`};return({request:e,runOnResponseCallbacks:i=zt,runOnRequestFailureCallbacks:s=zt})=>{const l=fe();l.add(t.onResponse),l.add(i);const d=fe();return d.add(t.onRequestFailure),d.add(s),t.onBeforeRequest({request:e,onResponse:l.add,onRequestFailure:d.add}).then((()=>{const t=u||!e.getUseIdThirdPartyDomain()?c:pa,a=p(t,e),o=e.getPayload();return n.cookiesToPayload(o,t),r({requestId:e.getId(),url:a,payload:o,useSendBeacon:e.getUseSendBeacon()})})).then((e=>(o(e),e))).catch((t=>{if(za(t,e)){u=!0,e.setUseIdThirdPartyDomain(!1);const t=p(c,e),a=e.getPayload();return n.cookiesToPayload(a,c),r({requestId:e.getId(),url:t,payload:a,useSendBeacon:e.getUseSendBeacon()})}return Ga(d)(t)})).then((({parsedBody:e,getHeader:t})=>{const r=a({content:e,getHeader:t});return n.responseToCookies(r),l.call({response:r}).then(Ha)}))}};const Xa=204,Ja="The server responded with a";var Ya=({logger:e})=>t=>{const{statusCode:n,body:r,parsedBody:a}=t;if(n<200||n>=300||!a&&n!==Xa||a&&!Array.isArray(a.handle)){const e=a?JSON.stringify(a,null,2):r;throw new Error(`${Ja} status code ${n} and ${e?`response body:\n${e}`:"no response body."}`)}if(a){const{warnings:t=[],errors:n=[]}=a;t.forEach((t=>{e.warn(`${Ja} warning:`,t)})),n.forEach((t=>{e.error(`${Ja} non-fatal error:`,t)}))}},Wa=({orgId:e,cookieJar:t})=>{const n=vt(e,_t),r=()=>t.get(n),a=()=>{const e=t.get(Ma);if(e)return`t${e}`};return()=>r()||a()};const Ka=3,Za=[429,503,502,504];var eo=({response:e,retriesAttempted:t})=>t<Ka&&Za.includes(e.statusCode);const to=1e3,no=1e3,ro=.3,ao=e=>{const t=to+e*no,n=t*ro,r=t-n,a=t+n;return Math.round(r+Math.random()*(a-r))},oo=e=>{const t=e.getHeader(Yr);let n;if(t){const e=parseInt(t,10);n=Ft(e)?1e3*e:Math.max(0,new Date(t).getTime()-(new Date).getTime())}return n};var io=({response:e,retriesAttempted:t})=>{let n=oo(e);return void 0===n&&(n=ao(t)),n};const so=200;var co=({cookieTransfer:e,lifecycle:t,createResponse:n,processWarningsAndErrors:r})=>({request:a,responseHeaders:o,responseBody:i,runOnResponseCallbacks:s=zt,runOnRequestFailureCallbacks:c=zt})=>{const l=fe();l.add(t.onResponse),l.add(s);const d=fe();d.add(t.onRequestFailure),d.add(c);const u=e=>o[e];return t.onBeforeRequest({request:a,onResponse:l.add,onRequestFailure:d.add}).then((()=>r({statusCode:so,getHeader:u,body:JSON.stringify(i),parsedBody:i}))).catch(Ga(d)).then((()=>{const t=n({content:i,getHeader:u});return e.responseToCookies(t),l.call({response:t}).then(Ha)}))},lo=e=>{let t=window.__alloyMonitors||[];return e&&(t=t.concat(e)),t},uo=e=>t=>{const n={webPageDetails:{URL:e.location.href||e.location},webReferrer:{URL:e.document.referrer}};pe(t,{web:n})};const po=e=>{const{screen:{orientation:t}}=e;if(null==t||null==t.type)return null;const n=t.type.split("-");return 0===n.length||"portrait"!==n[0]&&"landscape"!==n[0]?null:n[0]},go=e=>{if(Ae(e.matchMedia)){if(e.matchMedia("(orientation: portrait)").matches)return"portrait";if(e.matchMedia("(orientation: landscape)").matches)return"landscape"}return null};var fo=e=>t=>{const{screen:{width:n,height:r}}=e,a={},o=rn(r);o>=0&&(a.screenHeight=o);const i=rn(n);i>=0&&(a.screenWidth=i);const s=po(e)||go(e);s&&(a.screenOrientation=s),Object.keys(a).length>0&&pe(t,{device:a})},mo=e=>t=>{const{document:{documentElement:{clientWidth:n,clientHeight:r}={}}}=e,a={type:"browser"},o=rn(n);o>=0&&(a.browserDetails={viewportWidth:o});const i=rn(r);i>=0&&(a.browserDetails=a.browserDetails||{},a.browserDetails.viewportHeight=i),pe(t,{environment:a})},ho=e=>t=>{const n=e(),r={},a=rn(n.getTimezoneOffset());void 0!==a&&(r.localTimezoneOffset=a),(void 0===a||Math.abs(a)<6e3)&&(r.localTime=on(n)),pe(t,{placeContext:r})},yo=e=>t=>{const n=e().toISOString();pe(t,{timestamp:n})},bo="https://ns.adobe.com/experience/alloy",vo="2.27.0",wo=e=>{pe(e,{implementationDetails:{name:bo,version:vo,environment:"browser"}})},Eo=(e,t,n,r)=>{const a=e.context.flatMap(((e,r)=>n[e]?[n[e]]:(t.warn(`Invalid context[${r}]: '${e}' is not available.`),[]))).concat(r);return{namespace:"Context",lifecycle:{onBeforeEvent({event:e}){const n={};return Promise.all(a.map((e=>Promise.resolve(e(n,t))))).then((()=>e.mergeXdm(n)))}}}},Co=[["architecture","string"],["bitness","string"],["model","string"],["platformVersion","string"],["wow64","boolean"]];const Do=e=>"userAgentData"in e;var Io=e=>Do(e)?(t,n)=>{try{return e.userAgentData.getHighEntropyValues(Co.map((e=>e[0]))).then((e=>{const n={};Co.forEach((([t,r])=>{Object.prototype.hasOwnProperty.call(e,t)&&typeof e[t]===r&&(n[t]=e[t])})),pe(t,{environment:{browserDetails:{userAgentClientHints:n}}})}))}catch(e){return n.warn(`Unable to collect user-agent client hints. ${e.message}`),zt}}:zt;const So=uo(window),ko=fo(window),Po=mo(window),Oo=ho((()=>new Date)),To=yo((()=>new Date)),Lo={web:So,device:ko,environment:Po,placeContext:Oo},jo={highEntropyUserAgentHints:Io(navigator)},Ao={...Lo,...jo},_o=[To,wo],Ro=({config:e,logger:t})=>Eo(e,t,Ao,_o);Ro.namespace="Context",Ro.configValidators=Cr({context:hr(Dr()).default(Object.keys(Lo))});var xo=({options:e})=>Cr({type:Dr(),xdm:Cr({eventType:Dr(),identityMap:Sr}),data:Cr({}),documentUnloading:yr(),renderDecisions:yr(),decisionScopes:hr(Dr()).uniqueItems(),personalization:Cr({decisionScopes:hr(Dr()).uniqueItems(),surfaces:hr(Dr()).uniqueItems(),sendDisplayEvent:yr().default(!0),includeRenderedPropositions:yr().default(!1),defaultPersonalizationEnabled:yr(),decisionContext:Cr({})}).default({sendDisplayEvent:!0}),datasetId:Dr(),mergeId:Dr(),edgeConfigOverrides:kr}).required().noUnknownFields()(e),Mo=({options:e})=>Cr({renderDecisions:yr(),responseHeaders:Er(Dr().required()),responseBody:Cr({handle:hr(Cr({type:Dr().required(),payload:mr().required()})).required()}).required(),personalization:Cr({sendDisplayEvent:yr().default(!0),decisionContext:Cr({})}).default({sendDisplayEvent:!0})}).noUnknownFields()(e);const No=({eventManager:e,logger:t})=>({commands:{sendEvent:{documentationUri:"https://adobe.ly/3GQ3Q7t",optionsValidator:e=>xo({options:e}),run:n=>{const{xdm:r,data:a,documentUnloading:o,type:i,mergeId:s,datasetId:c,edgeConfigOverrides:l,...d}=n,u=e.createEvent();return o&&u.documentMayUnload(),u.setUserXdm(r),u.setUserData(a),i&&u.mergeXdm({eventType:i}),s&&u.mergeXdm({eventMergeId:s}),l&&(d.edgeConfigOverrides=l),c&&(t.warn("The 'datasetId' option has been deprecated. Please use 'edgeConfigOverrides.com_adobe_experience_platform.datasets.event.datasetId' instead."),d.edgeConfigOverrides=l||{},pe(d.edgeConfigOverrides,{com_adobe_experience_platform:{datasets:{event:{datasetId:c}}}})),e.sendEvent(u,d)}},applyResponse:{documentationUri:"",optionsValidator:e=>Mo({options:e}),run:t=>{const{renderDecisions:n=!1,decisionContext:r={},responseHeaders:a={},responseBody:o={handle:[]},personalization:i}=t,s=e.createEvent();return e.applyResponse(s,{renderDecisions:n,decisionContext:r,responseHeaders:a,responseBody:o,personalization:i})}}}});No.namespace="DataCollector";const qo=(e,t)=>`ID sync ${t?"succeeded":"failed"}: ${e.spec.url}`;var Vo=({fireReferrerHideableImage:e,logger:t})=>n=>{const r=n.filter((e=>"url"===e.type));return r.length?Promise.all(r.map((n=>e(n.spec).then((()=>{t.info(qo(n,!0))})).catch((()=>{t.error(qo(n,!1))}))))).then(zt):Promise.resolve()};const Uo=Cr({thirdPartyCookiesEnabled:yr().default(!0),idMigrationEnabled:yr().default(!0)});var $o=Cr({url:Dr().required().nonEmpty(),edgeConfigOverrides:kr}).required().noUnknownFields(),Fo="ECID",Bo=({addEcidQueryToPayload:e,addQueryStringIdentityToPayload:t,ensureSingleIdentity:n,setLegacyEcid:r,handleResponseForIdSyncs:a,getNamespacesFromResponse:o,getIdentity:i,consent:s,appendIdentityToUrl:c,logger:l,getIdentityOptionsValidator:d,decodeKndctrCookie:u})=>{let p,g={};return{lifecycle:{onBeforeRequest:({request:r,onResponse:a,onRequestFailure:o})=>(e(r.getPayload()),t(r.getPayload()),n({request:r,onResponse:a,onRequestFailure:o})),onResponse({response:e}){const t=o(e);return p&&p[Fo]||!t||!t[Fo]||r(t[Fo]),t&&Object.keys(t).length>0&&(p={...p,...t}),g={...g,...e.getEdge()},a(e)}},commands:{getIdentity:{optionsValidator:d,run:e=>{const{namespaces:t}=e;return s.awaitConsent().then((()=>{if(p)return;const n=u();return n&&t.includes(Fo)&&(p||(p={}),p[Fo]=n,1===t.length)?void 0:i(e)})).then((()=>({identity:t.reduce(((e,t)=>(e[t]=p[t]||null,e)),{}),edge:g})))}},appendIdentityToUrl:{optionsValidator:$o,run:e=>s.withConsent().then((()=>{if(p)return;const t=u();return t?(p||(p={}),void(p[Fo]=t)):i(e)})).then((()=>({url:c(p[Fo],e.url)}))).catch((t=>(l.warn(`Unable to append identity to url. ${t.message}`),e)))}}}},Ho=({config:e,getEcidFromVisitor:t,apexDomain:n,isPageSsl:r,cookieJar:a})=>{const{idMigrationEnabled:o,orgId:i}=e,s=`AMCV_${i}`,c=()=>{let e=null;const t="s_ecid",n=a.get(t)||a.get(s);if(n){const t=/(^|\|)MCMID\|(\d+)($|\|)/,r=n.match(t);r&&(e=r[2])}return e};return{getEcid(){if(o){const e=c();return e?Promise.resolve(e):t()}return Promise.resolve()},setEcid(e){if(o&&c()!==e){const t=r?{sameSite:"none",secure:!0}:{};a.set(s,`MCMID|${e}`,{domain:n,expires:390,...t})}}}},Go=({logger:e})=>new Promise(((t,n)=>{if(se(window.adobe)&&se(window.adobe.optIn)){const r=window.adobe.optIn;e.info("Delaying request while waiting for legacy opt-in to let Visitor retrieve ECID from server."),r.fetchPermissions((()=>{r.isApproved([r.Categories.ECID])?(e.info("Received legacy opt-in approval to let Visitor retrieve ECID from server."),t()):n(new Error("Legacy opt-in was declined."))}),!0)}else t()})),zo=e=>{const t=e.Visitor;return Ae(t)&&Ae(t.getInstance)&&t},Qo=({logger:e,orgId:t,awaitVisitorOptIn:n})=>()=>{const r=zo(window);return r?n({logger:e}).then((()=>(e.info("Delaying request while using Visitor to retrieve ECID from server."),new Promise((n=>{r.getInstance(t,{}).getMarketingCloudVisitorID((t=>{e.info("Resuming previously delayed request that was waiting for ECID from Visitor."),n(t)}),!0)}))))).catch((t=>{t?e.info(`${t.message}, retrieving ECID from experience edge`):e.info("An error occurred while obtaining the ECID from Visitor.")})):Promise.resolve()},Xo=({processIdSyncs:e})=>t=>e(t.getPayloadsByType("identity:exchange")),Jo=({doesIdentityCookieExist:e,setDomainForInitialIdentityPayload:t,addLegacyEcidToPayload:n,awaitIdentityCookie:r,logger:a})=>{let o;const i=e=>(t(e),n(e.getPayload()));return({request:t,onResponse:n,onRequestFailure:s})=>{if(e())return t.setIsIdentityEstablished(),Promise.resolve();if(o){a.info("Delaying request while retrieving ECID from server.");const e=o;return o=e.catch((()=>r({onResponse:n,onRequestFailure:s}))),e.then((()=>{a.info("Resuming previously delayed request."),t.setIsIdentityEstablished()})).catch((()=>i(t)))}return o=r({onResponse:n,onRequestFailure:s}),o.catch((()=>{})),i(t)}},Yo="CORE",Wo=({thirdPartyCookiesEnabled:e,areThirdPartyCookiesSupportedByDefault:t})=>{const n={identity:{fetch:[Fo]}};return e&&t()&&n.identity.fetch.push(Yo),e=>{e.mergeQuery(n)}},Ko=({thirdPartyCookiesEnabled:e,areThirdPartyCookiesSupportedByDefault:t})=>n=>{e&&t()&&n.setUseIdThirdPartyDomain()},Zo=({getLegacyEcid:e,addEcidToPayload:t})=>n=>n.hasIdentity(Fo)?Promise.resolve():e().then((e=>{e&&t(n,e)})),ei="adobe_mc",ti=e=>{try{return decodeURIComponent(e)}catch{return""}};const ni=300;var ri=({locationSearch:e,dateProvider:t,orgId:n,logger:r})=>a=>{if(a.hasIdentity(Fo))return;let o=oe.default.parse(e)[ei];if(void 0===o)return;Array.isArray(o)&&(r.warn("Found multiple adobe_mc query string paramters, only using the last one."),o=o[o.length-1]);const i=o.split("|").reduce(((e,t)=>{const[n,r]=t.split("=");return e[n]=ti(r),e[n]=e[n].replace(/[^a-zA-Z0-9@.]/g,""),e}),{}),s=parseInt(i.TS,10),c=i.MCMID,l=ti(i.MCORGID);t().getTime()/1e3<=s+ni&&l===n&&c?(r.info(`Found valid ECID identity ${c} from the adobe_mc query string parameter.`),a.addIdentity(Fo,{id:c})):r.info("Detected invalid or expired adobe_mc query string parameter.")},ai=(e,t)=>{e.addIdentity(Fo,{id:t})},oi=({doesIdentityCookieExist:e,orgId:t,logger:n})=>({onResponse:r,onRequestFailure:a})=>new Promise(((o,i)=>{r((()=>{e()?o():(n.warn(`Identity cookie not found. This could be caused by any of the following issues:\n\t* The org ID ${t} configured in Alloy doesn't match the org ID specified in the edge configuration.\n\t* Experience edge was not able to set the identity cookie due to domain or cookie restrictions.\n\t* The request was canceled by the browser and not fully processed.`),i(new Error("Identity cookie not found.")))})),a((()=>{e()?o():i(new Error("Identity cookie not found."))}))})),ii=e=>e.getPayloadsByType("identity:result").reduce(((e,t)=>(t.namespace&&t.namespace.code&&(e[t.namespace.code]=t.id),e)),{}),si=({sendEdgeNetworkRequest:e,createIdentityRequestPayload:t,createIdentityRequest:n,globalConfigOverrides:r})=>({namespaces:a,edgeConfigOverrides:o}={})=>{const i=ka({payload:t(a),globalConfigOverrides:r,localConfigOverrides:o}),s=n(i);return e({request:s})},ci=({payload:e,datastreamIdOverride:t})=>Ea({payload:e,datastreamIdOverride:t,getAction:()=>"identity/acquire",getUseSendBeacon:()=>!1}),li=e=>{const t={query:{identity:{fetch:e}}};return Da({content:t,addIdentity:wa(t),hasIdentity:Ia(t)})};const di=/^([^?#]*)(\??[^#]*)(#?.*)$/,ui=e=>""===e?"?":"?"===e?"":"&";var pi=({dateProvider:e,orgId:t})=>(n,r)=>{const a=Math.round(e().getTime()/1e3),o=encodeURIComponent(`TS=${a}|MCMID=${n}|MCORGID=${encodeURIComponent(t)}`),[,i,s,c]=r.match(di);return`${i}${s}${ui(s)}adobe_mc=${o}${c}`};const gi=Cr({namespaces:hr(Ir(Fo,Yo)).nonEmpty().uniqueItems().default([Fo]),edgeConfigOverrides:kr}).noUnknownFields().default({namespaces:[Fo]});var fi=({thirdPartyCookiesEnabled:e})=>t=>{const n=gi(t);if(!e&&n.namespaces.includes(Yo))throw new Error(`namespaces: The ${Yo} namespace cannot be requested when third-party cookies are disabled.`);return n};const mi=1,hi=(e,t)=>{let n,r=0,a=0;do{if(t<0||t+a>=e.length)throw new Error("Invalid varint: buffer ended unexpectedly");if(n=e[t+a],r|=(127&n)<<7*a,a+=1,a>10)throw new Error("Invalid varint: too long")}while(128&n);return{value:r,length:a}},yi=Object.freeze({VARINT:0,I64:1,LEN:2,SGROUP:3,EGROUP:4,I32:5}),bi=e=>{let t=0,n=null;for(;t<e.length&&!n;){const{value:r,length:a}=hi(e,t);t+=a;const o=7&r;if(r>>3===mi){if(o===yi.LEN){const r=hi(e,t);return t+=r.length,n=(new TextDecoder).decode(e.slice(t,t+r.value)),t+=r.value,n}}else switch(o){case yi.VARINT:t+=hi(e,t).length;break;case yi.I64:t+=8;break;case yi.LEN:{const n=hi(e,t);t+=n.length+n.value;break}case yi.SGROUP:case yi.EGROUP:break;case yi.I32:t+=4;break;default:throw new Error(`Malformed kndctr cookie. Unknown wire type: ${o}`)}}throw new Error("No ECID found in cookie.")},vi=e=>{const t=atob(e);return Uint8Array.from(t,(e=>e.codePointAt(0)))};var wi=({orgId:e,cookieJar:t,logger:n})=>{const r=vt(e,"identity");return()=>{const e=t.get(r);if(!e)return null;try{const t=decodeURIComponent(e).replace(/_/g,"/").replace(/-/g,"+"),n=vi(t);return bi(n)}catch(e){return n.warn(`Unable to decode ECID from ${r} cookie`,e),null}}};const Ei=({config:e,logger:t,consent:n,fireReferrerHideableImage:r,sendEdgeNetworkRequest:a,apexDomain:o,getBrowser:i})=>{const{orgId:s,thirdPartyCookiesEnabled:c,edgeConfigOverrides:l}=e,d=Qo({logger:t,orgId:s,awaitVisitorOptIn:Go}),u=me({logger:t,cookieJar:de}),p=Ho({config:e,getEcidFromVisitor:d,apexDomain:o,cookieJar:u,isPageSsl:"https:"===window.location.protocol}),g=Rt({orgId:s}),f=si({sendEdgeNetworkRequest:a,createIdentityRequestPayload:li,createIdentityRequest:ci,globalConfigOverrides:l}),m=Lt({getBrowser:i}),h=Ko({thirdPartyCookiesEnabled:c,areThirdPartyCookiesSupportedByDefault:m}),y=Zo({getLegacyEcid:p.getEcid,addEcidToPayload:ai}),b=ri({locationSearch:window.document.location.search,dateProvider:()=>new Date,orgId:s,logger:t}),v=oi({doesIdentityCookieExist:g,orgId:s,logger:t}),w=Jo({doesIdentityCookieExist:g,setDomainForInitialIdentityPayload:h,addLegacyEcidToPayload:y,awaitIdentityCookie:v,logger:t}),E=Vo({fireReferrerHideableImage:r,logger:t}),C=Xo({processIdSyncs:E}),D=pi({dateProvider:()=>new Date,orgId:s}),I=fi({thirdPartyCookiesEnabled:c}),S=Wo({thirdPartyCookiesEnabled:c,areThirdPartyCookiesSupportedByDefault:m}),k=wi({orgId:s,cookieJar:u,logger:t});return Bo({addEcidQueryToPayload:S,addQueryStringIdentityToPayload:b,ensureSingleIdentity:w,setLegacyEcid:p.setEcid,handleResponseForIdSyncs:C,getNamespacesFromResponse:ii,getIdentity:f,consent:n,appendIdentityToUrl:D,logger:t,getIdentityOptionsValidator:I,decodeKndctrCookie:k})};Ei.namespace="Identity",Ei.configValidators=Uo;const Ci=({config:e,componentRegistry:t})=>{const n=[...t.getCommandNames(),Zr,ea].sort(),r={...e};Object.keys(e).forEach((t=>{const n=e[t];"function"==typeof n&&(r[t]=n.toString())}));const a=t.getComponentNames();return{version:vo,configs:r,commands:n,components:a}},Di=({config:e,componentRegistry:t})=>({commands:{getLibraryInfo:{run:()=>({libraryInfo:Ci({config:e,componentRegistry:t})})}}});Di.namespace="LibraryInfo";var Ii=Object.freeze({__proto__:null,context:Ro,dataCollector:No,identity:Ei,libraryInfo:Di});const Si=qt(window),{fetch:ki,navigator:Pi}=window,Oi=fa(),Ti=ht(window,de),Li=ha({fetch:ki}),ji=ct(),Ai=ja({window:window,createNamespacedStorage:Si}),_i=Mt({userAgent:window.navigator.userAgent}),Ri=({instanceName:e,logController:{setDebugEnabled:t,logger:n,createComponentLogger:r},components:a})=>{const o=Rr(),i=Ar(o),s=a.concat(Object.values(Ii)),c=e=>{t(e.enabled,{fromConfig:!1})},l=me({logger:n,cookieJar:de}),d=a=>{const c=ca({options:a,componentCreators:s,coreConfigValidators:Oi,createConfig:da,logger:n,setDebugEnabled:t}),{orgId:d,targetMigrationEnabled:u}=c,p=Va({orgId:d,targetMigrationEnabled:u}),g=xa({cookieJar:l,shouldTransferCookie:p,apexDomain:Ti,dateProvider:()=>new Date}),f=Ae(Pi.sendBeacon)?ya({sendBeacon:Pi.sendBeacon.bind(Pi),sendFetchRequest:Li,logger:n}):Li,m=xr({logger:n,sendFetchRequest:Li,sendBeaconRequest:f,isRequestRetryable:eo,getRequestRetryDelay:io}),h=Ya({logger:n}),y=Mr({logger:n}),b=Kr({extractEdgeInfo:y}),v=Wa({orgId:d,cookieJar:de}),w=Qa({config:c,lifecycle:i,cookieTransfer:g,sendNetworkRequest:m,createResponse:b,processWarningsAndErrors:h,getLocationHint:v,getAssuranceValidationTokenParams:Ai}),E=co({lifecycle:i,cookieTransfer:g,createResponse:b,processWarningsAndErrors:h}),C=zr({logger:n}),D=Qr({generalConsentState:C,logger:n}),I=_a({config:c,logger:n,lifecycle:i,consent:D,createEvent:Jr,createDataCollectionRequestPayload:Sa,createDataCollectionRequest:Ca,sendEdgeNetworkRequest:w,applyResponse:E});return la({componentCreators:s,lifecycle:i,componentRegistry:o,getImmediatelyAvailableTools(t){const n=r(t);return{config:c,componentRegistry:o,consent:D,eventManager:I,fireReferrerHideableImage:ji,logger:n,lifecycle:i,sendEdgeNetworkRequest:w,handleError:ma({errorPrefix:`[${e}] [${t}]`,logger:n}),createNamespacedStorage:Si,apexDomain:Ti,getBrowser:_i}}})},u=ma({errorPrefix:`[${e}]`,logger:n});return ta({logger:n,configureCommand:d,setDebugCommand:c,handleError:u,validateCommandOptions:ra})},xi=({eventManager:e,lifecycle:t,handleError:n})=>r=>{if(r.s_fe)return Promise.resolve();const a="composedPath"in r&&r.composedPath().length>0?r.composedPath()[0]:r.target,o=e.createEvent();return o.documentMayUnload(),t.onClick({event:o,clickedElement:a}).then((()=>o.isEmpty()?Promise.resolve():e.sendEvent(o))).then(zt).catch((e=>{n(e,"click collection")}))};var Mi=({eventManager:e,lifecycle:t,handleError:n})=>{const r=xi({eventManager:e,lifecycle:t,handleError:n});document.addEventListener("click",r,!0)};const Ni="\\.(exe|zip|wav|mp3|mov|mpg|avi|wmv|pdf|doc|docx|xls|xlsx|ppt|pptx)$",qi=Dr().regexp().default(Ni),Vi=Cr({clickCollectionEnabled:yr().default(!0),clickCollection:Cr({internalLinkEnabled:yr().default(!0),externalLinkEnabled:yr().default(!0),downloadLinkEnabled:yr().default(!0),sessionStorageEnabled:yr().default(!1),eventGroupingEnabled:yr().default(!1),filterClickProperties:br()}).default({internalLinkEnabled:!0,externalLinkEnabled:!0,downloadLinkEnabled:!0,sessionStorageEnabled:!1,eventGroupingEnabled:!1}),downloadLinkQualifier:qi,onBeforeLinkClickSend:br().deprecated('The field "onBeforeLinkClickSend" has been deprecated. Use "clickCollection.filterClickDetails" instead.')}),Ui="cppXYctnr";var $i=(e=document)=>null!==e.getElementById(Ui),Fi=e=>{let t=e;return/^https?:\/\//i.test(t)||(t=`${window.location.protocol}//${e}`),new URL(t).hostname},Bi=(e,t)=>Fi(e)!==Fi(t);const Hi=(e,t)=>t&&("download"===t&&!e.downloadLinkEnabled||"exit"===t&&!e.externalLinkEnabled||"other"===t&&!e.internalLinkEnabled)
;var Gi=({config:e,logger:t,getClickedElementProperties:n,clickActivityStorage:r})=>{const{clickCollectionEnabled:a,clickCollection:o}=e;return a?({event:a,clickedElement:i})=>{const s=n({clickActivityStorage:r,clickedElement:i,config:e,logger:t}),c=s.linkType;$i()||(s.isValidLink()&&Hi(o,c)?t.info(`Cancelling link click event due to clickCollection.${c}LinkEnabled = false.`):!s.isInternalLink()||!o.eventGroupingEnabled||e.onBeforeLinkClickSend&&!o.filterClickDetails||Bi(window.location.hostname,s.linkUrl)?s.isValidLink()?(a.mergeXdm(s.xdm),a.mergeData(s.data),r.save({pageName:s.pageName,pageIDType:s.pageIDType})):s.isValidActivityMapData()&&r.save(s.properties):r.save(s.properties))}:()=>{}};const zi=e=>({eventType:"web.webinteraction.linkClicks",web:{webInteraction:{name:e.linkName,region:e.linkRegion,type:e.linkType,URL:e.linkUrl,linkClicks:{value:1}}}}),Qi=e=>({__adobe:{analytics:{contextData:{a:{activitymap:{page:e.pageName,link:e.linkName,region:e.linkRegion,pageIDType:e.pageIDType}}}}}}),Xi=(e,t)=>{const{xdm:n,data:r,clickedElement:a}=e;if(t.clickedElement=a,n&&n.web&&n.web.webInteraction){const{name:e,region:r,type:a,URL:o}=n.web.webInteraction;t.linkName=e,t.linkRegion=r,t.linkType=a,t.linkUrl=o}if(r&&r.__adobe&&r.__adobe.analytics){const{contextData:e}=r.__adobe.analytics;if(e&&e.a&&e.a.activitymap){const{page:n,link:r,region:a,pageIDType:o}=e.a.activitymap;t.pageName=n||t.pageName,t.linkName=r||t.linkName,t.linkRegion=a||t.linkRegion,void 0!==o&&(t.pageIDType=o)}}};var Ji=({properties:e,logger:t}={})=>{let n=e||{};return{get pageName(){return n.pageName},set pageName(e){n.pageName=e},get linkName(){return n.linkName},set linkName(e){n.linkName=e},get linkRegion(){return n.linkRegion},set linkRegion(e){n.linkRegion=e},get linkType(){return n.linkType},set linkType(e){n.linkType=e},get linkUrl(){return n.linkUrl},set linkUrl(e){n.linkUrl=e},get pageIDType(){return n.pageIDType},set pageIDType(e){n.pageIDType=e},get clickedElement(){return n.clickedElement},set clickedElement(e){n.clickedElement=e},get properties(){return{pageName:n.pageName,linkName:n.linkName,linkRegion:n.linkRegion,linkType:n.linkType,linkUrl:n.linkUrl,pageIDType:n.pageIDType}},isValidLink:()=>!!(n.linkUrl&&n.linkType&&n.linkName&&n.linkRegion),isInternalLink(){return this.isValidLink()&&"other"===n.linkType},isValidActivityMapData:()=>!!n.pageName&&!!n.linkName&&!!n.linkRegion&&void 0!==n.pageIDType,get xdm(){return n.filteredXdm?n.filteredXdm:zi(this)},get data(){return n.filteredData?n.filteredData:Qi(this)},applyPropertyFilter(e){e&&!1===e(n)&&(t&&t.info(`Clicked element properties were rejected by filter function: ${JSON.stringify(this.properties,null,2)}`),n={})},applyOptionsFilter(e){const r=this.options;if(r&&r.clickedElement&&(r.xdm||r.data)){if(e&&!1===e(r))return t&&t.info(`Clicked element properties were rejected by filter function: ${JSON.stringify(this.properties,null,2)}`),void(this.options=void 0);this.options=r,n.filteredXdm=r.xdm,n.filteredData=r.data}},get options(){const e={};if(this.isValidLink()&&(e.xdm=this.xdm),this.isValidActivityMapData()&&(e.data=this.data),this.clickedElement&&(e.clickedElement=this.clickedElement),e.xdm||e.data)return e},set options(e){n={},e&&Xi(e,n)}}},Yi=({clickActivityStorage:e})=>t=>{if($i())return;const n=e.load(),r=Ji({properties:n});if(r.isValidLink()||r.isValidActivityMapData()){if(r.isValidLink()){const e=r.xdm;delete e.eventType,t.mergeXdm(e)}r.isValidActivityMapData()&&t.mergeData(r.data),e.save({pageName:r.pageName,pageIDType:r.pageIDType})}},Wi=({window:e,getLinkName:t,getLinkRegion:n,getAbsoluteUrlFromAnchorElement:r,findClickableElement:a,determineLinkType:o})=>({clickedElement:i,config:s,logger:c,clickActivityStorage:l})=>{const{onBeforeLinkClickSend:d,clickCollection:u}=s,{filterClickDetails:p}=u,g=Ji({logger:c});if(i){const c=a(i);if(c){g.clickedElement=i,g.linkUrl=r(e,c),g.linkType=o(e,s,g.linkUrl,c),g.linkRegion=n(c),g.linkName=t(c),g.pageIDType=0,g.pageName=e.location.href;const a=l.load();a&&a.pageName&&(g.pageName=a.pageName,g.pageIDType=1),p?g.applyPropertyFilter(p):d&&g.applyOptionsFilter(d)}}return g};const Ki="clickData";var Zi=({storage:e})=>({save:t=>{const n=JSON.stringify(t);e.setItem(Ki,n)},load:()=>{let t=null;const n=e.getItem(Ki);return n&&(t=JSON.parse(n)),t},remove:()=>{e.removeItem(Ki)}}),es=({clickActivityStorage:e})=>t=>{e.save({pageName:t.getContent().xdm.web.webPageDetails.name,pageIDType:1})},ts=(e,t)=>{const{clickCollectionEnabled:n,onBeforeLinkClickSend:r,downloadLinkQualifier:a}=e;!1===n&&(r&&t.warn("The 'onBeforeLinkClickSend' configuration was provided but will be ignored because clickCollectionEnabled is false."),a&&a!==Ni&&t.warn("The 'downloadLinkQualifier' configuration was provided but will be ignored because clickCollectionEnabled is false."))},ns=e=>e&&e.replace(/\s+/g," ").trim();const rs=/^(SCRIPT|STYLE|LINK|CANVAS|NOSCRIPT|#COMMENT)$/i;var as=e=>!(e&&e.nodeName&&e.nodeName.match(rs));const os=e=>{let t=[],n=!1;return as(e)?(t.push(e),e.childNodes&&Array.prototype.slice.call(e.childNodes).forEach((e=>{const r=os(e);t=t.concat(r.supportedNodes),n=n||r.includesUnsupportedNodes}))):n=!0,{supportedNodes:t,includesUnsupportedNodes:n}},is=(e,t,n)=>{let r;return n&&n!==e.nodeName.toUpperCase()||(r=e.getAttribute(t)),r},ss=e=>{const t={texts:[]};return e.supportedNodes.forEach((e=>{e.getAttribute&&(t.alt||(t.alt=ns(e.getAttribute("alt"))),t.title||(t.title=ns(e.getAttribute("title"))),t.inputValue||(t.inputValue=ns(is(e,"value","INPUT"))),t.imgSrc||(t.imgSrc=ns(is(e,"src","IMG")))),e.nodeValue&&t.texts.push(e.nodeValue)})),t},cs=/^(HEADER|MAIN|FOOTER|NAV)$/i,ls=e=>{let t;return"region"===e.role&&Gt(e["aria-label"])&&(t=e["aria-label"]),t},ds=e=>{let t;return e&&e.nodeName&&e.nodeName.match(cs)&&(t=e.nodeName),t};var us=e=>!!e&&/^[a-z0-9]+:\/\//i.test(e),ps=e=>!(!e.href||"A"!==e.tagName&&"AREA"!==e.tagName||e.onclick&&e.protocol&&!(e.protocol.toLowerCase().indexOf("javascript")<0)),gs=e=>!!e&&!!e.onclick,fs=e=>{if("INPUT"===e.tagName){const t=e.getAttribute("type");if("submit"===t)return!0;if("image"===t&&e.src)return!0}return!1},ms=e=>"BUTTON"===e.tagName&&"submit"===e.type,hs=e=>{const t=e.indexOf("?"),n=e.indexOf("#");return t>=0&&(t<n||n<0)?e.substring(0,t):n>=0?e.substring(0,n):e},ys=(e,t,n)=>{let r=!1;if(t)if(n&&n.download)r=!0;else if(e){const n=new RegExp(e),a=hs(t).toLowerCase();r=n.test(a)}return r},bs=(e,t)=>{let n=!1;if(t&&e.location.hostname){const r=e.location.hostname.toLowerCase();n=hs(t).toLowerCase().indexOf(r)<0}return n},vs=e=>{const t=e.getContent();return void 0!==t.xdm&&void 0!==t.xdm.web&&void 0!==t.xdm.web.webPageDetails&&void 0!==t.xdm.web.webPageDetails.name},ws=()=>{const e={};return{getItem:t=>e[t],setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}};const Es=Wi({window:window,getLinkName:e=>{let t=ns(e.innerText||e.textContent);const n=os(e);if(!t||n.includesUnsupportedNodes){const e=ss(n);t=ns(e.texts.join("")),t||(t=e.alt||e.title||e.inputValue||e.imgSrc)}return t||""},getLinkRegion:e=>{let t,n=e.parentNode;for(;n;){if(t=ns(n.id||ls(n)||ds(n)),t)return t;n=n.parentNode}return"BODY"},getAbsoluteUrlFromAnchorElement:(e,t)=>{const n=e.location;let r=t.href||"";"string"!=typeof r&&(r="");let{protocol:a,host:o}=t;if(r&&!us(r)){a||(a=n.protocol?n.protocol:""),a=a?`${a}//`:"",o||(o=n.host?n.host:"");let e="";if("/"!==r.substring(0,1)){let t=n.pathname.lastIndexOf("/");t=t<0?0:t,e=n.pathname.substring(0,t)}r=`${a}${o}${e}/${r}`}return r},findClickableElement:e=>{let t=e;for(;t;){if(ps(t)||gs(t)||fs(t)||ms(t))return t;t=t.parentNode}return null},determineLinkType:(e,t,n,r)=>{let a="other";return Gt(n)&&(ys(t.downloadLinkQualifier,n,r)?a="download":bs(e,n)&&(a="exit")),a}});let Cs;const Ds=e=>{if(!Cs){const t=qt(window)(e.orgId||""),n=ws(),r=e.clickCollection.sessionStorageEnabled?t.session:n;Cs=Zi({storage:r})}},Is=({config:e,eventManager:t,handleError:n,logger:r})=>{ts(e,r);const a=e.clickCollection;Cs||Ds(e);const o=Gi({config:e,logger:r,clickActivityStorage:Cs,getClickedElementProperties:Es}),i=Yi({clickActivityStorage:Cs}),s=es({clickActivityStorage:Cs});return{lifecycle:{onComponentsRegistered(e){const{lifecycle:r}=e;Mi({eventManager:t,lifecycle:r,handleError:n})},onClick({event:e,clickedElement:t}){o({event:e,clickedElement:t})},onBeforeEvent({event:e}){vs(e)&&(a.eventGroupingEnabled&&i(e),s(e,r,Cs))}}}};Is.namespace="ActivityCollector",Is.configValidators=Vi,Is.buildOnInstanceConfiguredExtraParams=({config:e,logger:t})=>(Cs||Ds(e),{getLinkDetails:n=>Es({clickActivityStorage:Cs,clickedElement:n,config:e,logger:t}).properties});const Ss=e=>`URL destination succeeded: ${e.spec.url}`;var ks=({fireReferrerHideableImage:e,logger:t,cookieJar:n,isPageSsl:r})=>{const a=r?{sameSite:"none",secure:!0}:{},o=e=>{e.filter((e=>"cookie"===e.type)).forEach((e=>{const{name:t,value:r,domain:o,ttlDays:i}=e.spec;n.set(t,r||"",{domain:o||"",expires:i||10,...a})}))},i=n=>{const r=n.filter((e=>"url"===e.type));return Promise.all(r.map((n=>e(n.spec).then((()=>{t.info(Ss(n))})).catch((()=>{}))))).then(zt)};return e=>(o(e),i(e))},Ps=({processDestinations:e})=>{const t=({response:t})=>{const n=t.getPayloadsByType("activation:push");return e(n)},n=({response:e})=>({destinations:e.getPayloadsByType("activation:pull")});return({response:e})=>t({response:e}).then((()=>n({response:e})))};const Os=({logger:e,fireReferrerHideableImage:t})=>{const n=de.withConverter({write:e=>encodeURIComponent(e)}),r=me({logger:e,cookieJar:n}),a=ks({fireReferrerHideableImage:t,logger:e,cookieJar:r,isPageSsl:"https:"===window.location.protocol});return{lifecycle:{onResponse:Ps({processDestinations:a})},commands:{}}};Os.namespace="Audiences";var Ts=({storedConsent:e,taskQueue:t,defaultConsent:n,consent:r,sendSetConsentRequest:a,validateSetConsentOptions:o,consentHashStore:i,doesIdentityCookieExist:s})=>{const c={[Ur]:n};let l=e.read();const d=s(),u=void 0!==l[Ur];d&&u||i.clear(),d||(e.clear(),l={}),r.initializeConsent(c,l);const p=()=>{if(0===t.length){const t=e.read();void 0!==t[Ur]&&r.setConsent(t)}};return{commands:{setConsent:{optionsValidator:o,run:({consent:e,identityMap:n,edgeConfigOverrides:o})=>{r.suspend();const s=i.lookup(e);return t.addTask((()=>s.isNew()?a({consentOptions:e,identityMap:n,edgeConfigOverrides:o}):Promise.resolve())).then((()=>s.save())).finally(p)}}},lifecycle:{onResponse:p,onRequestFailure:p}}},Ls=e=>pt(JSON.stringify(Kt(e)));const js=({standard:e,version:t})=>`${e}.${t}`;var As=({storage:e})=>({clear(){e.clear()},lookup(t){const n={},r=e=>{const t=js(e),{standard:r,version:a,...o}=e;return n[t]||(n[t]=Ls(o).toString()),n[t]};return{isNew:()=>t.some((t=>{const n=js(t),a=e.getItem(n);return null===a||a!==r(t)})),save(){t.forEach((t=>{const n=js(t);e.setItem(n,r(t))}))}}}}),_s=()=>{const e={},t=Da({content:e,addIdentity:(t,n)=>{e.identityMap=e.identityMap||{},e.identityMap[t]=e.identityMap[t]||[],e.identityMap[t].push(n)},hasIdentity:t=>void 0!==(e.identityMap&&e.identityMap[t])});return t.setConsent=t=>{e.consent=t},t},Rs=({payload:e,datastreamIdOverride:t})=>Ea({payload:e,datastreamIdOverride:t,getAction:()=>"privacy/set-consent",getUseSendBeacon:()=>!1}),xs=({parseConsentCookie:e,orgId:t,cookieJar:n})=>{const r=vt(t,At);return{read(){const t=n.get(r);return t?e(t):{}},clear(){n.remove(r)}}},Ms=({createConsentRequestPayload:e,createConsentRequest:t,sendEdgeNetworkRequest:n,edgeConfigOverrides:r})=>({consentOptions:a,identityMap:o,edgeConfigOverrides:i})=>{const s=ka({payload:e(),globalConfigOverrides:r,localConfigOverrides:i});s.payload.setConsent(a),se(o)&&Object.keys(o).forEach((e=>{o[e].forEach((t=>{s.payload.addIdentity(e,t)}))}));const c=t(s);return n({request:c}).then((()=>{}))},Ns=e=>e.split(";").reduce(((e,t)=>{const[n,r]=t.split("=");return e[n]=r,e}),{}),qs=Cr({consent:hr(mr()).required().nonEmpty(),identityMap:Sr,edgeConfigOverrides:kr}).noUnknownFields().required(),Vs=Cr({defaultConsent:Ir(Nr,qr,Vr).default(Nr)});const Us=({config:e,consent:t,sendEdgeNetworkRequest:n,createNamespacedStorage:r})=>{const{orgId:a,defaultConsent:o}=e,i=xs({parseConsentCookie:Ns,orgId:a,cookieJar:de}),s=he(),c=Ms({createConsentRequestPayload:_s,createConsentRequest:Rs,sendEdgeNetworkRequest:n,edgeConfigOverrides:e.edgeConfigOverrides}),l=r(`${bt(a)}.consentHashes.`),d=As({storage:l.persistent}),u=Rt({orgId:a});return Ts({storedConsent:i,taskQueue:s,defaultConsent:o,consent:t,sendSetConsentRequest:c,validateSetConsentOptions:qs,consentHashStore:d,doesIdentityCookieExist:u})};Us.namespace="Consent",Us.configValidators=Vs;var $s=()=>({eventMergeId:c()});t.createEventMergeId=$s;var Fs={PAUSE:"media.pauseStart",PLAY:"media.play",BUFFER_START:"media.bufferStart",AD_START:"media.adStart",Ad_BREAK_START:"media.adBreakStart",SESSION_END:"media.sessionEnd",SESSION_START:"media.sessionStart",SESSION_COMPLETE:"media.sessionComplete",PING:"media.ping",AD_BREAK_COMPLETE:"media.adBreakComplete",AD_COMPLETE:"media.adComplete",AD_SKIP:"media.adSkip",BITRATE_CHANGE:"media.bitrateChange",CHAPTER_COMPLETE:"media.chapterComplete",CHAPTER_SKIP:"media.chapterSkip",CHAPTER_START:"media.chapterStart",ERROR:"media.error",STATES_UPDATE:"media.statesUpdate"},Bs=({mediaRequestPayload:e,action:t})=>Ea({payload:e,edgeSubPath:"/va",getAction:()=>t,getUseSendBeacon:()=>!1}),Hs=({config:e,eventManager:t,consent:n,sendEdgeNetworkRequest:r,setTimestamp:a})=>({createMediaEvent({options:n}){const r=t.createEvent(),{xdm:o}=n;if(a(o),r.setUserXdm(o),o.eventType===Fs.AD_START){const{advertisingDetails:t}=n.xdm.mediaCollection;r.mergeXdm({mediaCollection:{advertisingDetails:{playerName:t.playerName||e.streamingMedia.playerName}}})}return r},createMediaSession(n){const{playerName:r,channel:a,appVersion:o}=e.streamingMedia,i=t.createEvent(),{sessionDetails:s}=n.xdm.mediaCollection;return i.setUserXdm(n.xdm),i.mergeXdm({eventType:Fs.SESSION_START,mediaCollection:{sessionDetails:{playerName:s.playerName||r,channel:s.channel||a,appVersion:s.appVersion||o}}}),i},augmentMediaEvent({event:e,playerId:t,getPlayerDetails:n,sessionID:r}){if(!t||!n)return e;const{playhead:a,qoeDataDetails:o}=n({playerId:t});return e.mergeXdm({mediaCollection:{playhead:rn(a),qoeDataDetails:o,sessionID:r}}),e},trackMediaSession({event:e,mediaOptions:n,edgeConfigOverrides:r}){const a={mediaOptions:n,edgeConfigOverrides:r};return t.sendEvent(e,a)},trackMediaEvent({event:e,action:t}){const a=Sa(),o=Bs({mediaRequestPayload:a,action:t});return a.addEvent(e),e.finalize(),n.awaitConsent().then((()=>r({request:o}).then((()=>({})))))}}),Gs={MAIN:"main",COMPLETED:"completed"},zs=()=>{let e;return{getSession:t=>e[t]||{},storeSession:({playerId:t,sessionDetails:n})=>{void 0===e&&(e={}),e[t]=n},stopPing:({playerId:t})=>{const n=e[t];n&&(clearTimeout(n.pingId),n.pingId=null,n.playbackState=Gs.COMPLETED)},savePing:({playerId:t,pingId:n,playbackState:r})=>{e[t]&&(e[t].pingId&&clearTimeout(e[t].pingId),e[t].pingId=n,e[t].playbackState=r)}}};const Qs=(e,t)=>e===Fs.AD_START||e===Fs.Ad_BREAK_START||e===Fs.AD_SKIP||e===Fs.AD_COMPLETE?"ad":e===Fs.AD_BREAK_COMPLETE||e===Fs.CHAPTER_COMPLETE||e===Fs.CHAPTER_START||e===Fs.CHAPTER_SKIP||e===Fs.SESSION_START?"main":e===Fs.SESSION_END||e===Fs.SESSION_COMPLETE?"completed":t;var Xs=({mediaEventManager:e,mediaSessionCacheManager:t,config:n})=>{const r=a=>{const o=e.createMediaEvent({options:a}),{playerId:i,xdm:s}=a,{eventType:c}=s,l=c.split(".")[1],{getPlayerDetails:d,sessionPromise:u,playbackState:p}=t.getSession(i);return u.then((a=>a.sessionId?(e.augmentMediaEvent({event:o,eventType:c,playerId:i,getPlayerDetails:d,sessionID:a.sessionId}),e.trackMediaEvent({event:o,action:l}).then((()=>{if(i)if(c===Fs.SESSION_COMPLETE||c===Fs.SESSION_END)t.stopPing({playerId:i});else{const e=Qs(c,p);if("completed"===e)return;const a="ad"===e?n.streamingMedia.adPingInterval:n.streamingMedia.mainPingInterval,o=setTimeout((()=>{const e={playerId:i,xdm:{eventType:Fs.PING}};r(e)}),1e3*a);t.savePing({playerId:i,pingId:o,playbackState:e})}}))):Promise.reject(new Error(`Failed to trigger media event: ${c}. Session ID is not available for playerId: ${i}.`))))};return e=>r(e)},Js=({config:e,mediaEventManager:t,mediaSessionCacheManager:n,legacy:r=!1})=>a=>{if(!e.streamingMedia)return Promise.reject(new Error("Streaming media is not configured."));const{playerId:o,getPlayerDetails:i,edgeConfigOverrides:s}=a,c=t.createMediaSession(a);t.augmentMediaEvent({event:c,playerId:o,getPlayerDetails:i});const l=t.trackMediaSession({event:c,mediaOptions:{playerId:o,getPlayerDetails:i,legacy:r},edgeConfigOverrides:s});return n.storeSession({playerId:o,sessionDetails:{sessionPromise:l,getPlayerDetails:i,playbackState:Gs.MAIN}}),l},Ys=e=>!Ht(e)||!e.trim(),Ws=({mediaSessionCacheManager:e,config:t,trackMediaEvent:n})=>({response:r,playerId:a,getPlayerDetails:o})=>{const i=r.getPayloadsByType("media-analytics:new-session");if(_e(i)){const{sessionId:r}=i[0];if(Ys(r))return{};if(!a||!o)return{sessionId:r};const s=setTimeout((()=>{n({playerId:a,xdm:{eventType:Fs.PING}})}),1e3*t.streamingMedia.mainPingInterval);return e.savePing({playerId:a,pingId:s,playbackState:Gs.MAIN}),{sessionId:r}}return{}};const Ks={Video:"video",Audio:"audio"},Zs={VOD:"vod",Live:"live",Linear:"linear",Podcast:"podcast",Audiobook:"audiobook",AOD:"aod"},ec={FullScreen:"fullScreen",ClosedCaption:"closedCaptioning",Mute:"mute",PictureInPicture:"pictureInPicture",InFocus:"inFocus"},tc={AdBreakStart:"adBreakStart",AdBreakComplete:"adBreakComplete",AdStart:"adStart",AdComplete:"adComplete",AdSkip:"adSkip",ChapterStart:"chapterStart",ChapterComplete:"chapterComplete",ChapterSkip:"chapterSkip",SeekStart:"seekStart",SeekComplete:"seekComplete",BufferStart:"bufferStart",BufferComplete:"bufferComplete",BitrateChange:"bitrateChange",StateStart:"stateStart",StateEnd:"stateEnd"},nc={SessionStart:"sessionStart",SessionEnd:"sessionEnd",SessionComplete:"sessionComplete",Play:"play",Pause:"pauseStart",Error:"error",StateUpdate:"statesUpdate"},rc={MediaResumed:"media.resumed",GranularAdTracking:"media.granularadtracking"},ac={Show:"a.media.show",Season:"a.media.season",Episode:"a.media.episode",AssetId:"a.media.asset",Genre:"a.media.genre",FirstAirDate:"a.media.airDate",FirstDigitalDate:"a.media.digitalDate",Rating:"a.media.rating",Originator:"a.media.originator",Network:"a.media.network",ShowType:"a.media.type",AdLoad:"a.media.adLoad",MVPD:"a.media.pass.mvpd",Authorized:"a.media.pass.auth",DayPart:"a.media.dayPart",Feed:"a.media.feed",StreamFormat:"a.media.format"},oc={Artist:"a.media.artist",Album:"a.media.album",Label:"a.media.label",Author:"a.media.author",Station:"a.media.station",Publisher:"a.media.publisher"},ic={Advertiser:"a.media.ad.advertiser",CampaignId:"a.media.ad.campaign",CreativeId:"a.media.ad.creative",PlacementId:"a.media.ad.placement",SiteId:"a.media.ad.site",CreativeUrl:"a.media.ad.creativeURL"};var sc=({trackMediaEvent:e,trackMediaSession:t,mediaResponseHandler:n,logger:r,createMediaHelper:a,createGetInstance:o,config:i})=>({lifecycle:{onBeforeEvent({mediaOptions:e,onResponse:t=zt}){if(!e)return;const{legacy:r,playerId:a,getPlayerDetails:o}=e;r&&t((({response:e})=>n({playerId:a,getPlayerDetails:o,response:e})))}},commands:{getMediaAnalyticsTracker:{run:()=>{if(!i.streamingMedia)return Promise.reject(new Error("Streaming media is not configured."));r.info("Streaming media is configured in legacy mode.");const n=a({logger:r});return Promise.resolve({getInstance:()=>o({logger:r,trackMediaEvent:e,trackMediaSession:t,uuid:c}),Event:tc,MediaType:Ks,PlayerState:ec,StreamType:Zs,MediaObjectKey:rc,VideoMetadataKeys:ac,AudioMetadataKeys:oc,AdMetadataKeys:ic,...n})}}}}),cc=({logger:e})=>{const t=(t,n,r)=>{const a={friendlyName:t,offset:n,index:r},o=Cr({friendlyName:Dr().nonEmpty(),offset:wr(),index:wr()});try{const e=o(a);return{advertisingPodDetails:{friendlyName:e.friendlyName,offset:e.offset,index:e.index}}}catch(t){return e.warn("An error occurred while creating the Ad Break Object.",t),{}}},n=(t,n,r,a)=>{const o={friendlyName:t,name:n,podPosition:r,length:a},i=Cr({friendlyName:Dr().nonEmpty(),name:Dr().nonEmpty(),podPosition:wr(),length:wr()});try{const e=i(o);return{advertisingDetails:{friendlyName:e.friendlyName,name:e.name,podPosition:e.podPosition,length:e.length}}}catch(t){return e.warn("An error occurred while creating the Advertising Object.",t),{}}},r=(t,n,r,a)=>{const o={friendlyName:t,offset:n,length:r,index:a},i=Cr({friendlyName:Dr().nonEmpty(),offset:wr(),length:wr(),index:wr()});try{const e=i(o);return{chapterDetails:{friendlyName:e.friendlyName,offset:e.offset,index:e.index,length:e.length}}}catch(t){return e.warn("An error occurred while creating the Chapter Object.",t),{}}},a=t=>{const n=/^[a-zA-Z0-9_]{1,64}$/,r=Dr().matches(n,"This is not a valid state name.");try{return{name:r(t)}}catch(t){return e.warn("An error occurred while creating the State Object.",t),{}}},o=(t,n,r,a)=>{const o={bitrate:t,droppedFrames:n,fps:r,startupTime:a},i=Cr({bitrate:wr(),droppedFrames:wr(),fps:wr(),startupTime:wr()});try{const e=i(o);return{bitrate:e.bitrate,droppedFrames:e.droppedFrames,framesPerSecond:e.fps,timeToStart:e.startupTime}}catch(t){return e.warn("An error occurred while creating the QOE Object.",t),{}}};return{createMediaObject:(t,n,r,a,o)=>{const i={friendlyName:t,name:n,length:r,streamType:o,contentType:a},s=Cr({friendlyName:Dr().nonEmpty(),name:Dr().nonEmpty(),length:wr().required(),streamType:Dr().nonEmpty(),contentType:Dr().nonEmpty()});try{const e=s(i);return{sessionDetails:{name:e.name,friendlyName:e.friendlyName,length:e.length,streamType:e.streamType,contentType:e.contentType}}}catch(t){return e.warn("An error occurred while creating the Media Object.",t),{}}},createAdBreakObject:t,createAdObject:n,createChapterObject:r,createStateObject:a,createQoEObject:o}};const lc={"a.media.show":"show","a.media.season":"season","a.media.episode":"episode","a.media.asset":"assetID","a.media.genre":"genre","a.media.airDate":"firstAirDate","a.media.digitalDate":"firstDigitalDate","a.media.rating":"rating","a.media.originator":"originator","a.media.network":"network","a.media.type":"showType","a.media.adLoad":"adLoad","a.media.pass.mvpd":"mvpd","a.media.pass.auth":"authorized","a.media.dayPart":"dayPart","a.media.feed":"feed","a.media.format":"streamFormat","a.media.artist":"artist","a.media.album":"album","a.media.label":"label","a.media.author":"author","a.media.station":"station","a.media.publisher":"publisher","media.resumed":"hasResume"},dc={"a.media.ad.advertiser":"advertiser","a.media.ad.campaign":"campaignID","a.media.ad.creative":"creativeID","a.media.ad.placement":"placementID","a.media.ad.site":"siteID","a.media.ad.creativeURL":"creativeURL"};var uc=({logger:e,trackMediaSession:t,trackMediaEvent:n,uuid:r})=>{let a=null;const o=()=>{a={qoe:null,lastPlayhead:0,playerId:r()}},i=({eventType:e})=>e===tc.BufferComplete||e===tc.SeekComplete?nc.Play:e===tc.StateStart||e===tc.StateEnd?nc.StateUpdate:e===tc.SeekStart?nc.Pause:e,s=({eventType:e,mediaDetails:t={},contextData:n=[]})=>{const r=i({eventType:e});if(e===tc.StateStart)return{eventType:`media.${r}`,mediaCollection:{statesStart:[t]}};if(e===tc.StateEnd)return{eventType:`media.${r}`,mediaCollection:{statesEnd:[t]}};const a={eventType:`media.${r}`,mediaCollection:{...t}},o=[];return Object.keys(n).forEach((e=>{lc[e]?a.mediaCollection.sessionDetails[lc[e]]=n[e]:dc[e]?a.mediaCollection.advertisingDetails[dc[e]]=n[e]:o.push({name:e,value:n[e]})})),_e(o)&&(a.mediaCollection.customMetadata=o),a};return{trackSessionStart:(n,r={})=>{if(ie(n)||lt(n))return e.warn("Invalid media object"),{};null===a&&(e.warn("The Media Session was completed. Restarting a new session."),o());const i=s({eventType:nc.SessionStart,mediaDetails:n,contextData:r});return t({playerId:a.playerId,getPlayerDetails:()=>({playhead:a.lastPlayhead,qoeDataDetails:a.qoe}),xdm:i})},trackPlay:()=>{if(null===a)return e.warn("The Media Session was completed."),{};const t=s({eventType:nc.Play});return n({playerId:a.playerId,xdm:t})},trackPause:()=>{if(null===a)return e.warn("The Media Session was completed."),{};const t=s({eventType:nc.Pause});return n({playerId:a.playerId,xdm:t})},trackSessionEnd:()=>{if(null===a)return e.warn("The Media Session was completed."),{};const t=s({eventType:nc.SessionEnd});return n({playerId:a.playerId,xdm:t})},trackComplete:()=>{if(null===a)return e.warn("The Media Session was completed."),{};const t=s({eventType:nc.SessionComplete});return n({playerId:a.playerId,xdm:t})},trackError:t=>{if(e.warn(`trackError(${t})`),null===a)return e.warn("The Media Session was completed."),{};const r={name:t,source:"player"},o=s({eventType:nc.Error,mediaDetails:{errorDetails:r}});return n({playerId:a.playerId,xdm:o})},trackEvent:(t,r,o)=>{if(lt(r))return e.warn("Invalid media object."),{};if(null===a)return e.warn("The Media Session was completed."),{};if(!Object.values(tc).includes(t))return e.warn("Invalid event type"),{};const i=s({eventType:t,mediaDetails:r,contextData:o});return n({playerId:a.playerId,xdm:i})},updatePlayhead:t=>{null!==a?$t(t)&&(a.lastPlayhead=parseInt(t,10)):e.warn("The Media Session was completed.")},updateQoEObject:t=>{null!==a?t&&(a.qoe=t):e.warn("The Media Session was completed.")},destroy:()=>{e.warn("Destroy called, destroying the tracker."),a=null}}};const pc=({eventManager:e,sendEdgeNetworkRequest:t,config:n,logger:r,consent:a})=>{const o=zs(),i=Hs({sendEdgeNetworkRequest:t,config:n,consent:a,eventManager:e,setTimestamp:yo((()=>new Date))}),s=Xs({mediaSessionCacheManager:o,mediaEventManager:i,config:n}),c=Js({config:n,mediaEventManager:i,mediaSessionCacheManager:o,legacy:!0}),l=Ws({mediaSessionCacheManager:o,config:n,trackMediaEvent:s});return sc({mediaResponseHandler:l,trackMediaSession:c,trackMediaEvent:s,createMediaHelper:cc,createGetInstance:uc,logger:r,config:n})};pc.namespace="Legacy Media Analytics";const gc="web",fc="webapp",mc="://",hc="#",yc=/^(\w+):\/\/([^/#]+)(\/[^#]*)?(#.*)?$/,bc=/^(?:.*@)?(?:[a-z\d\u00a1-\uffff.-]+|\[[a-f\d:]+])(?::\d+)?$/,vc=/^\/(?:[/\w\u00a1-\uffff-.~]|%[a-fA-F\d]{2})*$/,wc=/^#(?:[/\w\u00a1-\uffff-.~]|%[a-fA-F\d]{2})+$/,Ec=(e="/")=>{let t=e.length;for(;t>0&&-1!=="/".indexOf(e.charAt(t-1));)t-=1;return e.substring(0,t)||"/"},Cc=e=>Gt(e)?e.toLowerCase():"",Dc=e=>Gt(e)?e.toLowerCase():"",Ic=e=>Gt(e)?Ec(e):"/",Sc=e=>{const t=e.match(yc);return t?{surfaceType:Cc(t[1]),authority:Dc(t[2]),path:Ic(t[3]),fragment:t[4]}:null},kc=e=>`${e.surfaceType}${mc}${e.authority}${e.path||""}${e.fragment||""}`,Pc=e=>{const t=e(),n=t.host.toLowerCase(),r=t.pathname;return gc+mc+n+Ec(r)},Oc=(e,t)=>e.startsWith(hc)?Pc(t)+e:e,Tc=(e,t,n)=>{const r=e=>(n.warn(e),null);if(!Gt(e))return r(`Invalid surface: ${e}`);const a=Oc(e,t),o=Sc(a);return null===o?r(`Invalid surface: ${e}`):[gc,fc].includes(o.surfaceType)?o.authority&&bc.test(o.authority)?o.path&&!vc.test(o.path)?r(`Invalid path ${o.path} in surface: ${e}`):o.fragment&&!wc.test(o.fragment)?r(`Invalid fragment ${o.fragment} in surface: ${e}`):o:r(`Invalid authority ${o.authority} in surface: ${e}`):r(`Unsupported surface type ${o.surfaceType} in surface: ${e}`)},Lc=e=>!!e&&0===e.indexOf(gc+mc)&&-1===e.indexOf(hc),jc=(e=[],t,n)=>e.map((e=>Tc(e,t,n))).filter((e=>!ie(e))).map(kc),Ac="https://ns.adobe.com/personalization/default-content-item",_c="https://ns.adobe.com/personalization/dom-action",Rc="https://ns.adobe.com/personalization/html-content-item",xc="https://ns.adobe.com/personalization/json-content-item",Mc="https://ns.adobe.com/personalization/ruleset-item",Nc="https://ns.adobe.com/personalization/redirect-item",qc="https://ns.adobe.com/personalization/message/in-app",Vc="https://ns.adobe.com/personalization/message/content-card",Uc=e=>{e.includes(va)||e.push(va)},$c=(e,t)=>{const n=Pc(t);e.includes(n)||e.push(n)},Fc=e=>e.filter(((t,n)=>e.indexOf(t)===n));var Bc=({getPageLocation:e,renderDecisions:t,decisionScopes:n,personalization:r,event:a,isCacheInitialized:o,logger:i})=>{const s=a.getViewName();return{isRenderDecisions:()=>t,isSendDisplayEvent:()=>!!r.sendDisplayEvent,shouldIncludeRenderedPropositions:()=>!!r.includeRenderedPropositions,getViewName:()=>s,hasScopes:()=>n.length>0||_e(r.decisionScopes),hasSurfaces:()=>_e(r.surfaces),hasViewName:()=>Gt(s),createQueryDetails(){const t=[...n];_e(r.decisionScopes)&&t.push(...r.decisionScopes);const a=jc(r.surfaces,e,i);this.shouldRequestDefaultPersonalization()&&(Uc(t),$c(a,e));const o=[Ac,Rc,xc,Nc,Mc,qc,Vc];return t.includes(va)&&o.push(_c),{schemas:o,decisionScopes:Fc(t),surfaces:Fc(a)}},isCacheInitialized:()=>o,shouldFetchData(){return this.hasScopes()||this.hasSurfaces()||this.shouldRequestDefaultPersonalization()},shouldUseCachedData(){return this.hasViewName()&&!this.shouldFetchData()},shouldRequestDefaultPersonalization(){return r.defaultPersonalizationEnabled||!this.isCacheInitialized()&&!1!==r.defaultPersonalizationEnabled}}};const Hc="Rendering is disabled for authoring mode.",Gc="decisioning.propositionDisplay",zc="decisioning.propositionInteract",Qc="decisioning.propositionTrigger",Xc="decisioning.propositionDismiss",Jc="decisioning.propositionSuppressDisplay",Yc=1,Wc={DISPLAY:"display",INTERACT:"interact",TRIGGER:"trigger",DISMISS:"dismiss",SUPPRESS:"suppressDisplay"},Kc={[Gc]:Wc.DISPLAY,[zc]:Wc.INTERACT,[Qc]:Wc.TRIGGER,[Xc]:Wc.DISMISS,[Jc]:Wc.SUPPRESS},Zc={[Wc.DISPLAY]:Gc,[Wc.INTERACT]:zc,[Wc.TRIGGER]:Qc,[Wc.DISMISS]:Xc,[Wc.SUPPRESS]:Jc},el=e=>Kc[e],tl=e=>Zc[e],nl={propositions:[]};var rl=({logger:e,options:t})=>{const n=Cr({propositions:hr(Cr({id:Dr().required(),scope:Dr().required(),scopeDetails:Cr({decisionProvider:Dr().required()}).required(),items:hr(Cr({id:Dr().required(),schema:Dr().required(),data:Cr(mr())})).nonEmpty().required()}).required()).nonEmpty().required(),metadata:Cr(mr()),viewName:Dr()}).required();try{return n(t)}catch(t){return e.warn("Invalid options for applyPropositions. No propositions will be applied.",t),nl}},al=({getPageLocation:e,logger:t,fetchDataHandler:n,viewChangeHandler:r,onClickHandler:a,isAuthoringModeEnabled:o,mergeQuery:i,viewCache:s,showContainers:c,applyPropositions:l,setTargetMigration:d,mergeDecisionsMeta:u,renderedPropositions:p,onDecisionHandler:g,handleConsentFlicker:f})=>({lifecycle:{onComponentsRegistered(){f()},onDecision:g,onBeforeRequest:({request:e})=>(d(e),Promise.resolve()),onBeforeEvent({event:a,renderDecisions:l,decisionScopes:d=[],personalization:g={},onResponse:f=zt,onRequestFailure:m=zt}){if(f((()=>({propositions:[]}))),m((()=>c())),o())return t.warn(Hc),i(a,{enabled:!1}),Promise.resolve();const h=Bc({getPageLocation:e,renderDecisions:l,decisionScopes:d,personalization:g,event:a,isCacheInitialized:s.isInitialized(),logger:t}),y=[];if(h.shouldIncludeRenderedPropositions()&&y.push(p.clear()),h.shouldFetchData()){const e=s.createCacheUpdate(h.getViewName());m((()=>e.cancel())),n({cacheUpdate:e,personalizationDetails:h,event:a,onResponse:f})}else h.shouldUseCachedData()&&y.push(r({personalizationDetails:h,event:a,onResponse:f,onRequestFailure:m}));return Promise.all(y).then((e=>{const t=e.flatMap((e=>e));_e(t)&&u(a,t,[Wc.DISPLAY])}))},onClick({event:e,clickedElement:t}){a({event:e,clickedElement:t})}},commands:{applyPropositions:{optionsValidator:e=>rl({logger:t,options:e}),run:l}}}),ol=(e="undefined")=>De(Pe,{},{innerHTML:e});const il=":eq(",sl=/:eq\((\d+)\)/g,cl=e=>-1===e.indexOf(il),ll=e=>e.split(sl).filter(Gt),dl=/(#|\.)(-?\w+)/g,ul=(e,t,n)=>`${t}${CSS.escape(n)}`,pl=e=>e.replace(dl,ul),gl=e=>{const t=[],n=pl(e.trim()),r=ll(n),{length:a}=r;let o=0;for(;o<a;){const e=r[o],n=r[o+1];n?t.push({sel:e,eq:Number(n)}):t.push({sel:e}),o+=2}return t},fl=e=>{const t=document;if(cl(e))return Fe(e,t);const n=gl(e),{length:r}=n;let a=[],o=t,i=0;for(;i<r;){const{sel:e,eq:t}=n[i],s=Fe(e,o),{length:c}=s;if(0===c)break;if(null!=t&&t>c-1)break;i<r-1&&(null==t?[o]=s:o=s[t]),i===r-1&&(a=null==t?s:[s[t]]),i+=1}return a};var ml=(e,t=document)=>t.getElementById(e),hl=(e,t,n)=>{e.setAttribute(t,n)},yl=(e,t)=>e.getAttribute(t),bl=(e,t)=>{e.removeAttribute(t)},vl=(e,t,n,r)=>{let a;a=r?`${t}:${n} !${r};`:`${t}:${n};`,e.style.cssText+=`;${a}`},wl=e=>e.parentNode,El=e=>e.nextElementSibling,Cl=(e,t)=>{if(!e)return;const n=wl(e);n&&n.insertBefore(t,El(e))},Dl=(e,t)=>{if(!e)return;const n=wl(e);n&&n.insertBefore(t,e)},Il=e=>{const{children:t}=e;return t?Re(t):[]},Sl=e=>{const{childNodes:t}=e;return t?Re(t):[]},kl=e=>e.firstElementChild;let Pl;var Ol=(e=document)=>{if(void 0===Pl){const t=e.querySelector("[nonce]");Pl=t&&(t.nonce||t.getAttribute("nonce"))}return Pl};const Tl="src",Ll=e=>e.tagName===ke,jl=e=>De(ke,{src:e}),Al=e=>{Fe(ke,e).forEach((e=>{const t=yl(e,Tl);t&&jl(t)}))},_l=(e,t)=>e.tagName===t,Rl=e=>_l(e,Oe)&&!yl(e,Tl);var xl=e=>{const t=Fe(Oe,e),{length:n}=t,r=Ol();if(r)for(let e=0;e<n;e+=1){const n=t[e];Rl(n)&&(n.nonce=r)}};const Ml=(e,t)=>new Promise(((n,r)=>{t.onload=()=>{n(t)},
t.onerror=()=>{r(new Error(`Failed to load script: ${e}`))}})),Nl=e=>{const t=document.createElement("script");t.src=e,t.async=!0;const n=Ml(e,t);return document.head.appendChild(t),n},ql=(e,t)=>!!e&&e.tagName===t,Vl=e=>ql(e,Te)&&!yl(e,Tl),Ul=e=>ql(e,Te)&&yl(e,Tl),$l=e=>{const t=Fe(Te,e),n=[],{length:r}=t,a=Ol(),o={...a&&{nonce:a}};for(let e=0;e<r;e+=1){const r=t[e];if(!Vl(r))continue;const{textContent:a}=r;a&&n.push(De(Te,o,{textContent:a}))}return n},Fl=e=>{const t=Fe(Te,e),n=[],{length:r}=t;for(let e=0;e<r;e+=1){const r=t[e];if(!Ul(r))continue;const a=yl(r,Tl);a&&n.push(a)}return n},Bl=(e,t)=>{t.forEach((t=>{e.appendChild(t),e.removeChild(t)}))},Hl=e=>Promise.all(e.map(Nl));var Gl=(e,t,n)=>{const r=ol(t);xl(r);const a=Sl(r),o=$l(r),i=Fl(r);return Al(r),a.forEach((t=>{Ee(e,t)})),n(e),Bl(e,o),Hl(i)};const zl=e=>{Sl(e).forEach(ot)};var Ql=(e,t,n)=>(zl(e),Gl(e,t,n)),Xl=(e,t,n)=>{const r=ol(t);xl(r);const a=Sl(r),o=$l(r),i=Fl(r),{length:s}=a;let c=s-1;for(Al(r);c>=0;){const t=a[c];n(t);const r=kl(e);r?Dl(r,t):Ee(e,t),c-=1}return Bl(e,o),Hl(i)};const Jl="alloy-prehiding",Yl="{ visibility: hidden }",Wl={},Kl=e=>{if(Wl[e])return;const t=Ol(),n={...t&&{nonce:t}},r=De(Oe,n,{textContent:`${e} ${Yl}`});Ee(document.head,r),Wl[e]=r},Zl=e=>{const t=Wl[e];t&&(ot(t),delete Wl[e])},ed=e=>t=>{if(!t)return;if(ml(Jl))return;const n=Ol(),r={id:Jl,...n&&{nonce:n}},a=De(Oe,r,{textContent:t});e.logOnContentHiding({status:"hide-containers",message:"Prehiding style applied to hide containers.",logLevel:"info"}),Ee(document.head,a)},td=e=>()=>{const t=ml(Jl);t&&(e.logOnContentHiding({status:"show-containers",message:"Prehiding style removed to show containers.",logLevel:"info"}),ot(t))};var nd=(e,t,n)=>{n(e),e.textContent=t},rd=(e,t,n)=>{const r=ol(t);xl(r);const a=Sl(r),o=$l(r),i=Fl(r);return Al(r),a.forEach((t=>{n(t),Dl(e,t)})),Bl(e,o),Hl(i)},ad=(e,t,n)=>rd(e,t,n).then((()=>{ot(e)})),od=(e,t,n)=>{const r=ol(t);xl(r);const a=Sl(r),o=$l(r),i=Fl(r);Al(r);let s=e;return a.forEach((e=>{n(e),Cl(s,e),s=e})),Bl(e,o),Hl(i)},id=(e,t,n)=>{const{priority:r,...a}=t;Object.keys(a).forEach((t=>{vl(e,t,a[t],r)})),n(e)},sd=(e,t,n)=>{Object.keys(t).forEach((n=>{hl(e,n,t[n])})),n(e)},cd=(e,t,n)=>{Ll(e)&&(jl(t),n(e),bl(e,Tl),hl(e,Tl,t))},ld=(e,{from:t,to:n},r)=>{const a=Il(e),o=a[t],i=a[n];o&&i&&(t<n?Cl(i,o):Dl(i,o),r(i),r(o))};const dd=({containers:e,content:t,decorateProposition:n,renderFunc:r,renderStatusHandler:a})=>{const o=e.filter(a.shouldRender).map((async e=>{await r(e,t,n),a.markAsRendered(e)}));return Promise.all(o)},ud=e=>async(t,n,r)=>{const{selector:a,prehidingSelector:o,content:i}=t;Kl(o);try{const t=await rt(a,fl);dd({containers:t,content:i,decorateProposition:n,renderFunc:e,renderStatusHandler:r})}finally{Zl(o)}},pd=e=>`${e}`.endsWith("px")?e:`${e}px`;var gd=(e,t,n)=>{const{priority:r,...a}=t;Object.keys(a).forEach((t=>{let n=a[t];"left"!==t&&"top"!==t||(n=pd(n)),vl(e,t,n,r)})),n(e)},fd=(e,t,n)=>{n(e)},md=(e,t,n)=>{const{priority:r,...a}=t;Object.keys(a).forEach((t=>{let n=a[t];"width"!==t&&"height"!==t||(n=pd(n)),vl(e,t,n,r)})),n(e)};const hd="setHtml",yd="customCode",bd="setText",vd="setAttribute",wd="setImageSource",Ed="setStyle",Cd="move",Dd="resize",Id="rearrange",Sd="remove",kd="insertAfter",Pd="insertBefore",Od="replaceHtml",Td="prependHtml",Ld="appendHtml",jd="click",Ad="collectInteractions";var _d=()=>({[hd]:ud(Ql),[yd]:ud(Xl),[bd]:ud(nd),[vd]:ud(sd),[wd]:ud(cd),[Ed]:ud(id),[Cd]:ud(gd),[Dd]:ud(md),[Id]:ud(ld),[Sd]:ud(ot),[kd]:ud(od),[Pd]:ud(rd),[Od]:ud(ad),[Td]:ud(Xl),[Ld]:ud(Gl),[Ad]:ud(fd)}),Rd=({eventManager:e,mergeDecisionsMeta:t})=>({decisionsMeta:n=[],propositionAction:r,documentMayUnload:a=!1,eventType:o=Gc,propositionEventTypes:i=[el(o)],viewName:s})=>{const c=e.createEvent(),l={eventType:o};return s&&(l.web={webPageDetails:{viewName:s}}),_e(n)&&t(c,n,i,r),c.mergeXdm(l),a&&c.documentMayUnload(),e.sendEvent(c)};const xd="personalization:decisions";var Md=({logger:e,prehidingStyle:t,showContainers:n,hideContainers:r,mergeQuery:a,processPropositions:o,createProposition:i,notificationHandler:s,consent:c})=>({cacheUpdate:l,personalizationDetails:d,event:u,onResponse:p})=>{const{state:g,wasSet:f}=c.current();"out"===g&&f||(d.isRenderDecisions()?r(t):n()),a(u,d.createQueryDetails());const m=s(d.isRenderDecisions(),d.isSendDisplayEvent(),d.getViewName());p((({response:t})=>{const r=t.getPayloadsByType(xd);_e(r)||e.logOnContentRendering({status:"no-offers",message:"No offers were returned.",logLevel:"info",detail:{query:d.createQueryDetails()}});const a=r.map((e=>i(e))),{page:s=[],view:c=[],proposition:u=[]}=wt(a,(e=>e.getScopeType())),p=l.update(c);let g,f,h;return d.isRenderDecisions()?(({render:g,returnedPropositions:f,returnedDecisions:h}=o([...s,...p],u)),_e(s)&&e.logOnContentRendering({status:"rendering-started",message:"Started rendering propositions for page-wide scope.",logLevel:"info",detail:{scope:va,propositions:s.map((e=>e.toJSON()))}}),_e(p)&&e.logOnContentRendering({status:"rendering-started",message:`Rendering propositions started for view scope - ${d.getViewName()}.`,logLevel:"info",detail:{scope:d.getViewName(),propositions:p.map((e=>e.toJSON()))}}),g().then(m),n()):({returnedPropositions:f,returnedDecisions:h}=o([],[...s,...p,...u])),{propositions:f,decisions:h}}))},Nd=(e,t)=>{if(cl(e))return at(e,t);const n=fl(e);let r=!1;for(let e=0;e<n.length;e+=1)if(n[e]===t){r=!0;break}return r};const qd="view",Vd="page",Ud="proposition",$d=e=>e.map((e=>{const{trackingLabel:t,scopeType:n,...r}=e;return r})),Fd=e=>e.filter(((t,n)=>{const r=JSON.stringify(t);return n===e.findIndex((e=>JSON.stringify(e)===r))})),Bd=(e,t,n)=>{const{documentElement:r}=document;let a=e,o=0;for(;a&&a!==r;){if(Nd(t,a)){const e=n(t),r={metas:e},a=e.find((e=>e.trackingLabel));a&&(r.label=a.trackingLabel,r.weight=o);const i=e.find((e=>e.scopeType===qd));return i&&(r.viewName=i.scope,r.weight=o),r}a=a.parentNode,o+=1}return{metas:null}};var Hd=(e,t,n)=>{const r=[];let a,o="",i=Number.MAX_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER;for(let c=0;c<t.length;c+=1){const{metas:l,label:d,weight:u,viewName:p}=Bd(e,t[c],n);l&&(d&&u<=i&&(o=d,i=u),p&&u<=s&&(a=p,s=u),r.push(...$d(l)))}return{decisionsMeta:Fd(r),propositionActionLabel:o,propositionActionToken:void 0,viewName:a}},Gd=(e=document)=>-1!==e.location.href.indexOf("adobe_authoring_enabled");const zd=(e,t,n,r)=>{if(0===t.length)return;const a={};n.forEach((e=>{a[e]=Yc}));const o={_experience:{decisioning:{propositions:t,propositionEventType:a}}};r&&(o._experience.decisioning.propositionAction=r),e.mergeXdm(o)},Qd=(e,t)=>{e.mergeQuery({personalization:{...t}})},Xd=(e,t)=>{if(!t&&!e)return;const n={};return e&&(n.label=e),t&&(n.tokens=[t]),n};var Jd=({mergeDecisionsMeta:e,collectInteractions:t,collectClicks:n,getInteractionMetas:r,getClickMetas:a,getClickSelectors:o,autoCollectPropositionInteractions:i})=>({event:s,clickedElement:c})=>{const l=[];let d,u,p;if([t(c,r,i),n(c,o(),a)].forEach((({decisionsMeta:e,propositionActionLabel:t,propositionActionToken:n,viewName:r})=>{Array.prototype.push.apply(l,e),!d&&t&&(d=t),!u&&n&&(u=n),!p&&r&&(p=r)})),_e(l)){const t={eventType:zc};p&&(t.web={webPageDetails:{viewName:p}}),s.mergeXdm(t),e(s,l,[Wc.INTERACT],Xd(d,u))}},Yd=({createProposition:e})=>{let t=!1,n=Promise.resolve({});const r=(t,n)=>{const r=t[n.toLowerCase()];return r&&r.length>0?r:[e({scope:n,scopeDetails:{characteristics:{scopeType:qd}},items:[{schema:Ac}]},!1)]};return{createCacheUpdate:e=>{const a=ye();return t=!0,n=n.then((e=>a.promise.then((t=>({...e,...t}))).catch((()=>e)))),{update(t){const n=t.filter((e=>e.getScope())),o=wt(n,(e=>e.getScope().toLowerCase()));return a.resolve(o),e?r(o,e):[]},cancel(){a.reject()}}},getView:e=>n.then((t=>r(t,e))),isInitialized:()=>t}},Wd=({processPropositions:e,viewCache:t,logger:n})=>({personalizationDetails:r,onResponse:a})=>{let o,i;const s=r.getViewName();return a((()=>({propositions:o,decisions:i}))),t.getView(s).then((t=>{let a;return r.isRenderDecisions()?(({render:a,returnedPropositions:o,returnedDecisions:i}=e(t)),n.logOnContentRendering({status:"rendering-started",message:`Started rendering propositions for view scope - ${s}.`,logLevel:"info",detail:{scope:s,propositions:t.map((e=>e.toJSON()))}}),a()):(({returnedPropositions:o,returnedDecisions:i}=e([],t)),[])}))};const Kd=e=>Object.keys(e).map((t=>({id:t,...e[t]})));var Zd=()=>{const e={};return{storeClickMeta:({selector:t,meta:{id:n,scope:r,scopeDetails:a,trackingLabel:o,scopeType:i}})=>{e[t]||(e[t]={}),e[t][n]={scope:r,scopeDetails:a,trackingLabel:o,scopeType:i}},getClickSelectors:()=>Object.keys(e),getClickMetas:t=>e[t]?Kd(e[t]):{}}},eu=()=>{const e={},t={};return{storeInteractionMeta:(n,r,a,o,i)=>{i=parseInt(i,10),e[i]||(e[i]={},t[i]={}),t[i][n]||(t[i][n]=new Set),t[i][n].add(r),e[i][n]={...o,scopeType:a}},getInteractionMetas:n=>Array.isArray(n)&&0!==n.length?Object.values(n.map((e=>parseInt(e,10))).reduce(((n,r)=>(Object.keys(e[r]||{}).forEach((a=>{n[a]||(n[a]={proposition:e[r][a],items:new Set}),n[a].items=new Set([...n[a].items,...t[r][a]])})),n)),{})).map((({proposition:e,items:t})=>({...e,items:Array.from(t).map((e=>({id:e})))}))):[]}};const tu=(e,t)=>e===xc&&t===Ad,nu={[_c]:()=>!0,[Rc]:()=>!0,[xc]:tu,[qc]:()=>!0,[Ac]:()=>!0},ru=(e,t)=>"function"==typeof nu[e]&&nu[e](e,t);var au=({processPropositions:e,createProposition:t,renderedPropositions:n,viewCache:r})=>{const a=({items:e,metadataForScope:t={}})=>{const{actionType:n,selector:r}=t;return e.filter((e=>ru(e.schema,n))).map((e=>{const{schema:a}=e;return a===Rc||tu(a,n)?lt(t)?void 0:{...e,schema:tu(a,n)?_c:a,data:{...e.data,selector:r,type:n}}:{...e}})).filter((e=>e))},o=e=>!(e.scope===va&&e.renderAttempted),i=({propositions:e,metadata:t})=>e.filter(o).map((e=>{if(_e(e.items)){const{id:n,scope:r,scopeDetails:o}=e;return{id:n,scope:r,scopeDetails:o,items:a({items:e.items,metadataForScope:t[e.scope]})}}return e})).filter((e=>_e(e.items)));return({propositions:a=[],metadata:o={},viewName:s})=>{const c=ye();n.concat(c.promise);const l=i({propositions:a,metadata:o}).map((e=>t(e)));return Promise.resolve().then((()=>s?r.getView(s):[])).then((t=>{const{render:n,returnedPropositions:r}=e([...l,...t]);return n().then(c.resolve),{propositions:r}}))}},ou=({window:e})=>()=>e.location,iu=({targetMigrationEnabled:e})=>e?e=>{e.getPayload().mergeMeta({target:{migration:!0}})}:zt;const su="BODY > *:eq(0)";var cu=e=>{const{selector:t,type:n}=e;return n!==yd||t!==su?e:{...e,selector:"BODY"}};const lu="SCRIPT,LINK,STYLE",du=e=>{const t=ol(e);return Fe(lu,t).map((e=>e.outerHTML)).join("")};var uu=e=>{const t={...e},{content:n,selector:r}=t;if(Ys(n))return t;if(null==r)return t;const a=fl(r);return ql(a[0],Le)?(t.type=Ld,t.content=du(n),t):t},pu=e=>t=>t?e.reduce(((e,t)=>({...e,...t(e)})),t):t,gu=({preprocess:e,isPageWideSurface:t})=>{const n=(t,n)=>{const{id:r,schema:a,data:o,characteristics:{trackingLabel:i}={}}=t,s=o?o.type:void 0,c=e(o);return{getId:()=>r,getSchema:()=>a,getSchemaType:()=>s,getData:()=>c,getProposition:()=>n,getTrackingLabel:()=>i,getOriginalItem:()=>t,toString:()=>JSON.stringify(t),toJSON:()=>t}};return(e,r=!0,a=!1)=>{const{id:o,scope:i,scopeDetails:s,items:c=[]}=e,{characteristics:{scopeType:l}={}}=s||{};return{getScope:()=>i,getScopeType:()=>i===va||t(i)?Vd:l===qd?qd:Ud,getItems(){return c.map((e=>n(e,this)))},getNotification:()=>({id:o,scope:i,scopeDetails:s}),getId:()=>o,toJSON:()=>e,shouldSuppressDisplay:()=>a,addToReturnValues(t,n,a,o){r&&(t.push({...e,items:a.map((e=>e.getOriginalItem())),renderAttempted:o}),o||n.push({...e,items:a.map((e=>e.getOriginalItem()))}))}}}},fu=()=>{let e=Promise.resolve([]);return{concat(t){e=e.then((e=>t.then((t=>e.concat(t))).catch((()=>e))))},clear(){const t=e;return e=Promise.resolve([]),t}}},mu=()=>({render:zt,setRenderAttempted:!0,includeInNotification:!0});const hu="always",yu="never",bu="decoratedElementsOnly",vu=[hu,yu,bu],wu="data-aep-interact-id",Eu="data-aep-click-label",Cu="data-aep-click-token";let Du=0;const Iu=(e,t)=>t?parseInt(t,10):++Du,Su=(e,t)=>!!e&&!!e[t]&&[hu,bu].includes(e[t]),ku=(e,t,n,r,a,o,i,s)=>{const{scopeDetails:c={}}=i,{decisionProvider:l}=c;return Su(e,l)||t===jd?e=>{if(!e.tagName)return;const t=Iu(n,yl(e,wu));s(n,r,o,i,t),hl(e,wu,t),a&&!yl(e,Eu)&&hl(e,Eu,a)}:zt};var Pu=(e,t)=>e!==qd?{shouldRender:()=>!0,markAsRendered:()=>{}}:{shouldRender:e=>!e||!(e.dataset.adobePropositionIds??"").split(",").includes(t),markAsRendered:e=>{const n=(e.dataset.adobePropositionIds??"").split(",");n.includes(t)||n.push(t),e.dataset.adobePropositionIds=n.sort().join(",")}},Ou=({modules:e,logger:t,storeInteractionMeta:n,storeClickMeta:r,autoCollectPropositionInteractions:a})=>o=>{const{type:i,selector:s}=o.getData()||{};if(!i)return t.warn("Invalid DOM action data: missing type.",o.getData()),{setRenderAttempted:!1,includeInNotification:!1};if(i===jd)return s?(r({selector:s,meta:{...o.getProposition().getNotification(),trackingLabel:o.getTrackingLabel(),scopeType:o.getProposition().getScopeType()}}),{setRenderAttempted:!0,includeInNotification:!1}):(t.warn("Invalid DOM action data: missing selector.",o.getData()),{setRenderAttempted:!1,includeInNotification:!1});if(!e[i])return t.warn("Invalid DOM action data: unknown type.",o.getData()),{setRenderAttempted:!1,includeInNotification:!1};const c=Pu(o.getProposition().getScopeType(),o.getId()),l=ku(a,i,o.getProposition().getId(),o.getId(),o.getTrackingLabel(),o.getProposition().getScopeType(),o.getProposition().getNotification(),n);return{render:()=>e[i](o.getData(),l,c),setRenderAttempted:!0,includeInNotification:!0}},Tu=({modules:e,logger:t,storeInteractionMeta:n,autoCollectPropositionInteractions:r})=>a=>{const{type:o,selector:i}=a.getData()||{};if(!i||!o)return{setRenderAttempted:!1,includeInNotification:!1};if(!e[o])return t.warn("Invalid HTML content data",a.getData()),{setRenderAttempted:!1,includeInNotification:!1};const s=ku(r,o,a.getProposition().getId(),a.getId(),a.getTrackingLabel(),a.getProposition().getScopeType(),a.getProposition().getNotification(),n);return{render:()=>e[o](a.getData(),s),setRenderAttempted:!0,includeInNotification:!0}};const Lu="BODY";var ju=({logger:e,executeRedirect:t,collect:n})=>r=>{const{content:a}=r.getData()||{};return a?{render:()=>(Kl(Lu),n({decisionsMeta:[r.getProposition().getNotification()],documentMayUnload:!0}).then((()=>(e.logOnContentRendering({status:"rendering-redirect",detail:{propositionDetails:r.getProposition().getNotification(),redirect:a},message:`Redirect action ${r.toString()} executed.`,logLevel:"info"}),t(a)))).catch((e=>{throw Zl(Lu),e}))),setRenderAttempted:!0,onlyRenderThis:!0}:(e.warn("Invalid Redirect data",r.getData()),{})},Au=({schemaProcessors:e,logger:t})=>{const n=(e,n)=>()=>Promise.resolve().then(e).then((()=>(t.enabled&&t.info(`Action ${n.toString()} executed.`),n.toJSON()))).catch((e=>{const{message:r,stack:a}=e,o=`Failed to execute action ${n.toString()}. ${r} ${a}`;t.logOnContentRendering({status:"rendering-failed",detail:{propositionDetails:n.getProposition().getNotification(),item:n.toJSON()},error:e,message:o,logLevel:"warn"})})),r=async(e,t)=>{const n=(await Promise.allSettled(e.map((e=>e())))).filter((e=>"fulfilled"===e.status)).map((e=>e.value));if(t&&_e(n))return{...t,items:n}},a=t=>{const n=e[t.getSchema()];return n?n(t):{}},o=({renderers:e,returnedPropositions:t,returnedDecisions:o,items:i,proposition:s})=>{let c,l,d,u,p=[...e],g=[...t],f=[...o],m=[],h=[],y=[],b=!1,v=!1,w=0;for(;i.length>w;){if(u=i[w],({render:c,setRenderAttempted:l,includeInNotification:d,onlyRenderThis:v}=a(u)),v){g=[],f=[],l?(m=[u],h=[]):(m=[],h=[u]),p=[],y=[c],b=d;break}c&&y.push(n(c,u)),d&&(b=!0),l?m.push(u):h.push(u),w+=1}if(y.length>0){const e=b?s.getNotification():void 0;p.push((()=>r(y,e)))}else b&&p.push((()=>Promise.resolve(s.getNotification())));return m.length>0&&s.addToReturnValues(g,f,m,!0),h.length>0&&s.addToReturnValues(g,f,h,!1),{renderers:p,returnedPropositions:g,returnedDecisions:f,onlyRenderThis:v}};return(e,n=[])=>{let r,a,i,s=[],c=[],l=[],d=0;for(;e.length>d&&(a=e[d],i=a.getItems(),({renderers:s,returnedPropositions:c,returnedDecisions:l,onlyRenderThis:r}=o({renderers:s,returnedPropositions:c,returnedDecisions:l,items:i,proposition:a})),!r);)d+=1;return r&&e.forEach(((e,t)=>{t!==d&&e.addToReturnValues(c,l,e.getItems(),!1)})),n.forEach((e=>{e.addToReturnValues(c,l,e.getItems(),!1)})),{returnedPropositions:c,returnedDecisions:l,render:()=>Promise.all(s.map((e=>e()))).then((e=>{const n=e.filter((e=>e)),r=n.map((e=>{const{id:t,scope:n,scopeDetails:r}=e;return{id:t,scope:n,scopeDetails:r}}));if(_e(n)){const e=wt(n,(e=>e.scope));t.logOnContentRendering({status:"rendering-succeeded",detail:{...e},message:`Scopes: ${JSON.stringify(e)} successfully executed.`,logLevel:"info"})}return r}))}}};const _u=()=>{let e=0;return t=>{const{items:n=[]}=t;return!!n.some((e=>e.schema===qc))&&(e+=1,e>1)}};var Ru=({processPropositions:e,createProposition:t,notificationHandler:n})=>({renderDecisions:r,propositions:a,event:o,personalization:i={}})=>{if(!r)return Promise.resolve();const{sendDisplayEvent:s=!0}=i,c=o?o.getViewName():void 0,l=_u(),d=a.map((e=>t(e,!0,l(e)))),{render:u,returnedPropositions:p}=e(d),g=n(r,s,c),f=d.reduce(((e,t)=>(e[t.getId()]=t,e)),{});return u().then((e=>{const t=e.filter((e=>!f[e.id].shouldSuppressDisplay())),n=e.filter((e=>f[e.id].shouldSuppressDisplay()));g(t,n)})),Promise.resolve({propositions:p})};const xu="text/html",Mu="application/json",Nu="defaultContent",qu=["content","contentType"],Vu=["mobileParameters","webParameters","html"],Uu=(e,t)=>{for(let n=0;n<qu.length;n+=1){const r=qu[n];if(!Object.prototype.hasOwnProperty.call(e,r))return t.warn(`Invalid in-app message data: missing property '${r}'.`,e),!1}const{content:n,contentType:r}=e;if(r===Mu)for(let r=0;r<Vu.length;r+=1){const a=Vu[r];if(!Object.prototype.hasOwnProperty.call(n,a))return t.warn(`Invalid in-app message data.content: missing property '${a}'.`,e),!1}return!0};var $u=({modules:e,logger:t})=>n=>{const r=n.getData(),a=n.getProposition(),o={...a.getNotification()},i=a.shouldSuppressDisplay();if(!r)return t.warn("Invalid in-app message data: undefined.",r),{};const{type:s=Nu}=r;return e[s]?Uu(r,t)?o?{render:()=>i?null:e[s]({...r,meta:o}),setRenderAttempted:!0,includeInNotification:!0}:(t.warn("Invalid in-app message meta: undefined.",o),{}):{}:(t.warn("Invalid in-app message data: unknown type.",r),{})};const Fu=e=>{const t=Fe(`#${e}`,document);t&&t.length>0&&ot(t[0])},Bu=e=>{const t={};if(!e||"a"!==e.tagName.toLowerCase())return t;const{href:n}=e;if(!n||!n.startsWith("adbinapp://"))return t;const r=n.split("?"),a=r[0].split("://")[1],o=e.innerText,i=e.getAttribute("data-uuid")||"";let s,c;if(_e(r)){const e=oe.default.parse(r[1]);s=e.interaction||"",c=ti(e.link||"")}return{action:a,interaction:s,link:c,label:o,uuid:i}};var Hu=e=>(t,n=!1)=>(n?e.location.href=t:e.location.replace(t),new Promise((()=>{})));const Gu="alloy-messaging-container",zu="alloy-overlay-container",Qu="alloy-content-iframe",Xu=()=>[Gu,zu].forEach(Fu),Ju=(e,t=Hu(window))=>n=>{n.preventDefault(),n.stopImmediatePropagation();const{target:r}=n,a="a"===r.tagName.toLowerCase()?r:r.closest("a");if(!a)return;const{action:o,interaction:i,link:s,label:c,uuid:l}=Bu(a);e(o,{label:c,id:i,uuid:l,link:s}),"dismiss"===o&&Xu(),Gt(s)&&s.length>0&&t(s,!0)},Yu=(e,t)=>{const n=(new DOMParser).parseFromString(e,xu),r=n.querySelector("script");r&&r.setAttribute("nonce",Ol());const a=De("iframe",{src:URL.createObjectURL(new Blob([n.documentElement.outerHTML],{type:"text/html"})),id:Qu});return a.addEventListener("load",(()=>{const{addEventListener:e}=a.contentDocument||a.contentWindow.document;e("click",t)})),a},Wu=(e,t,n,r)=>{[{id:zu,element:r},{id:Gu,element:n},{id:Qu,element:e}].forEach((({id:e,element:n})=>{const{style:r={},params:a={}}=t[e];Object.assign(n.style,r);const{parentElement:o="body",insertionMethod:i="appendChild",enabled:s=!0}=a,c=document.querySelector(o);s&&c&&"function"==typeof c[i]&&c[i](n)}))},Ku=e=>{const{verticalAlign:t,width:n,horizontalAlign:r,backdropColor:a,height:o,cornerRadius:i,horizontalInset:s,verticalInset:c,uiTakeover:l=!1}=e,d={width:n?`${n}%`:"100%",backgroundColor:a||"rgba(0, 0, 0, 0.5)",borderRadius:i?`${i}px`:"0px",border:"none",position:l?"fixed":"relative",overflow:"hidden"};return"left"===r?d.left=s?`${s}%`:"0":"right"===r?d.right=s?`${s}%`:"0":"center"===r&&(d.left="50%",d.transform="translateX(-50%)"),"top"===t?d.top=c?`${c}%`:"0":"bottom"===t?(d.position="fixed",d.bottom=c?`${c}%`:"0"):"center"===t&&(d.top="50%",d.transform=("center"===r?`${d.transform} `:"")+"translateY(-50%)",d.display="flex",d.alignItems="center",d.justifyContent="center"),d.height=o?`${o}vh`:"100%",d},Zu=e=>{const{backdropOpacity:t,backdropColor:n}=e;return{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",background:"transparent",opacity:t||.5,backgroundColor:n||"#FFFFFF"}},ep=["enabled","parentElement","insertionMethod"],tp=e=>{if(!e)return!1;const t=Object.keys(e);if(!t.includes(Gu))return!1;if(!t.includes(zu))return!1;const n=Object.values(e);for(let e=0;e<n.length;e+=1){if(!Cr(n[e],"style"))return!1;if(!Cr(n[e],"params"))return!1;for(let t=0;t<ep.length;t+=1)if(!Cr(n[e].params,ep[t]))return!1}return!0},np=e=>{if(!e)return;const{uiTakeover:t=!1}=e;return{[Qu]:{style:{border:"none",width:"100%",height:"100%"},params:{enabled:!0,parentElement:"#alloy-messaging-container",insertionMethod:"appendChild"}},[Gu]:{style:Ku(e),params:{enabled:!0,parentElement:"body",insertionMethod:"appendChild"}},[zu]:{style:Zu(e),params:{enabled:!0===t,parentElement:"body",insertionMethod:"appendChild"}}}},rp=(e={},t)=>{Xu();const{content:n,contentType:r,mobileParameters:a}=e;let{webParameters:o}=e;if(r!==xu)return;const i=De("div",{id:Gu}),s=Yu(n,Ju(t)),c=De("div",{id:zu});tp(o)||(o=np(a)),o&&Wu(s,o,i,c)};var ap=(e,t)=>new Promise((n=>{const{meta:r}=e;rp(e,((e,n)=>{const a={};a[Wc.INTERACT]=Yc,-1!==Object.values(Wc).indexOf(e)&&(a[e]=Yc),t({decisionsMeta:[r],propositionAction:n,eventType:zc,propositionEventTypes:Object.keys(a)})})),n({meta:r})})),op=e=>({defaultContent:t=>ap(t,e)}),ip=(e,t)=>(n,r,a)=>{if(!n)return()=>{};if(!r){const e=ye();return t.concat(e.promise),e.resolve}return(t=[],n=[])=>{_e(t)&&e({decisionsMeta:t,viewName:a}),_e(n)&&e({decisionsMeta:n,eventType:Jc,propositionAction:{reason:"Conflict"},viewName:a})}},sp=({showContainers:e,consent:t})=>()=>{const{state:n,wasSet:r}=t.current();n===qr&&r?e():t.awaitConsent().catch(e)};const cp=e=>{const{documentElement:t}=document;let n=e;const r=new Set;let a,o;for(;n&&n!==t&&!(n instanceof ShadowRoot);){const e=yl(n,wu);e&&r.add(e),a=a||yl(n,Eu),o=o||yl(n,Cu),n=n.parentNode}return{interactIds:[...r],clickLabel:a,clickToken:o}},lp=e=>{const t=e.find((e=>e.scopeType===qd));return t?t.scope:void 0},dp=(e,t,n)=>r=>{const{scopeDetails:a={}}=r,{decisionProvider:o}=a;return e[o]===hu||e[o]===bu&&(t||n)};var up=(e,t,n)=>{const{interactIds:r,clickLabel:a="",clickToken:o}=cp(e),i=dp(n,a,o);if(0===r.length)return{};const s=t(r).filter(i);return{decisionsMeta:$d(s),propositionActionLabel:a,propositionActionToken:o,viewName:lp(s)}};const pp="AJO",gp="TGT",fp=({config:e,logger:t,eventManager:n,consent:r})=>{const{targetMigrationEnabled:a,prehidingStyle:o,autoCollectPropositionInteractions:i}=e,s=Rd({eventManager:n,mergeDecisionsMeta:zd}),c=td(t),l=ed(t),{storeInteractionMeta:d,getInteractionMetas:u}=eu(),{storeClickMeta:p,getClickSelectors:g,getClickMetas:f}=Zd(),m=ou({window:window}),h=_d(),y=pu([uu,cu]),b=gu({preprocess:y,isPageWideSurface:Lc}),v=Yd({createProposition:b}),w=Hu(window),E={[Ac]:mu,[_c]:Ou({modules:h,logger:t,storeInteractionMeta:d,storeClickMeta:p,autoCollectPropositionInteractions:i}),[Rc]:Tu({modules:h,logger:t,storeInteractionMeta:d,autoCollectPropositionInteractions:i}),[Nc]:ju({logger:t,executeRedirect:w,collect:s}),[qc]:$u({modules:op(s),logger:t})},C=Au({schemaProcessors:E,logger:t}),D=fu(),I=ip(s,D),S=Md({prehidingStyle:o,showContainers:c,hideContainers:l,mergeQuery:Qd,processPropositions:C,createProposition:b,notificationHandler:I,consent:r,logger:t}),k=Jd({mergeDecisionsMeta:zd,collectInteractions:up,collectClicks:Hd,getInteractionMetas:u,getClickMetas:f,getClickSelectors:g,autoCollectPropositionInteractions:i}),P=Wd({processPropositions:C,viewCache:v,logger:t}),O=au({processPropositions:C,createProposition:b,renderedPropositions:D,viewCache:v}),T=iu({targetMigrationEnabled:a}),L=Ru({processPropositions:C,createProposition:b,notificationHandler:I}),j=sp({showContainers:c,consent:r});return al({getPageLocation:m,logger:t,fetchDataHandler:S,viewChangeHandler:P,onClickHandler:k,isAuthoringModeEnabled:Gd,mergeQuery:Qd,viewCache:v,showContainers:c,applyPropositions:O,setTargetMigration:T,mergeDecisionsMeta:zd,renderedPropositions:D,onDecisionHandler:L,handleConsentFlicker:j})};fp.namespace="Personalization";const mp=vu.map((e=>vr(e)));fp.configValidators=Cr({prehidingStyle:Dr().nonEmpty(),targetMigrationEnabled:yr().default(!1),autoCollectPropositionInteractions:Cr({[pp]:fr(mp).default(hu),[gp]:fr(mp).default(yu)}).default({[pp]:hu,[gp]:yu}).noUnknownFields()});const hp="personalization:decisions",yp=e=>null!==e&&"object"==typeof e&&Object.getPrototypeOf(e)===Object.prototype,bp=(e,t={},n=[])=>(Object.keys(e).forEach((r=>{yp(e[r])||Array.isArray(e[r])?bp(e[r],t,[...n,r]):t[[...n,r].join(".")]=e[r]})),t);var vp=e=>yp(e)?bp(e):e,wp=({renderDecisions:e,decisionProvider:t,applyResponse:n,event:r,personalization:a,decisionContext:o})=>{const i={...vp(r.getContent()),...o};return({response:o})=>{if(t.addPayloads(o.getPayloadsByType(hp)),!r.hasQuery())return{propositions:[]};const s=t.evaluate(i);return n({renderDecisions:e,propositions:s,event:r,personalization:a})}};const Ep={MATCHER:"matcher",GROUP:"group",HISTORICAL:"historical"},Cp={EQUALS:"eq",NOT_EQUALS:"ne",EXISTS:"ex",NOT_EXISTS:"nx",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"ge",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"le",CONTAINS:"co",NOT_CONTAINS:"nc",STARTS_WITH:"sw",ENDS_WITH:"ew"},Dp={AND:"and",OR:"or"},Ip={ORDERED:"ordered"},Sp={[Cp.EQUALS]:d(),[Cp.NOT_EQUALS]:u(),[Cp.EXISTS]:p(),[Cp.NOT_EXISTS]:g(),[Cp.GREATER_THAN]:m(),[Cp.GREATER_THAN_OR_EQUAL_TO]:h(),[Cp.LESS_THAN]:y(),[Cp.LESS_THAN_OR_EQUAL_TO]:b(),[Cp.CONTAINS]:v(),[Cp.NOT_CONTAINS]:w(),[Cp.STARTS_WITH]:E(),[Cp.ENDS_WITH]:C()},kp="eventId",Pp="eventType",Op=["iam.eventType",Pp,"type"],Tp=["iam.id","id"],Lp=(e,t,n)=>{switch(t){case Cp.GREATER_THAN:return e>n;case Cp.GREATER_THAN_OR_EQUAL_TO:return e>=n;case Cp.LESS_THAN:return e<n;case Cp.LESS_THAN_OR_EQUAL_TO:return e<=n;case Cp.EQUALS:return e===n;case Cp.NOT_EQUALS:return e!==n;default:return!1}},jp=(e,t)=>{for(let n=0;n<t.length;n+=1)if(!I(e[t[n]]))return t[n];throw new Error("The event does not match the expected schema.")},Ap=e=>{const t=structuredClone(e);return[[jp(t,Op),Pp],[jp(t,Tp),kp]].forEach((([e,n])=>{e!==n&&(t[n]=t[e],delete t[e])})),t},_p="TGT",Rp="DEFAULT",xp="ECID",Mp="<key>",Np="<identity>",qp=J(W,(e=>e.join("-"))),Vp=100,Up=J(K);var $p=e=>{const t=structuredClone(e),n=Object.keys(t).sort().reduce(((e,n)=>{const r=t[n];return null==r||""===r?e:e+=`${n}:${r}`}),"");return pt(n)},Fp=e=>{const t=new Date;return t.setDate(t.getDate()-e),t};const Bp=1e3,Hp=30,Gp="events",zp=2097152;var Qp=(e=Hp,t=Bp)=>n=>{let r=Object.entries(n).reduce(((e,[t,{timestamps:n=[]}])=>(n.forEach((n=>{e.push({key:t,timestamp:n})})),e)),[]);const a=Fp(e);return r=r.filter((({timestamp:e})=>e>=a)),r.sort(((e,t)=>e.timestamp-t.timestamp)),r=r.slice(-t),r.reduce(((e,{key:t,timestamp:n})=>(e[t]||(e[t]={timestamps:[]}),e[t].timestamps.push(n),e)),{})},Xp=e=>{const{_experience:t}=e||{};return!!t&&"object"==typeof t};const Jp=e=>e?.scopeDetails?.activity?.id,Yp=e=>e?.scopeDetails?.decisionProvider,Wp=(e,t)=>n=>{try{const n=e.getItem(t);return[JSON.parse(n),n.length]}catch{}return[n,0]},Kp=(e,t=(e=>e))=>n=>{e.setItem(t,JSON.stringify(n))},Zp=()=>{const e={};return{getItem:t=>t in e?e[t]:null,setItem:(t,n)=>{e[t]=n}}},eg=e=>{e.clear()};var tg=(e=[])=>Array.isArray(e)?e.flat(1/0):e,ng=(e,t,n)=>{const{html:r,mobileParameters:a}=n;return{schema:qc,data:{mobileParameters:a,webParameters:{},content:r,contentType:xu},id:e}},rg=(e,t,n)=>{const{schema:r,data:a,id:o}=n;return{schema:r,data:a,id:o||e}};const ag="cjmiam",og="schema",ig={[ag]:ng,[og]:rg};var sg=()=>e=>{const{id:t,type:n,detail:r}=e;return"function"==typeof ig[n]?ig[n](t,n,r):r};const cg=e=>{const{schema:t,data:n}=e;if(t===Mc)return!0;if(t!==xc)return!1;try{const e="string"==typeof n.content?JSON.parse(n.content):n.content;return e&&Object.prototype.hasOwnProperty.call(e,"version")&&Object.prototype.hasOwnProperty.call(e,"rules")}catch{return!1}};var lg=(e,t)=>{const n=sg(),r=Jp(e),a=[],o=e=>{const{data:t={},schema:n}=e,r=n===Mc?t:t.content;r&&a.push(ae("string"==typeof r?JSON.parse(r):r,{generateEventHash:$p}))},i=o=>{const i=t.getEvent(Gc,r),s=i?.timestamps[0],c=tg(a.map((e=>e.execute(o)))).map(n).map((e=>{const n=t.addEvent({eventType:Wc.TRIGGER,eventId:r}).timestamps[0];return{...e,data:{...e.data,qualifiedDate:n,displayedDate:s}}}));return{...e,items:c}};return Array.isArray(e.items)&&e.items.filter(cg).forEach(o),{rank:e?.scopeDetails?.rank||1/0,evaluate:i,isEvaluable:a.length>0}},dg=({eventRegistry:e})=>{const t={},n=n=>{const r=Jp(n);if(!r)return;const a=lg(n,e);a.isEvaluable&&(t[r]=a)};return{addPayload:n,addPayloads:e=>{e.forEach(n)},evaluate:(e={})=>Object.values(t).sort((({rank:e},{rank:t})=>e-t)).map((t=>t.evaluate(e))).filter((e=>e.items.length>0))}},ug=e=>({renderDecisions:t=!1,propositions:n=[],event:r,personalization:a})=>(e&&e.onDecision({renderDecisions:t,propositions:n,event:r,personalization:a}),{propositions:n}),pg=({storage:e,logger:t})=>{let n,r,a,o,i=e;const s=e=>{if(i=e,n=Wp(i,Gp),r=Kp(i,Gp),[a,o]=n({}),o>zp){const e=Qp();a=e(a),r(a)}};s(e);const c=(e={})=>{const{eventType:n,eventId:o}=e;if(!n||!o)return;const i=(new Date).getTime(),s=$p(e);return a[s]&&Array.isArray(a[s].timestamps)||(a[s]={timestamps:[]}),a[s].timestamps.push(i),a[s].timestamps.sort(),t.info("[Event History] Added event for",e,"with hash",s,"and timestamp",i),r(a),a[s]};return{addExperienceEdgeEvent:e=>{const{xdm:t}=e.getContent();if(!Xp(t))return;const{_experience:{decisioning:{propositionEventType:n={},propositionAction:{id:r}={},propositions:a=[]}={}}}=t;Object.keys(n).filter((e=>n[e]===Yc)).forEach((e=>{a.forEach((t=>{Yp(t)===pp&&c({eventId:Jp(t),eventType:e,action:r})}))}))},addEvent:c,getEvent:(e,t)=>{const n=$p({eventType:e,eventId:t});if(a[n])return a[n]},toJSON:()=>a,setStorage:s}},gg=({eventRegistry:e,window:t,getBrowser:n})=>{const r=(new Date).getTime(),a=()=>({title:t.title,url:t.url,...Jt(t.url)}),o=()=>({url:t.referrer,...Jt(t.referrer)}),i=()=>{const e=new Date,t=e.getTime();return{pageLoadTimestamp:r,currentTimestamp:t,currentDate:e.getDate(),"~state.com.adobe.module.lifecycle/lifecyclecontextdata.dayofweek":e.getDay()+1,"~state.com.adobe.module.lifecycle/lifecyclecontextdata.hourofday":e.getHours(),currentMinute:e.getMinutes(),currentMonth:e.getMonth(),currentYear:e.getFullYear(),pageVisitDuration:t-r,"~timestampu":t/1e3,"~timestampz":e.toISOString()}},s=()=>({height:t.height,width:t.width,scrollY:t.scrollY,scrollX:t.scrollX}),c={browser:{name:n()},page:a(),referringPage:o()},l=()=>({...c,...i(),window:s(),"~sdkver":vo});return{getContext:(t={})=>{const n={...l(),...t};return{...vp(n),events:e.toJSON()}}}};const fg=(e,...t)=>t,mg=()=>!0,hg=()=>{let e=fg,t=mg,n=0;const r={},a=e=>()=>{delete r[e]},o=(e,t)=>"function"!=typeof e?()=>{}:(n+=1,r[n]={callback:e,params:t},{id:n,unsubscribe:a(n)}),i=(...n)=>{Object.values(r).forEach((({callback:r,params:a})=>{const o=e(a,...n);t(a,...o)&&r(...o)}))},s=(n,...a)=>{if(!n||!r[n])return;const{callback:o,params:i}=r[n],s=e(i,...a);t(i,...s)&&o(...s)};return{add:o,emit:i,emitOne:s,hasSubscriptions:()=>Object.keys(r).length>0,setEmissionPreprocessor:t=>{"function"==typeof t&&(e=t)},setEmissionCondition:e=>{"function"==typeof e&&(t=e)}}},yg=({options:e})=>Cr({surfaces:hr(Dr()).uniqueItems(),schemas:hr(Dr()).uniqueItems(),callback:br().required()}).noUnknownFields()(e),bg=e=>{const{id:t,scope:n,scopeDetails:r}=e;return{id:t,scope:n,scopeDetails:r}};var vg=({collect:e})=>{let t=()=>{};const n=new Set,r=e=>[Wc.INTERACT,Wc.DISMISS].includes(e),a=(e,t,a)=>{const o=[e,t].join("-"),i=!a.has(o)&&(r(e)||!n.has(o));return a.add(o),n.add(o),i},o=(t,n=[])=>{if(!(n instanceof Array))return Promise.resolve();if(!Object.values(Wc).includes(t))return Promise.resolve();const r=[],o=new Set;return n.forEach((e=>{const n=bg(e);a(t,n.id,o)&&r.push(n)})),r.length>0?e({decisionsMeta:r,eventType:tl(t),documentMayUnload:!0}):Promise.resolve()},i=hg(),s=(e,t)=>{const{surfacesFilter:n,schemasFilter:r}=e;return[{propositions:t.filter((e=>!n||n.includes(e.scope))).map((e=>{const{items:t=[]}=e;return{
...e,items:t.filter((e=>!r||r.includes(e.schema)))}})).filter((e=>e.items.length>0))},o]};i.setEmissionPreprocessor(s);const c=({surfaces:e,schemas:n,callback:r})=>{const{id:a,unsubscribe:o}=i.add(r,{surfacesFilter:e instanceof Array?e:void 0,schemasFilter:n instanceof Array?n:void 0});return t(a),Promise.resolve({unsubscribe:o})};return{refresh:e=>{t=t=>{t?i.emitOne(t,e):i.emit(e)},t()},command:{optionsValidator:e=>yg({options:e}),run:c}}};const wg={TYPE:"~type",SOURCE:"~source"},Eg={EDGE:"com.adobe.eventType.edge",RULES_ENGINE:"com.adobe.eventType.rulesEngine"},Cg={REQUEST:"com.adobe.eventSource.requestContent"},Dg=({options:e})=>Cr({renderDecisions:yr(),personalization:Cr({decisionContext:Cr({})})}).noUnknownFields()(e);var Ig=({contextProvider:e,decisionProvider:t})=>({optionsValidator:e=>Dg({options:e}),run:({renderDecisions:n,decisionContext:r,applyResponse:a})=>a({renderDecisions:n,propositions:t.evaluate(e.getContext(r))})});const Sg=({config:e,eventManager:t,createNamespacedStorage:n,consent:r,getBrowser:a,logger:o})=>{const{orgId:i,personalizationStorageEnabled:s}=e,c=Rd({eventManager:t,mergeDecisionsMeta:zd}),l=n(`${bt(i)}.decisioning.`);s||eg(l.persistent);const d=pg({storage:Zp(),logger:o}),u=dg({eventRegistry:d}),p=gg({eventRegistry:d,window:window,getBrowser:a}),g=Ig({contextProvider:p,decisionProvider:u}),f=vg({collect:c});let m;return{lifecycle:{onDecision({propositions:e}){f.refresh(e)},onComponentsRegistered(e){m=ug(e.lifecycle),s&&r.awaitConsent().then((()=>{d.setStorage(l.persistent)})).catch((()=>{l&&eg(l.persistent)}))},onBeforeEvent({event:e,renderDecisions:t,personalization:n={},onResponse:r=zt}){const{decisionContext:a={}}=n;r(wp({renderDecisions:t,decisionProvider:u,applyResponse:m,event:e,personalization:n,decisionContext:p.getContext({[wg.TYPE]:Eg.EDGE,[wg.SOURCE]:Cg.REQUEST,...a})}))},onBeforeRequest({request:e}){const t=e.getPayload().toJSON(),{events:n=[]}=t;0!==n.length&&n.forEach((e=>d.addExperienceEdgeEvent(e)))}},commands:{evaluateRulesets:{run:({renderDecisions:e,personalization:t={}})=>{const{decisionContext:n={}}=t;return g.run({renderDecisions:e,decisionContext:{[wg.TYPE]:Eg.RULES_ENGINE,[wg.SOURCE]:Cg.REQUEST,...n},applyResponse:m})},optionsValidator:g.optionsValidator},subscribeRulesetItems:f.command}}};Sg.namespace="RulesEngine",Sg.configValidators=Cr({personalizationStorageEnabled:yr().default(!1)});var kg=Cr({streamingMedia:Cr({channel:Dr().nonEmpty().required(),playerName:Dr().nonEmpty().required(),appVersion:Dr(),mainPingInterval:wr().minimum(10).maximum(50).default(10),adPingInterval:wr().minimum(1).maximum(10).default(10)}).noUnknownFields()}),Pg=({options:e})=>fr([Cr({playerId:Dr().required(),getPlayerDetails:br().required(),xdm:Cr({mediaCollection:Cr({sessionDetails:Cr(mr()).required()})}),edgeConfigOverrides:Cr({})}).required(),Cr({xdm:Cr({mediaCollection:Cr({playhead:wr().required(),sessionDetails:Cr(mr()).required()})}),edgeConfigOverrides:Cr({})}).required()],"Error validating the createMediaSession command options.")(e),Og=({options:e})=>fr([Cr({playerId:Dr().required(),xdm:Cr({eventType:Ir(...Object.values(Fs)).required(),mediaCollection:Cr(mr())}).required()}).required(),Cr({xdm:Cr({eventType:Ir(...Object.values(Fs)).required(),mediaCollection:Cr({playhead:wr().integer().required(),sessionID:Dr().required()}).required()}).required()}).required()],"Error validating the sendMediaEvent command options.")(e),Tg=({config:e,trackMediaEvent:t,trackMediaSession:n,mediaResponseHandler:r})=>({lifecycle:{onBeforeEvent({mediaOptions:e,onResponse:t=zt}){if(!e)return;const{legacy:n,playerId:a,getPlayerDetails:o}=e;n||t((({response:e})=>r({playerId:a,getPlayerDetails:o,response:e})))}},commands:{createMediaSession:{optionsValidator:e=>Pg({options:e}),run:n},sendMediaEvent:{optionsValidator:e=>Og({options:e}),run:n=>e.streamingMedia?t(n):Promise.reject(new Error("Streaming media is not configured."))}}});const Lg=({config:e,logger:t,eventManager:n,sendEdgeNetworkRequest:r,consent:a})=>{const o=zs(),i=Hs({config:e,eventManager:n,consent:a,sendEdgeNetworkRequest:r,setTimestamp:yo((()=>new Date))}),s=Xs({mediaSessionCacheManager:o,mediaEventManager:i,config:e}),c=Js({config:e,mediaEventManager:i,mediaSessionCacheManager:o}),l=Ws({mediaSessionCacheManager:o,config:e,trackMediaEvent:s});return Tg({config:e,trackMediaEvent:s,mediaResponseHandler:l,trackMediaSession:c})};Lg.namespace="Streaming media",Lg.configValidators=kg;const{console:jg}=window,Ag=qt(window),_g=(e={})=>{const t=Cr({name:Dr().default("alloy"),monitors:hr(Cr({})).default([]),components:hr(br())}).noUnknownFields(),{name:n,monitors:r,components:a}=t(e),o=Or({console:jg,locationSearch:window.location.search,createLogger:ba,instanceName:n,createNamespacedStorage:Ag,getMonitors:lo.bind(null,r)}),i=Ri({instanceName:n,logController:o,components:a});return o.logger.logOnInstanceCreated({instance:i}),i};t.createCustomInstance=_g,t.components=[Is,Os,Us,pc,fp,Sg,Lg]}},"adobe-alloy/dist/lib/instanceManager/createInstanceManager.js":{script:function(e){"use strict";e.exports=({turbine:e,window:t,createCustomInstance:n,components:r,createEventMergeId:a,orgId:o,wrapOnBeforeEventSend:i,getConfigOverrides:s})=>{const{instances:c}=e.getExtensionSettings(),l={},d={};return t.__alloyMonitors=t.__alloyMonitors||[],t.__alloyMonitors.push({onInstanceCreated:(...e)=>{d.onInstanceCreated||=[],d.onInstanceCreated.push(e)},onInstanceConfigured:(...e)=>{d.onInstanceConfigured||=[],d.onInstanceConfigured.push(e)},onBeforeCommand(...e){const{commandName:t}=e[0];"configure"===t&&(d.onBeforeCommand||=[],d.onBeforeCommand.push(e))}}),c.forEach((({name:a,edgeConfigId:c,stagingEdgeConfigId:d,developmentEdgeConfigId:u,onBeforeEventSend:p,...g})=>{const f=n({name:a,components:r});t[a]=f,t.__alloyNS||(t.__alloyNS=[]),t.__alloyNS.push(a),l[a]=f;const m=e.environment&&e.environment.stage,h="development"===m&&u||"staging"===m&&d||c;g.edgeConfigOverrides=s(g),f("configure",{...g,datastreamId:h,debugEnabled:e.debugEnabled,orgId:g.orgId||o,onBeforeEventSend:i(p)}),e.onDebugChanged((e=>{f("setDebug",{enabled:e})}))})),{getInstance:e=>l[e],createEventMergeId:()=>a(),addMonitor(e){t.__alloyMonitors.push(e),Object.keys(d).forEach((t=>{e[t]&&d[t].forEach((n=>{e[t](...n)}))}))}}}}},"adobe-alloy/dist/lib/instanceManager/injectWrapOnBeforeEventSend.js":{script:function(e){"use strict";e.exports=({version:e})=>t=>n=>{if(n.xdm.implementationDetails.name=`${n.xdm.implementationDetails.name}/reactor`,n.xdm.implementationDetails.version=`${n.xdm.implementationDetails.version}+${e}`,t)return t(n)}}},"adobe-alloy/dist/lib/createEventMergeIdCache.js":{script:function(e){"use strict";e.exports=()=>{const e={};return{set(t,n){e[t]=n},getByCacheId:t=>e[t],clearByEventMergeId(t){Object.keys(e).forEach((n=>{e[n]===t&&delete e[n]}))}}}}},"adobe-alloy/dist/lib/createSendEventCallbackStorage.js":{script:function(e){"use strict";e.exports=()=>{const e=[];return{add(t){e.push(t)},triggerEvent(t){e.forEach((e=>{e(t)}))}}}}},"adobe-alloy/dist/lib/createMediaCollectionSessionStorage.js":{script:function(e){"use strict";e.exports=()=>{const e={};return{add({playerId:t,sessionDetails:n}){if(e[t])throw new Error(`Player Id ${t} already exists`);e[t]=n},remove({playerId:t}){e[t]=void 0},get:({playerId:t})=>e[t]}}}},"adobe-alloy/dist/lib/createVariableStore.js":{script:function(e){"use strict";e.exports=()=>({})}}}}},company:{orgId:"11B20CF953F3626B0A490D44@AdobeOrg",dynamicCdnEnabled:!1},property:{name:"Qantas.com Rebuild Project",settings:{domains:["qantas.com"],undefinedVarsReturnEmpty:!1,ruleComponentSequencingEnabled:!0},id:"PRf4f11ebbf9b94a3ba6c9604c8f24d217"},rules:[{id:"RL1a0fb48c22624d82b140ed0bec4d4973",name:"Q.com | Custom Event | Return Home Click [AA]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"return_home_click"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM | Merge | Global Event + Return Home Click%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL1eefa148416c472b9984c8f4757cfc6c",name:"Q.com | Custom Event | Link Click [AA]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"link_click"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM | Merge | Global Event + Link Click%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL49b2ed9029214f678aa3103c67d3f8f6",name:"Q.com | Custom Event | Back To Top Click [AA]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"back_to_top_click"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM | Merge | Global Event + Back To Top Click%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL6351ca34e61f4d57bbedc1a2dba291b8",name:"Q.com | Custom Event | Tab Click [AA]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tab_click"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM | Merge | Global Event + Tab Click%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL8be7e3dd3e414b00a82511566f22f911",name:"Q.com | Custom Event | Banner Click [AA]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"banner_click"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM | Merge | Global Event + Banner Click%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RLb1408b2f1b7b4482927b88913340ac38",name:"Q.com | Custom Event | Page View [AA]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"page_view"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM | Merge | Global Event + Page View%",type:"web.webpagedetails.pageViews",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RLc5a3c3e0bed44831a17c60cff00f5bc8",name:"Q.com | Custom Event | Nav Shopping Cart Click [AA",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'[aria-controls="shopping-cart-window"][aria-expanded="false"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM | Merge | Global Event + Nav Shopping Cart%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RLec1f1d52b18f43978c83fbe2926229e1",name:"Q.com | Custom Event | Menu Click [AA]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"menu_click"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM | Merge | Global Event + Menu Click%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RLf568e06c66004ee8ae8921e967a710bd",name:"Q.com | Custom Event | Block Card Click [AA]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"block_card_click"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM | Merge | Global Event + Block Card Click%",type:"web.webinteraction.linkClicks",instanceName:"alloy"},timeout:2e3,delayNext:!0}]}]};var _satellite=function(){"use strict";function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function t(e){return"[object Object]"===Object.prototype.toString.call(e)}function n(e){var n,r;return!1!==t(e)&&(void 0===(n=e.constructor)||!1!==t(r=n.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf"))}function r(e){return"string"==typeof e&&-1!==e.indexOf("[")&&-1!==e.indexOf("]")}function a(e){return e.substr(0,e.indexOf("["))}function o(e,t,n){if(e.length&&ut(t)){var i=e[0];if(1!==e.length){var s=e.slice(1);if(!r(i))return o(s,t[i],n);var c=t[i=a(i)];Array.isArray(c)&&c.forEach((function(e){return o(s,e,n)}))}else t.hasOwnProperty(i)&&"string"==typeof t[i]&&(t[i]=n(t[i]))}}if(window.atob){var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},s=document,c=Object.assign,l=window,d=l,u=function(e,t,n,r){var a,o=Boolean(t&&Array.isArray(n)),i=Boolean(o&&e),s=document.createElement("a");if(o){var c=function(){var e=new Error("Unable to find the Library Embed Code for Dynamic Host Resolution.");throw e.code="dynamic_host_resolver_constructor_error",e};if(e&&(/^((https?:)?\/\/).+/.test(e)||c(),/^\/\/.+/.test(e)?s.href=d.location.protocol+e:s.href=e),s.hostname||c(),-1===n.indexOf(s.hostname)){var l=new Error("This library is not authorized for this domain. Please contact your CSM for more information.");throw l.code="dynamic_host_not_allowed",l}}var u=function(){if(null!=a)return a;if(i){var e=s.host;/:80$/.test(e)?e=e.replace(":80",""):/:80\/$/.test(e)?e=e.replace(":80/",""):/:443$/.test(e)?e=e.replace(":443",""):/:443\/$/.test(e)&&(e=e.replace(":443/","")),a=s.protocol+"//"+e}else a="";return a},p=function(e){return i&&"string"==typeof e?[u(),"/"===e.charAt(0)?e.slice(1):e].join("/"):e},g={getTurbineHost:u,decorateWithDynamicHost:p,get isDynamicEnforced(){return o}};return d&&r.onDebugChanged((function(e){e?d.dynamicHostResolver=g:delete d.dynamicHostResolver})),g},p=function(e){var t=[];return e.forEach((function(e){e.events&&e.events.forEach((function(n){t.push({rule:e,event:n})}))})),t.sort((function(e,t){return e.event.ruleOrder-t.event.ruleOrder}))},g="debug",f=function(e,t){var n=function(){return"true"===e.getItem(g)},r=function(t){e.setItem(g,t)},a=[],o=function(e){a.push(e)};return t.outputEnabled=n(),{onDebugChanged:o,getDebugEnabled:n,setDebugEnabled:function(e){n()!==e&&(r(e),t.outputEnabled=e,a.forEach((function(t){t(e)})))}}},m="Module did not export a function.",h=function(e,t,n){return function(r,a,o){o=o||[];var i=e.getModuleExports(r.modulePath);if("function"!=typeof i)throw new Error(m);var s=e.getModuleDefinition(r.modulePath),c=r.settings||{};!r.hasTransformedFilePaths&&s.filePaths&&(n(c,s.filePaths,r.modulePath),r.hasTransformedFilePaths=!0);var l=t(c,a);return i.bind(null,l).apply(null,o)}},y=function(e){return"string"==typeof e?e.replace(/\s+/g," ").trim():e},b={LOG:"log",INFO:"info",DEBUG:"debug",WARN:"warn",ERROR:"error"},v="\ud83d\ude80",w=10===parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1])?"[Launch]":v,E=!1,C=function(e){if(E&&window.console){var t=Array.prototype.slice.call(arguments,1);t.unshift(w),e!==b.DEBUG||window.console[e]||(e=b.INFO),window.console[e].apply(window.console,t)}},D=C.bind(null,b.LOG),I=C.bind(null,b.INFO),S=C.bind(null,b.DEBUG),k=C.bind(null,b.WARN),P=C.bind(null,b.ERROR),O=function(){var e=E;E=!0,C.apply(null,Array.prototype.concat(b.WARN,Array.prototype.slice.call(arguments))),e||(E=!1)},T={log:D,info:I,debug:S,warn:k,error:P,deprecation:O,get outputEnabled(){return E},set outputEnabled(e){E=e},createPrefixedLogger:function(e){var t="["+e+"]";return{log:D.bind(null,t),info:I.bind(null,t),debug:S.bind(null,t),warn:k.bind(null,t),error:P.bind(null,t)}}},L=l,j="com.adobe.reactor.",A=function(e,t){var n=j+(t||"");return{getItem:function(t){try{return L[e].getItem(n+t)}catch(e){return null}},setItem:function(t,r){try{return L[e].setItem(n+t,r),!0}catch(e){return!1}}}},_=A,R="dataElements.",x=_("sessionStorage",R),M=_("localStorage",R),N={PAGEVIEW:"pageview",SESSION:"session",VISITOR:"visitor"},q={},V=function(e){var t;try{t=JSON.stringify(e)}catch(e){}return t},U=y,$=T,F={setValue:function(e,t,n){var r;switch(t){case N.PAGEVIEW:return void(q[e]=n);case N.SESSION:return void((r=V(n))&&x.setItem(e,r));case N.VISITOR:return void((r=V(n))&&M.setItem(e,r))}},getValue:function(e,t){var n;switch(t){case N.PAGEVIEW:return q.hasOwnProperty(e)?q[e]:null;case N.SESSION:return null===(n=x.getItem(e))?n:JSON.parse(n);case N.VISITOR:return null===(n=M.getItem(e))?n:JSON.parse(n)}}},B=function(e,t,n,r){return"Failed to execute data element module "+e.modulePath+" for data element "+t+". "+n+(r?"\n"+r:"")},H=function(e,t,n,r,a){return function(o,i){var s=t(o);if(!s)return r?"":void 0;var c,l,d=s.storageDuration;try{c=e.getModuleExports(s.modulePath),l=e.getModuleDefinition(s.modulePath)}catch(e){return void $.error(B(s,o,e.message,e.stack))}if("function"==typeof c){var u,p=s.settings||{};!s.hasTransformedFilePaths&&l.filePaths&&(a(p,l.filePaths,s.modulePath),s.hasTransformedFilePaths=!0);try{u=c(n(p,i),i)}catch(e){return void $.error(B(s,o,e.message,e.stack))}return d&&(null!=u?F.setValue(o,d,u):u=F.getValue(o,d)),null==u&&null!=s.defaultValue&&(u=s.defaultValue),"string"==typeof u&&(s.cleanText&&(u=U(u)),s.forceLowerCase&&(u=u.toLowerCase())),u}$.error(B(s,o,"Module did not export a function."))}},G=y,z={text:function(e){return e.textContent},cleanText:function(e){return G(e.textContent)}},Q=function(e,t,n){for(var r,a=e,o=0,i=t.length;o<i;o++){if(null==a)return;var s=t[o];if(n&&"@"===s.charAt(0)){var c=s.slice(1);a=z[c](a)}else if(a.getAttribute&&(r=s.match(/^getAttribute\((.+)\)$/))){var l=r[1];a=a.getAttribute(l)}else a=a[s]}return a},X=function(e,t,n){return function(r,a){var o;if(t(r))o=n(r,a);else{var i=r.split("."),s=i.shift();"this"===s?a&&(o=Q(a.element,i,!0)):"event"===s?a&&(o=Q(a,i)):"target"===s?a&&(o=Q(a.target,i)):o=Q(e[s],i)}return o}},J=function(e,t){return function(n){var r=n.split(".")[0];return Boolean(t(n)||"this"===r||"event"===r||"target"===r||e.hasOwnProperty(r))}},Y=function(e,t,n){var r={exports:{}};return e.call(r.exports,r,r.exports,t,n),r.exports},W=Y,K=T,Z=function(){var e={},t=function(t){var n=e[t];if(!n)throw new Error("Module "+t+" not found.");return n},n=function(){Object.keys(e).forEach((function(e){try{r(e)}catch(n){var t="Error initializing module "+e+". "+n.message+(n.stack?"\n"+n.stack:"");K.error(t)}}))},r=function(e){var n=t(e);return n.hasOwnProperty("exports")||(n.exports=W(n.definition.script,n.require,n.turbine)),n.exports};return{registerModule:function(t,n,r,a,o){var i={definition:n,extensionName:r,require:a,turbine:o};i.require=a,e[t]=i},hydrateCache:n,getModuleExports:r,getModuleDefinition:function(e){return t(e).definition},getModuleExtensionName:function(e){return t(e).extensionName}}},ee=T,te=!1,ne=function(e){return function(t,n){var r=e._monitors;r&&(te||(ee.warn("The _satellite._monitors API may change at any time and should only be used for debugging."),te=!0),r.forEach((function(e){e[t]&&e[t](n)})))}},re=T,ae=function(e,t,n){var r,a,o,i,s=[],c=function(r,a,o){if(!e(a))return r;s.push(a);var i=t(a,o);return s.pop(),null==i&&n?"":i};return r=function(e,t){var n=/^%([^%]+)%$/.exec(e);return n?c(e,n[1],t):e.replace(/%(.+?)%/g,(function(e,n){return c(e,n,t)}))},a=function(e,t){for(var n={},r=Object.keys(e),a=0;a<r.length;a++){var o=r[a],s=e[o];n[o]=i(s,t)}return n},o=function(e,t){for(var n=[],r=0,a=e.length;r<a;r++)n.push(i(e[r],t));return n},i=function(e,t){return"string"==typeof e?r(e,t):Array.isArray(e)?o(e,t):"object"==typeof e&&null!==e?a(e,t):e},function(e,t){return s.length>10?(re.error("Data element circular reference detected: "+s.join(" -> ")),e):i(e,t)}},oe=function(e){return function(){if("string"==typeof arguments[0])e[arguments[0]]=arguments[1];else if(arguments[0]){var t=arguments[0];for(var n in t)e[n]=t[n]}}},ie="undefined"!=typeof window&&window.Promise||void 0!==i&&i.Promise,se=ie,ce=function(e,t,n){return function(r,a,o,i){return i.then((function(){var i,s=r.delayNext;return new se((function(t,n){var a=e(r,o,[o]);if(!s)return t();var c=r.timeout,l=new se((function(e,t){i=setTimeout((function(){t(new Error("A timeout occurred because the action took longer than "+c/1e3+" seconds to complete. "))}),c)}));se.race([a,l]).then(t,n)})).catch((function(e){return clearTimeout(i),e=t(e),n(r,a,e),se.reject(e)})).then((function(){clearTimeout(i)}))}))}},le=ie,de=function(e,t,n,r,a){return function(o,i,s,c){return c.then((function(){var c;return new le((function(t,n){var r=e(o,s,[s]),a=o.timeout,i=new le((function(e,t){c=setTimeout((function(){t(new Error("A timeout occurred because the condition took longer than "+a/1e3+" seconds to complete. "))}),a)}));le.race([r,i]).then(t,n)})).catch((function(e){return clearTimeout(c),e=t(e),r(o,i,e),le.reject(e)})).then((function(e){if(clearTimeout(c),!n(o,e))return a(o,i),le.reject()}))}))}},ue=ie.resolve(),pe=function(e,t,n){return function(r,a){return r.conditions&&r.conditions.forEach((function(t){ue=e(t,r,a,ue)})),r.actions&&r.actions.forEach((function(e){ue=t(e,r,a,ue)})),ue=(ue=ue.then((function(){n(r)}))).catch((function(){}))}},ge=function(e){return Boolean(e&&"object"==typeof e&&"function"==typeof e.then)},fe=function(e,t,n,r){return function(a,o){var i;if(a.conditions)for(var s=0;s<a.conditions.length;s++){i=a.conditions[s];try{var c=e(i,o,[o]);if(ge(c))throw new Error("Rule component sequencing must be enabled on the property for this condition to function properly.");if(!t(i,c))return n(i,a),!1}catch(e){return r(i,a,e),!1}}return!0}},me=function(e,t){return function(n,r){e(n,r)&&t(n,r)}},he=function(e){return function(t){var n=e.getModuleDefinition(t.modulePath);return n&&n.displayName||t.modulePath}},ye=function(e){return function(t){var n=t.rule,r=t.event,a=e.getModuleDefinition(r.modulePath).name;return{$type:e.getModuleExtensionName(r.modulePath)+"."+a,$rule:{id:n.id,name:n.name}}}},be=function(e,t,n,r,a,o){return function(i,s){var c=s.rule,l=s.event;l.settings=l.settings||{};try{var d=a(s);t(l,null,[function(t){var r=n(d,t);i((function(){e(r,c)}))}])}catch(e){o.error(r(l,c,e))}}},ve=function(e,t,n,r){return function(a,o,i){var s=t(a);n.error(e(s,o.name,i)),r("ruleActionFailed",{rule:o,action:a})}},we=function(e,t,n,r){return function(a,o,i){var s=t(a);n.error(e(s,o.name,i)),r("ruleConditionFailed",{rule:o,condition:a})}},Ee=function(e,t,n){return function(r,a){var o=e(r);t.log('Condition "'+o+'" for rule "'+a.name+'" was not met.'),n("ruleConditionFailed",{rule:a,condition:r})}},Ce=function(e,t){return function(n){e.log('Rule "'+n.name+'" fired.'),t("ruleCompleted",{rule:n})}},De=function(e,t,n){return function(r,a){var o;if(r.actions)for(var i=0;i<r.actions.length;i++){o=r.actions[i];try{e(o,a,[a])}catch(e){return void t(o,r,e)}}n(r)}},Ie=function(e,t,n,r){return function(a,o){r("ruleTriggered",{rule:o}),e?n(o,a):t(o,a)}},Se=function(e,t,n){return'Failed to execute "'+e+'" for "'+t+'" rule. '+n.message+(n.stack?"\n"+n.stack:"")},ke=function(e,t){return t&&!e.negate||!t&&e.negate},Pe=[],Oe=!1,Te=function(e){Oe?e():Pe.push(e)},Le=function(e,t,n){e(t).forEach((function(e){n(Te,e)})),Oe=!0,Pe.forEach((function(e){e()})),Pe=[]},je=function(e){if(e||(e=new Error("The extension triggered an error, but no error information was provided.")),!(e instanceof Error)){var t="object"==typeof e?JSON.stringify(e):String(e);e=new Error(t)}return e},Ae={};Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.isPlainObject=n;var _e,Re=T,xe=c,{isPlainObject:Me}=Ae,Ne=function(e,t){return Me(t=t||{})?t=xe({},t,e):xe(t,e),t.hasOwnProperty("type")||Object.defineProperty(t,"type",{get:function(){return Re.deprecation("Accessing event.type in Adobe Launch has been deprecated and will be removed soon. Please use event.$type instead."),t.$type}}),t},qe=function(e,t){return function(n,r){var a=e[n];if(a){var o=a.modules;if(o)for(var i=Object.keys(o),s=0;s<i.length;s++){var c=i[s],l=o[c];if(l.shared&&l.name===r)return t.getModuleExports(c)}}}},Ve=function(e,t){return function(){return t?e(t):{}}},Ue=function(e,t,n){return function(r){if(n){var a=r.split(".");a.splice(a.length-1||1,0,"min"),r=a.join(".")}return e(t)+r}},$e=".js",Fe=function(e){return e.substr(0,e.lastIndexOf("/"))},Be=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},He=function(e,t){Be(t,$e)||(t+=$e);var n=t.split("/"),r=Fe(e).split("/");return n.forEach((function(e){e&&"."!==e&&(".."===e?r.length&&r.pop():r.push(e))})),r.join("/")},Ge={exports:{}};_e=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function n(r){function a(){}function o(t,n,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},a.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var i=JSON.stringify(n);/^[\{\[]/.test(i)&&(n=i)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in o)o[c]&&(s+="; "+c,!0!==o[c]&&(s+="="+o[c].split(";")[0]));return document.cookie=t+"="+n+s}}function i(e,n){if("undefined"!=typeof document){for(var a={},o=document.cookie?document.cookie.split("; "):[],i=0;i<o.length;i++){var s=o[i].split("="),c=s.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var l=t(s[0]);if(c=(r.read||r)(c,l)||t(c),n)try{c=JSON.parse(c)}catch(e){}if(a[l]=c,e===l)break}catch(e){}}return e?a[e]:a}}return a.set=o,a.get=function(e){return i(e,!1)},a.getJSON=function(e){return i(e,!0)},a.remove=function(t,n){o(t,"",e(n,{expires:-1}))},a.defaults={},a.withConverter=n,a}return n((function(){}))},Ge.exports=_e();var ze=Ge.exports,Qe={get:ze.get,set:ze.set,remove:ze.remove},Xe=ie,Je=function(e,t){return new Xe((function(n,r){t.onload=function(){n(t)},t.onerror=function(){r(new Error("Failed to load script "+e))}}))},Ye=function(e){var t={};if(!e||"string"!=typeof e)return t;var n=e.trim().replace(/^[?#&]/,""),r=new URLSearchParams(n),a=r.keys();do{var o=a.next(),i=o.value;if(i){var s=r.getAll(i);1===s.length?t[i]=s[0]:t[i]=s}}while(!1===o.done);return t},We=function(e){var t="{{space}}",n=new URLSearchParams;return Object.keys(e).forEach((function(r){var a=e[r];"string"==typeof e[r]?a=a.replace(/ /g,t):["object","undefined"].includes(typeof a)&&!Array.isArray(a)&&(a=""),Array.isArray(a)?a.forEach((function(e){n.append(r,e)})):n.append(r,a)})),n.toString().replace(new RegExp(encodeURIComponent(t),"g"),"%20")},Ke="@adobe/reactor-",Ze={cookie:Qe,document:s,"load-script":function(e){var t=document.createElement("script");t.src=e,t.async=!0;var n=Je(e,t);return document.getElementsByTagName("head")[0].appendChild(t),n},"object-assign":c,promise:ie,"query-string":{parse:function(e){return Ye(e)},stringify:function(e){return We(e)}},window:l},et=function(e){return function(t){if(0===t.indexOf(Ke)){var n=t.substr(Ke.length),r=Ze[n];if(r)return r}if(0===t.indexOf("./")||0===t.indexOf("../"))return e(t);throw new Error('Cannot resolve module "'+t+'".')}},tt=qe,nt=Ve,rt=Ue,at=T,ot=He,it=et,st=function(e,t,n,r,a,o,i){var s=e.extensions,c=e.buildInfo,l=e.environment,d=e.property.settings;if(s){var u=tt(s,t);Object.keys(s).forEach((function(p){var g=s[p],f=g.settings;Array.isArray(g.filePaths)&&(f=o(f,g.filePaths));var m=nt(r,f);if(g.modules){var h=at.createPrefixedLogger(g.displayName),y=rt(i,g.hostedLibFilesBaseUrl,c.minified),b={buildInfo:c,environment:l,property:{name:e.property.name,id:e.property.id},getDataElementValue:a,getExtensionSettings:m,getHostedLibFileUrl:y,getSharedModule:u,logger:h,propertySettings:d,replaceTokens:r,onDebugChanged:n.onDebugChanged,get debugEnabled(){return n.getDebugEnabled()}};Object.keys(g.modules).forEach((function(e){var n=g.modules[e],r=it((function(n){var r=ot(e,n);return t.getModuleExports(r)}));t.registerModule(e,n,p,r,b)}))}})),t.hydrateCache()}return t},ct=Qe,lt=T,dt=function(e,t,n,r,a){var o=lt.createPrefixedLogger("Custom Script");e.track=function(e){lt.log('"'+e+'" does not match any direct call identifiers.')},e.getVisitorId=function(){return null},e.property={name:t.property.name,id:t.property.id},e.company=t.company,e.buildInfo=t.buildInfo,e.environment=t.environment,e.logger=o,e.notify=function(e,t){switch(lt.deprecation("_satellite.notify is deprecated. Please use the `_satellite.logger` API."),t){case 3:o.info(e);break;case 4:o.warn(e);break;case 5:o.error(e);break;default:o.log(e)}},e.getVar=r,e.setVar=a,e.setCookie=function(e,t,n){var r="",a={};n&&(r=", { expires: "+n+" }",a.expires=n);var o='_satellite.setCookie is deprecated. Please use _satellite.cookie.set("'+e+'", "'+t+'"'+r+").";lt.deprecation(o),ct.set(e,t,a)},e.readCookie=function(e){return lt.deprecation('_satellite.readCookie is deprecated. Please use _satellite.cookie.get("'+e+'").'),ct.get(e)},e.removeCookie=function(e){lt.deprecation('_satellite.removeCookie is deprecated. Please use _satellite.cookie.remove("'+e+'").'),ct.remove(e)},e.cookie=ct,e.pageBottom=function(){},e.setDebug=n;var i=!1;Object.defineProperty(e,"_container",{get:function(){return i||(lt.warn("_satellite._container may change at any time and should only be used for debugging."),i=!0),t}})},{isPlainObject:ut}=Ae,pt=s,gt=c,ft=u,mt=p,ht=f,yt=h,bt=H,vt=X,wt=J,Et=Z,Ct=ne,Dt=ae,It=oe,St=ce,kt=de,Pt=pe,Ot=fe,Tt=me,Lt=he,jt=ye,At=be,_t=ve,Rt=we,xt=Ee,Mt=Ce,Nt=De,qt=Ie,Vt=Se,Ut=ke,$t=Le,Ft=je,Bt=Ne,Ht=A,Gt=st,zt=dt,Qt=function(e,t){return function(n,r,a){return e&&ut(n)&&Object.keys(n).length&&Array.isArray(r)&&r.length?(r.forEach((function(e){Boolean(null!=a&&/^core\/.*actions.*\/customCode\.js$/.test(a))&&"source"===e&&!n.isExternal||o(e.split("."),n,t)})),n):n}},Xt=T,Jt=window._satellite;if(Jt&&!window.__satelliteLoaded){window.__satelliteLoaded=!0;var Yt=Jt.container;delete Jt.container;var Wt=gt({},Yt.buildInfo);Object.defineProperty(Wt,"environment",{get:function(){return Xt.deprecation("container.buildInfo.environment is deprecated.Please use `container.environment.stage` instead"),Yt.environment.stage}}),Yt.buildInfo=Wt;var Kt,Zt=ht(Ht("localStorage"),Xt),en="";pt.currentScript&&pt.currentScript.getAttribute("src")&&(en=pt.currentScript.getAttribute("src"));try{Kt=ft(en,Boolean(Yt.company.dynamicCdnEnabled),Yt.company.cdnAllowList,Zt)}catch(e){throw Xt.warn("Please review the following error:"),e}var tn,nn=Qt(Kt.isDynamicEnforced,Kt.decorateWithDynamicHost),rn=Et(),an=Yt.property.settings.undefinedVarsReturnEmpty,on=Yt.property.settings.ruleComponentSequencingEnabled,sn=Yt.dataElements||{},cn=function(e){return sn[e]},ln=function(){return tn.apply(null,arguments)},dn=bt(rn,cn,ln,an,nn),un={},pn=It(un),gn=wt(un,cn),fn=vt(un,cn,dn);tn=Dt(gn,fn,an),zt(Jt,Yt,Zt.setDebugEnabled,fn,pn),Gt(Yt,rn,Zt,tn,dn,nn,Kt.decorateWithDynamicHost);var mn=Ct(Jt),hn=yt(rn,tn,nn),yn=Lt(rn),bn=xt(yn,Xt,mn),vn=Rt(Vt,yn,Xt,mn),wn=_t(Vt,yn,Xt,mn),En=Mt(Xt,mn),Cn=At(qt(on,Tt(Ot(hn,Ut,bn,vn),Nt(hn,wn,En)),Pt(kt(hn,Ft,Ut,vn,bn),St(hn,Ft,wn),En),mn),hn,Bt,Vt,jt(rn),Xt);$t(mt,Yt.rules||[],Cn)}return e(Jt)}console.warn("Adobe Launch is unsupported in IE 9 and below.")}();